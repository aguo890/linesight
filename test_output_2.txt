============================= test session starts =============================
platform win32 -- Python 3.13.5, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\19803\Projects\FactoryExcelManager\backend
configfile: pytest.ini
plugins: anyio-4.12.1, Faker-40.1.0, langsmith-0.6.1, asyncio-1.3.0, cov-7.0.0, mock-3.15.1
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 239 items

backend\tests\api\test_analytics_flaws.py::test_hourly_production_no_events_returns_zeros ERROR [  0%]
backend\tests\api\test_analytics_flaws.py::test_midnight_boundary_respects_timezone ERROR [  0%]
backend\tests\api\v1\test_factory_settings.py::test_factory_settings_localization_and_snapshot ERROR [  1%]
backend\tests\api\v1\test_team.py::test_list_members_as_owner ERROR      [  1%]
backend\tests\api\v1\test_team.py::test_list_members_as_manager_forbidden ERROR [  2%]
backend\tests\api\v1\test_team.py::test_assign_user_to_line ERROR        [  2%]
backend\tests\api\v1\test_team.py::test_remove_user_scope ERROR          [  2%]
backend\tests\api\v1\test_team.py::test_cannot_assign_cross_org_user ERROR [  3%]
backend\tests\api\v1\test_users.py::test_get_user_me ERROR               [  3%]
backend\tests\api\v1\test_users.py::test_update_user_me ERROR            [  4%]
backend\tests\api\v1\test_users.py::test_update_user_invalid_timezone ERROR [  4%]
backend\tests\api\v1\test_users.py::test_update_user_partial_preferences ERROR [  5%]
backend\tests\api\v1\test_users.py::test_update_user_invalid_preference_type ERROR [  5%]
backend\tests\e2e\test_excel_to_dashboard.py::test_e2e_excel_ingestion_and_dashboard ERROR [  5%]
backend\tests\test_api\test_ai_decisions.py::test_list_ai_decisions ERROR [  6%]
backend\tests\test_api\test_ai_decisions.py::test_list_ai_decisions_with_filters ERROR [  6%]
backend\tests\test_api\test_ai_decisions.py::test_get_ai_decision_by_id ERROR [  7%]
backend\tests\test_api\test_ai_decisions.py::test_get_ai_decision_not_found ERROR [  7%]
backend\tests\test_api\test_ai_decisions.py::test_get_data_source_ai_decisions ERROR [  7%]
backend\tests\test_api\test_ai_decisions.py::test_ai_decisions_pagination ERROR [  8%]
backend\tests\test_api\test_ai_decisions.py::test_ai_decisions_require_auth ERROR [  8%]
backend\tests\test_api\test_analytics_real.py::test_get_overview_stats_real ERROR [  9%]
backend\tests\test_api\test_analytics_real.py::test_get_production_chart_real ERROR [  9%]
backend\tests\test_api\test_analytics_real.py::test_get_lowest_performers_real ERROR [ 10%]
backend\tests\test_api\test_analytics_real.py::test_get_discrepancies_real ERROR [ 10%]
backend\tests\test_api\test_auth.py::test_login_success ERROR            [ 10%]
backend\tests\test_api\test_auth.py::test_login_invalid_password ERROR   [ 11%]
backend\tests\test_api\test_auth.py::test_login_user_not_found ERROR     [ 11%]
backend\tests\test_api\test_auth.py::test_register_success ERROR         [ 12%]
backend\tests\test_api\test_dashboard_creation_flow.py::test_complete_dashboard_creation_flow ERROR [ 12%]
backend\tests\test_api\test_dashboard_creation_flow.py::test_dashboard_creation_blocked_by_factory_quota ERROR [ 12%]
backend\tests\test_api\test_dashboard_creation_flow.py::test_dashboard_creation_blocked_by_line_quota SKIPPED [ 13%]
backend\tests\test_api\test_dashboard_creation_flow.py::test_multiple_dashboards_same_data_source ERROR [ 13%]
backend\tests\test_api\test_dashboard_creation_flow.py::test_list_dashboards_filtered_by_factory ERROR [ 14%]
backend\tests\test_api\test_dashboard_flow.py::test_edit_configuration ERROR [ 14%]
backend\tests\test_api\test_dashboard_flow.py::test_view_uploaded_files ERROR [ 15%]
backend\tests\test_api\test_dashboard_flow.py::test_upload_history_isolation ERROR [ 15%]
backend\tests\test_api\test_dashboard_flow.py::test_upload_history_simple_endpoint ERROR [ 15%]
backend\tests\test_api\test_dashboard_widgets.py::test_get_dhu_quality_trend ERROR [ 16%]
backend\tests\test_api\test_dashboard_widgets.py::test_get_style_progress ERROR [ 16%]
backend\tests\test_api\test_data_pipeline_robust.py::test_value_preservation_through_pipeline ERROR [ 17%]
backend\tests\test_api\test_data_pipeline_robust.py::test_date_format_handling ERROR [ 17%]
backend\tests\test_api\test_data_pipeline_robust.py::test_efficiency_normalization ERROR [ 17%]
backend\tests\test_api\test_data_pipeline_robust.py::test_null_handling ERROR [ 18%]
backend\tests\test_api\test_data_pipeline_robust.py::test_data_integrity_across_multiple_rows ERROR [ 18%]
backend\tests\test_api\test_data_pipeline_robust.py::test_style_and_order_creation ERROR [ 19%]
backend\tests\test_api\test_data_pipeline_robust.py::test_duplicate_upload_handling ERROR [ 19%]
backend\tests\test_api\test_data_pipeline_robust.py::test_multiple_widgets_receive_correct_data ERROR [ 20%]
backend\tests\test_api\test_data_pipeline_robust.py::test_invalid_data_handling ERROR [ 20%]
backend\tests\test_api\test_data_pipeline_robust.py::test_analytics_sum_matches_database ERROR [ 20%]
backend\tests\test_api\test_datasource.py::test_create_data_source ERROR [ 21%]
backend\tests\test_api\test_datasource.py::test_get_data_source ERROR    [ 21%]
backend\tests\test_api\test_datasource.py::test_get_data_source_by_line ERROR [ 22%]
backend\tests\test_api\test_datasource.py::test_update_schema_mapping ERROR [ 22%]
backend\tests\test_api\test_datasource.py::test_create_duplicate_data_source_fails ERROR [ 23%]
backend\tests\test_api\test_datasources_by_line.py::test_get_datasource_by_line_exists ERROR [ 23%]
backend\tests\test_api\test_datasources_by_line.py::test_get_datasource_by_line_none ERROR [ 23%]
backend\tests\test_api\test_datasources_by_line.py::test_get_datasource_cross_line_isolation ERROR [ 24%]
backend\tests\test_api\test_datasources_by_line.py::test_update_datasource ERROR [ 24%]
backend\tests\test_api\test_demo_pipeline.py::test_demo_full_pipeline_with_excel_file ERROR [ 25%]
backend\tests\test_api\test_demo_pipeline.py::test_demo_data_values_integrity ERROR [ 25%]
backend\tests\test_api\test_destructive_flows.py::test_delete_datasource_cascade ERROR [ 25%]
backend\tests\test_api\test_destructive_flows.py::test_clear_history_file_cleanup ERROR [ 26%]
backend\tests\test_api\test_destructive_flows.py::test_clear_history_missing_file ERROR [ 26%]
backend\tests\test_api\test_destructive_flows.py::test_permissions_restricted_delete ERROR [ 27%]
backend\tests\test_api\test_destructive_flows.py::test_deep_data_cleanup ERROR [ 27%]
backend\tests\test_api\test_destructive_flows.py::test_cross_tenant_isolation ERROR [ 28%]
backend\tests\test_api\test_destructive_flows.py::test_audit_logging_mock ERROR [ 28%]
backend\tests\test_api\test_dry_run_flow.py::test_dry_run_preview_structure ERROR [ 28%]
backend\tests\test_api\test_dry_run_flow.py::test_date_auto_fixing_detection ERROR [ 29%]
backend\tests\test_api\test_dry_run_flow.py::test_efficiency_percentage_cleaning ERROR [ 29%]
backend\tests\test_api\test_dry_run_flow.py::test_decimal_field_handling ERROR [ 30%]
backend\tests\test_api\test_dry_run_flow.py::test_integer_field_cleaning ERROR [ 30%]
backend\tests\test_api\test_dry_run_flow.py::test_column_mapping_application ERROR [ 30%]
backend\tests\test_api\test_dry_run_flow.py::test_overall_status_with_warnings ERROR [ 31%]
backend\tests\test_api\test_dry_run_flow.py::test_overall_status_all_valid ERROR [ 31%]
backend\tests\test_api\test_dry_run_flow.py::test_promotion_after_dry_run_approval ERROR [ 32%]
backend\tests\test_api\test_dry_run_flow.py::test_dry_run_with_missing_schema_mapping ERROR [ 32%]
backend\tests\test_api\test_dry_run_flow.py::test_dry_run_limits_to_20_rows ERROR [ 33%]
backend\tests\test_api\test_dry_run_flow.py::test_raw_data_preserved_in_preview ERROR [ 33%]
backend\tests\test_api\test_error_handling.py::test_404_json_response ERROR [ 33%]
backend\tests\test_api\test_error_handling.py::test_validation_error_json_response ERROR [ 34%]
backend\tests\test_api\test_error_handling.py::test_upload_bad_file_json_response ERROR [ 34%]
backend\tests\test_api\test_error_handling.py::test_delete_204_response ERROR [ 35%]
backend\tests\test_api\test_excel_to_widget_integrity.py::test_golden_master_excel_to_overview_widget ERROR [ 35%]
backend\tests\test_api\test_excel_to_widget_integrity.py::test_golden_master_physics_validation_triggers ERROR [ 35%]
backend\tests\test_api\test_factories.py::test_create_factory ERROR      [ 36%]
backend\tests\test_api\test_factories.py::test_list_factories ERROR      [ 36%]
backend\tests\test_api\test_factories.py::test_production_line_crud ERROR [ 37%]
backend\tests\test_api\test_fallback_logic.py::test_overview_fallback ERROR [ 37%]
backend\tests\test_api\test_fallback_logic.py::test_production_chart_fallback ERROR [ 38%]
backend\tests\test_api\test_fallback_logic.py::test_sam_performance_fallback ERROR [ 38%]
backend\tests\test_api\test_fallback_logic.py::test_hourly_fallback ERROR [ 38%]
backend\tests\test_api\test_individual_widgets.py::test_get_hourly_production ERROR [ 39%]
backend\tests\test_api\test_individual_widgets.py::test_get_sam_performance ERROR [ 39%]
backend\tests\test_api\test_individual_widgets.py::test_get_workforce_stats ERROR [ 40%]
backend\tests\test_api\test_individual_widgets.py::test_get_dhu_history ERROR [ 40%]
backend\tests\test_api\test_individual_widgets.py::test_get_speed_vs_quality ERROR [ 41%]
backend\tests\test_api\test_individual_widgets.py::test_get_complexity_impact ERROR [ 41%]
backend\tests\test_api\test_individual_widgets.py::test_get_downtime_reasons ERROR [ 41%]
backend\tests\test_api\test_ingestion_deduplication.py::test_ingestion_deduplication ERROR [ 42%]
backend\tests\test_api\test_ingestion_deduplication.py::test_mapping_state_endpoint ERROR [ 42%]
backend\tests\test_api\test_ingestion_deduplication.py::test_process_idempotency ERROR [ 43%]
backend\tests\test_api\test_ingestion_flow.py::test_full_ingestion_flow ERROR [ 43%]
backend\tests\test_api\test_ingestion_flow.py::test_schema_evolution ERROR [ 43%]
backend\tests\test_api\test_integrity.py::test_pydantic_validation PASSED [ 44%]
backend\tests\test_api\test_integrity.py::test_canonical_mapping_validation FAILED [ 44%]
backend\tests\test_api\test_integrity.py::test_order_hybrid_property FAILED [ 45%]
backend\tests\test_api\test_integrity.py::test_production_run_constraints ERROR [ 45%]
backend\tests\test_api\test_line_management.py::test_reset_schema_configuration ERROR [ 46%]
backend\tests\test_api\test_line_management.py::test_clear_upload_history ERROR [ 46%]
backend\tests\test_api\test_organizations.py::test_get_my_organization ERROR [ 46%]
backend\tests\test_api\test_organizations.py::test_update_my_organization ERROR [ 47%]
backend\tests\test_api\test_organizations.py::test_get_organization_by_id ERROR [ 47%]
backend\tests\test_api\test_preview.py::test_preview_endpoint_success ERROR [ 48%]
backend\tests\test_api\test_preview.py::test_list_uploads_includes_datasource_id ERROR [ 48%]
backend\tests\test_api\test_preview_dry_run_endpoint.py::test_preview_dry_run_endpoint ERROR [ 48%]
backend\tests\test_api\test_production.py::test_style_crud ERROR         [ 49%]
backend\tests\test_api\test_production.py::test_order_crud ERROR         [ 49%]
backend\tests\test_api\test_production.py::test_production_run_lifecycle ERROR [ 50%]
backend\tests\test_api\test_production.py::test_create_order_invalid_style ERROR [ 50%]
backend\tests\test_api\test_production.py::test_create_run_factory_mismatch ERROR [ 51%]
backend\tests\test_api\test_promotion.py::test_promotion_logic_full_cycle ERROR [ 51%]
backend\tests\test_api\test_quality_constraints.py::test_quality_inspection_allows_different_types_per_run ERROR [ 51%]
backend\tests\test_api\test_quality_constraints.py::test_quality_inspection_rejects_duplicate_type_per_run ERROR [ 52%]
backend\tests\test_api\test_quality_import.py::test_quality_data_promotion ERROR [ 52%]
backend\tests\test_api\test_quota_enforcement.py::test_factory_quota_enforced ERROR [ 53%]
backend\tests\test_api\test_quota_enforcement.py::test_line_quota_enforced ERROR [ 53%]
backend\tests\test_api\test_quota_enforcement.py::test_soft_deleted_factories_not_counted ERROR [ 53%]
backend\tests\test_api\test_quota_enforcement.py::test_quota_status_endpoint ERROR [ 54%]
backend\tests\test_api\test_quota_enforcement.py::test_enterprise_tier_quotas ERROR [ 54%]
backend\tests\test_api\test_quota_enforcement.py::test_quota_at_exact_limit ERROR [ 55%]
backend\tests\test_api\test_quota_enforcement.py::test_zero_quota_blocks_creation ERROR [ 55%]
backend\tests\test_api\test_repro_500.py::test_list_dashboards_by_factory_id_crash ERROR [ 56%]
backend\tests\test_api\test_samples.py::test_list_sample_files ERROR     [ 56%]
backend\tests\test_api\test_samples.py::test_download_sample_file ERROR  [ 56%]
backend\tests\test_api\test_samples.py::test_download_csv_sample_file ERROR [ 57%]
backend\tests\test_api\test_samples.py::test_download_nonexistent_file ERROR [ 57%]
backend\tests\test_api\test_samples.py::test_download_with_path_traversal_attempt ERROR [ 58%]
backend\tests\test_api\test_samples.py::test_sample_files_have_descriptions ERROR [ 58%]
backend\tests\test_api\test_schema_config.py::test_schema_configuration_flow ERROR [ 58%]
backend\tests\test_api\test_schema_mapping_reuse.py::test_confirm_mapping_deactivates_previous ERROR [ 59%]
backend\tests\test_api\test_schema_mapping_reuse.py::test_schema_mapping_version_increments_correctly ERROR [ 59%]
backend\tests\test_api\test_storage_separation.py::test_storage_segmentation ERROR [ 60%]
backend\tests\test_api\test_style_progress.py::test_get_style_progress_with_pending_orders ERROR [ 60%]
backend\tests\test_api\test_upload.py::TestUploadEndpoints::test_upload_endpoint_requires_auth ERROR [ 61%]
backend\tests\test_api\test_upload.py::TestUploadEndpoints::test_upload_rejects_non_excel ERROR [ 61%]
backend\tests\test_api\test_upload.py::TestUploadEndpoints::test_upload_accepts_xlsx ERROR [ 61%]
backend\tests\test_api\test_upload_history.py::test_upload_history_segmentation ERROR [ 62%]
backend\tests\test_api\test_upload_preview.py::test_upload_csv_file ERROR [ 62%]
backend\tests\test_api\test_upload_preview.py::test_preview_csv_file ERROR [ 63%]
backend\tests\test_api\test_upload_preview.py::test_preview_excel_file ERROR [ 63%]
backend\tests\test_api\test_upload_preview.py::test_preview_nonexistent_file ERROR [ 64%]
backend\tests\test_api\test_upload_preview.py::test_upload_invalid_file_extension ERROR [ 64%]
backend\tests\test_api\test_verification_cascade.py::test_factory_deletion_cascade_behavior ERROR [ 64%]
backend\tests\test_api\test_widget_data_e2e.py::test_full_widget_data_flow ERROR [ 65%]
backend\tests\test_api\test_widget_data_e2e.py::test_widget_endpoint_with_line_filter ERROR [ 65%]
backend\tests\test_async_flow.py::test_datasource_lifecycle FAILED       [ 66%]
backend\tests\test_datasource_flow.py::test_datasource_flow FAILED       [ 66%]
backend\tests\test_ingestion\test_full_flow.py::test_full_data_flow ERROR [ 66%]
backend\tests\test_mapping_intelligence.py::test_mapping_engine_intelligence ERROR [ 67%]
backend\tests\test_sequential_ingestion.py::test_jan_feb_march_continuity ERROR [ 67%]
backend\tests\test_services\test_ai_decision_logging.py::test_ai_decision_creation ERROR [ 68%]
backend\tests\test_services\test_ai_decision_logging.py::test_schema_inference_logging ERROR [ 68%]
backend\tests\test_services\test_ai_decision_logging.py::test_code_generation_logging ERROR [ 69%]
backend\tests\test_services\test_ai_decision_logging.py::test_ai_decision_without_db_session PASSED [ 69%]
backend\tests\test_services\test_ai_decision_logging.py::test_ai_decision_data_source_relationship ERROR [ 69%]
backend\tests\test_services\test_ai_decision_logging.py::test_ai_decision_confidence_calculation ERROR [ 70%]
backend\tests\test_services\test_ai_decision_logging.py::test_ai_decision_metadata_completeness ERROR [ 70%]
backend\tests\test_services\test_analytics_service.py::test_get_aggregated_stats_standard PASSED [ 71%]
backend\tests\test_services\test_analytics_service.py::test_get_aggregated_stats_weighted_check PASSED [ 71%]
backend\tests\test_services\test_analytics_service.py::test_validate_production_physics_rules PASSED [ 71%]
backend\tests\test_services\test_date_parser.py::TestDateParser::test_native_types PASSED [ 72%]
backend\tests\test_services\test_date_parser.py::TestDateParser::test_format_spec PASSED [ 72%]
backend\tests\test_services\test_date_parser.py::TestDateParser::test_excel_serials PASSED [ 73%]
backend\tests\test_services\test_date_parser.py::TestDateParser::test_heuristics_dayfirst PASSED [ 73%]
backend\tests\test_services\test_date_parser.py::TestDateParser::test_diagnostics_return PASSED [ 74%]
backend\tests\test_services\test_date_parser.py::TestDateParser::test_invalid_inputs PASSED [ 74%]
backend\tests\test_services\test_excel_parser.py::TestFlexibleExcelParser::test_fuzzy_column_matching_qty PASSED [ 74%]
backend\tests\test_services\test_excel_parser.py::TestFlexibleExcelParser::test_fuzzy_column_matching_po PASSED [ 75%]
backend\tests\test_services\test_excel_parser.py::TestFlexibleExcelParser::test_header_scoring PASSED [ 75%]
backend\tests\test_services\test_excel_parser.py::TestFlexibleExcelParser::test_clean_column_name PASSED [ 76%]
backend\tests\test_services\test_excel_parser.py::TestFlexibleExcelParser::test_empty_columns_filtered PASSED [ 76%]
backend\tests\test_services\test_file_processor.py::TestFileProcessorDryRun::test_dry_run_preview_basic ERROR [ 76%]
backend\tests\test_services\test_file_processor.py::TestFileProcessorDryRun::test_dry_run_detects_date_warnings ERROR [ 77%]
backend\tests\test_services\test_file_processor.py::TestFileProcessorDryRun::test_dry_run_shows_before_after ERROR [ 77%]
backend\tests\test_services\test_file_processor.py::TestFileProcessorDryRun::test_dry_run_no_warnings_for_clean_data FAILED [ 78%]
backend\tests\test_services\test_file_processor.py::TestFileProcessorDryRun::test_dry_run_limits_to_20_rows FAILED [ 78%]
backend\tests\test_services\test_file_processor.py::TestDataCleaning::test_clean_date_messy_format PASSED [ 79%]
backend\tests\test_services\test_file_processor.py::TestDataCleaning::test_clean_date_full_format PASSED [ 79%]
backend\tests\test_services\test_file_processor.py::TestDataCleaning::test_clean_integer_fields PASSED [ 79%]
backend\tests\test_services\test_file_processor.py::TestDataCleaning::test_clean_decimal_fields PASSED [ 80%]
backend\tests\test_services\test_file_processor.py::TestDataCleaning::test_clean_efficiency_percentage PASSED [ 80%]
backend\tests\test_services\test_file_processor.py::TestDataCleaning::test_clean_none_values PASSED [ 81%]
backend\tests\test_services\test_file_processor.py::TestDataCleaning::test_clean_string_fields PASSED [ 81%]
backend\tests\test_services\test_file_processor.py::TestProductionRunInsertion::test_promote_delegates_to_orchestrator PASSED [ 82%]
backend\tests\test_services\test_file_processor.py::TestProductionRunInsertion::test_promote_handles_already_promoted PASSED [ 82%]
backend\tests\test_services\test_fuzzy_matcher_optimized.py::test_fuzzy_matcher_wratio_handling PASSED [ 82%]
backend\tests\test_services\test_fuzzy_matcher_optimized.py::test_short_word_protection PASSED [ 83%]
backend\tests\test_services\test_fuzzy_matcher_optimized.py::test_industry_variations PASSED [ 83%]
backend\tests\test_services\test_fuzzy_matcher_optimized.py::test_match_with_alternatives_deduplication PASSED [ 84%]
backend\tests\test_services\test_fuzzy_matcher_optimized.py::test_performance_cached_keys PASSED [ 84%]
backend\tests\test_services\test_matching_engine_new.py::test_hash_matcher_exact PASSED [ 84%]
backend\tests\test_services\test_matching_engine_new.py::test_hash_matcher_alias PASSED [ 85%]
backend\tests\test_services\test_matching_engine_new.py::test_fuzzy_matcher PASSED [ 85%]
backend\tests\test_services\test_matching_engine_new.py::test_unmatched_column PASSED [ 86%]
backend\tests\test_services\test_matching_engine_new.py::test_case_insensitivity PASSED [ 86%]
backend\tests\test_services\test_matching_engine_new.py::test_operator_plurality_mismatch PASSED [ 87%]
backend\tests\test_services\test_production_schema.py::TestProductionDateValidator::test_parse_mm_dd_format FAILED [ 87%]
backend\tests\test_services\test_production_schema.py::TestProductionDateValidator::test_parse_mm_slash_dd_format FAILED [ 87%]
backend\tests\test_services\test_production_schema.py::TestProductionDateValidator::test_parse_full_date_format PASSED [ 88%]
backend\tests\test_services\test_production_schema.py::TestProductionDateValidator::test_parse_date_object PASSED [ 88%]
backend\tests\test_services\test_production_schema.py::TestProductionDateValidator::test_target_qty_alias PASSED [ 89%]
backend\tests\test_services\test_production_schema.py::TestProductionDateValidator::test_planned_qty_direct PASSED [ 89%]
backend\tests\test_services\test_production_schema.py::TestProductionDateValidator::test_invalid_date_format PASSED [ 89%]
backend\tests\test_services\test_production_schema.py::TestProductionDateValidator::test_optional_fields PASSED [ 90%]
backend\tests\test_services\test_production_schema.py::TestProductionDateValidator::test_default_values PASSED [ 90%]
backend\tests\test_services\test_production_schema.py::TestProductionDateValidator::test_edge_case_dates FAILED [ 91%]
backend\tests\test_timezone_chaos.py::test_timezone_chaos_midnight_boundary PASSED [ 91%]
backend\tests\test_widget_judge.py::test_judge_workforce_integrity_and_scope ERROR [ 92%]
backend\tests\test_widget_judge.py::test_judge_overview_timezone_and_scope ERROR [ 92%]
backend\tests\test_widget_judge.py::test_judge_no_fake_simulation ERROR  [ 92%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_detects_iso_when_last_exceeds_12 PASSED [ 93%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_detects_swap_when_middle_exceeds_12 PASSED [ 93%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_early_exit_on_first_proof PASSED [ 94%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_ambiguous_when_all_values_under_12 PASSED [ 94%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_single_ambiguous_value PASSED [ 94%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_impossible_date_both_exceed_12 PASSED [ 95%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_mixed_constraint_violations PASSED [ 95%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_february_30_invalid PASSED [ 96%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_empty_list PASSED [ 96%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_none_values_skipped PASSED [ 97%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_non_date_strings_skipped PASSED [ 97%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_slash_separator PASSED [ 97%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_dot_separator PASSED [ 98%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_mixed_separators PASSED [ 98%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestDetectColumnFormat::test_respects_max_sample PASSED [ 99%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestProfileDateColumn::test_returns_dict_with_expected_keys PASSED [ 99%]
backend\tests\unit\services\ingestion\test_date_profiler.py::TestProfileDateColumn::test_profile_matches_detect_result PASSED [100%]

=================================== ERRORS ====================================
______ ERROR at setup of test_hourly_production_no_events_returns_zeros _______
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________ ERROR at setup of test_midnight_boundary_respects_timezone __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______ ERROR at setup of test_factory_settings_localization_and_snapshot ______
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_list_members_as_owner _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________ ERROR at setup of test_list_members_as_manager_forbidden ___________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_assign_user_to_line __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________________ ERROR at setup of test_remove_user_scope ___________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_____________ ERROR at setup of test_cannot_assign_cross_org_user _____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_____________________ ERROR at setup of test_get_user_me ______________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________________ ERROR at setup of test_update_user_me ____________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_____________ ERROR at setup of test_update_user_invalid_timezone _____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
___________ ERROR at setup of test_update_user_partial_preferences ____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________ ERROR at setup of test_update_user_invalid_preference_type __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________ ERROR at setup of test_e2e_excel_ingestion_and_dashboard ___________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________________ ERROR at setup of test_list_ai_decisions ___________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________ ERROR at setup of test_list_ai_decisions_with_filters ____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_get_ai_decision_by_id _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_get_ai_decision_not_found _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_____________ ERROR at setup of test_get_data_source_ai_decisions _____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_ai_decisions_pagination ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_ai_decisions_require_auth _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_get_overview_stats_real ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_get_production_chart_real _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_get_lowest_performers_real ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_get_discrepancies_real ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________________ ERROR at setup of test_login_success _____________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_login_invalid_password ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_login_user_not_found _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
___________________ ERROR at setup of test_register_success ___________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
___________ ERROR at setup of test_complete_dashboard_creation_flow ___________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_____ ERROR at setup of test_dashboard_creation_blocked_by_factory_quota ______
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________ ERROR at setup of test_multiple_dashboards_same_data_source _________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________ ERROR at setup of test_list_dashboards_filtered_by_factory __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________________ ERROR at setup of test_edit_configuration __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_view_uploaded_files __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_upload_history_isolation _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________ ERROR at setup of test_upload_history_simple_endpoint ____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_get_dhu_quality_trend _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________________ ERROR at setup of test_get_style_progress __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________ ERROR at setup of test_value_preservation_through_pipeline __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_date_format_handling _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_efficiency_normalization _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________________ ERROR at setup of test_null_handling _____________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________ ERROR at setup of test_data_integrity_across_multiple_rows __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_style_and_order_creation _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_duplicate_upload_handling _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________ ERROR at setup of test_multiple_widgets_receive_correct_data _________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_invalid_data_handling _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________ ERROR at setup of test_analytics_sum_matches_database ____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________________ ERROR at setup of test_create_data_source __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
___________________ ERROR at setup of test_get_data_source ____________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_get_data_source_by_line ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_update_schema_mapping _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________ ERROR at setup of test_create_duplicate_data_source_fails __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________ ERROR at setup of test_get_datasource_by_line_exists _____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_____________ ERROR at setup of test_get_datasource_by_line_none ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________ ERROR at setup of test_get_datasource_cross_line_isolation __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________________ ERROR at setup of test_update_datasource ___________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________ ERROR at setup of test_demo_full_pipeline_with_excel_file __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_demo_data_values_integrity ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_delete_datasource_cascade _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_clear_history_file_cleanup ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_clear_history_missing_file ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________ ERROR at setup of test_permissions_restricted_delete _____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________________ ERROR at setup of test_deep_data_cleanup ___________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_cross_tenant_isolation ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________________ ERROR at setup of test_audit_logging_mock __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_dry_run_preview_structure _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_date_auto_fixing_detection ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________ ERROR at setup of test_efficiency_percentage_cleaning ____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_decimal_field_handling ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_integer_field_cleaning ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_column_mapping_application ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_____________ ERROR at setup of test_overall_status_with_warnings _____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_overall_status_all_valid _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
___________ ERROR at setup of test_promotion_after_dry_run_approval ___________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________ ERROR at setup of test_dry_run_with_missing_schema_mapping __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_dry_run_limits_to_20_rows _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________ ERROR at setup of test_raw_data_preserved_in_preview _____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________________ ERROR at setup of test_404_json_response ___________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________ ERROR at setup of test_validation_error_json_response ____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________ ERROR at setup of test_upload_bad_file_json_response _____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_delete_204_response __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________ ERROR at setup of test_golden_master_excel_to_overview_widget ________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______ ERROR at setup of test_golden_master_physics_validation_triggers _______
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________________ ERROR at setup of test_create_factory ____________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________________ ERROR at setup of test_list_factories ____________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_production_line_crud _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________________ ERROR at setup of test_overview_fallback ___________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_production_chart_fallback _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_sam_performance_fallback _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
___________________ ERROR at setup of test_hourly_fallback ____________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_get_hourly_production _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_get_sam_performance __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_get_workforce_stats __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
___________________ ERROR at setup of test_get_dhu_history ____________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_get_speed_vs_quality _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_get_complexity_impact _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_get_downtime_reasons _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_ingestion_deduplication ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_mapping_state_endpoint ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_process_idempotency __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_full_ingestion_flow __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
___________________ ERROR at setup of test_schema_evolution ___________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_production_run_constraints ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_reset_schema_configuration ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_clear_upload_history _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_get_my_organization __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_update_my_organization ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_get_organization_by_id ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_preview_endpoint_success _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________ ERROR at setup of test_list_uploads_includes_datasource_id __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_preview_dry_run_endpoint _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________________ ERROR at setup of test_style_crud ______________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________________ ERROR at setup of test_order_crud ______________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_production_run_lifecycle _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_create_order_invalid_style ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_____________ ERROR at setup of test_create_run_factory_mismatch ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_promotion_logic_full_cycle ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__ ERROR at setup of test_quality_inspection_allows_different_types_per_run ___
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__ ERROR at setup of test_quality_inspection_rejects_duplicate_type_per_run ___
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_quality_data_promotion ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_factory_quota_enforced ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_line_quota_enforced __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________ ERROR at setup of test_soft_deleted_factories_not_counted __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_quota_status_endpoint _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_enterprise_tier_quotas ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_quota_at_exact_limit _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_zero_quota_blocks_creation ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________ ERROR at setup of test_list_dashboards_by_factory_id_crash __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________________ ERROR at setup of test_list_sample_files ___________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:730: in pytest_fixture_setup
    ???
backend\tests\conftest.py:150: in sync_db_session
    table.create(bind=conn, checkfirst=True)
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_download_sample_file _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:730: in pytest_fixture_setup
    ???
backend\tests\conftest.py:150: in sync_db_session
    table.create(bind=conn, checkfirst=True)
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_download_csv_sample_file _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:730: in pytest_fixture_setup
    ???
backend\tests\conftest.py:150: in sync_db_session
    table.create(bind=conn, checkfirst=True)
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_download_nonexistent_file _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:730: in pytest_fixture_setup
    ???
backend\tests\conftest.py:150: in sync_db_session
    table.create(bind=conn, checkfirst=True)
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________ ERROR at setup of test_download_with_path_traversal_attempt _________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:730: in pytest_fixture_setup
    ???
backend\tests\conftest.py:150: in sync_db_session
    table.create(bind=conn, checkfirst=True)
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________ ERROR at setup of test_sample_files_have_descriptions ____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:730: in pytest_fixture_setup
    ???
backend\tests\conftest.py:150: in sync_db_session
    table.create(bind=conn, checkfirst=True)
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
______________ ERROR at setup of test_schema_configuration_flow _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________ ERROR at setup of test_confirm_mapping_deactivates_previous _________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_____ ERROR at setup of test_schema_mapping_version_increments_correctly ______
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_storage_segmentation _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________ ERROR at setup of test_get_style_progress_with_pending_orders ________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__ ERROR at setup of TestUploadEndpoints.test_upload_endpoint_requires_auth ___
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_____ ERROR at setup of TestUploadEndpoints.test_upload_rejects_non_excel _____
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______ ERROR at setup of TestUploadEndpoints.test_upload_accepts_xlsx ________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_____________ ERROR at setup of test_upload_history_segmentation ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
___________________ ERROR at setup of test_upload_csv_file ____________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
___________________ ERROR at setup of test_preview_csv_file ___________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________________ ERROR at setup of test_preview_excel_file __________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_preview_nonexistent_file _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________ ERROR at setup of test_upload_invalid_file_extension _____________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________ ERROR at setup of test_factory_deletion_cascade_behavior ___________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
________________ ERROR at setup of test_full_widget_data_flow _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
___________ ERROR at setup of test_widget_endpoint_with_line_filter ___________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____________________ ERROR at setup of test_full_data_flow ____________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_____________ ERROR at setup of test_mapping_engine_intelligence ______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_jan_feb_march_continuity _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________________ ERROR at setup of test_ai_decision_creation _________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_schema_inference_logging _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_code_generation_logging ________________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_________ ERROR at setup of test_ai_decision_data_source_relationship _________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________ ERROR at setup of test_ai_decision_confidence_calculation __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________ ERROR at setup of test_ai_decision_metadata_completeness ___________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
____ ERROR at setup of TestFileProcessorDryRun.test_dry_run_preview_basic _____
backend\tests\test_services\test_file_processor.py:53: in sample_raw_import
    schema_mapping = SchemaMapping(
<string>:4: in __init__
    ???
backend\venv\Lib\site-packages\sqlalchemy\orm\state.py:591: in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
backend\venv\Lib\site-packages\sqlalchemy\event\attr.py:515: in __call__
    fn(*args, **kw)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4419: in _event_on_init
    instrumenting_mapper._check_configure()
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:2410: in _check_configure
    _configure_registries({self.registry}, cascade=True)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4227: in _configure_registries
    _do_configure_registries(registries, cascade)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4264: in _do_configure_registries
    raise e
E   sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TraceabilityRecord(traceability_records)]'. Original exception was: When initializing mapper Mapper[TraceabilityRecord(traceability_records)], expression 'Carton' failed to locate a name ('Carton'). If this is a class name, consider adding this relationship() to the <class 'app.models.drafts.compliance.TraceabilityRecord'> class after both dependent classes have been defined.
_ ERROR at setup of TestFileProcessorDryRun.test_dry_run_detects_date_warnings _
backend\tests\test_services\test_file_processor.py:53: in sample_raw_import
    schema_mapping = SchemaMapping(
<string>:4: in __init__
    ???
backend\venv\Lib\site-packages\sqlalchemy\orm\state.py:591: in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
backend\venv\Lib\site-packages\sqlalchemy\event\attr.py:515: in __call__
    fn(*args, **kw)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4419: in _event_on_init
    instrumenting_mapper._check_configure()
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:2410: in _check_configure
    _configure_registries({self.registry}, cascade=True)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4227: in _configure_registries
    _do_configure_registries(registries, cascade)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4264: in _do_configure_registries
    raise e
E   sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TraceabilityRecord(traceability_records)]'. Original exception was: When initializing mapper Mapper[TraceabilityRecord(traceability_records)], expression 'Carton' failed to locate a name ('Carton'). If this is a class name, consider adding this relationship() to the <class 'app.models.drafts.compliance.TraceabilityRecord'> class after both dependent classes have been defined.
__ ERROR at setup of TestFileProcessorDryRun.test_dry_run_shows_before_after __
backend\tests\test_services\test_file_processor.py:53: in sample_raw_import
    schema_mapping = SchemaMapping(
<string>:4: in __init__
    ???
backend\venv\Lib\site-packages\sqlalchemy\orm\state.py:591: in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
backend\venv\Lib\site-packages\sqlalchemy\event\attr.py:515: in __call__
    fn(*args, **kw)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4419: in _event_on_init
    instrumenting_mapper._check_configure()
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:2410: in _check_configure
    _configure_registries({self.registry}, cascade=True)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4227: in _configure_registries
    _do_configure_registries(registries, cascade)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4264: in _do_configure_registries
    raise e
E   sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TraceabilityRecord(traceability_records)]'. Original exception was: When initializing mapper Mapper[TraceabilityRecord(traceability_records)], expression 'Carton' failed to locate a name ('Carton'). If this is a class name, consider adding this relationship() to the <class 'app.models.drafts.compliance.TraceabilityRecord'> class after both dependent classes have been defined.
_________ ERROR at setup of test_judge_workforce_integrity_and_scope __________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
__________ ERROR at setup of test_judge_overview_timezone_and_scope ___________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
_______________ ERROR at setup of test_judge_no_fake_simulation _______________
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:458: in setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:743: in pytest_fixture_setup
    ???
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:313: in _asyncgen_fixture_wrapper
    ???
C:\Python313\Lib\asyncio\runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
C:\Users\19803\business\FactoryExcelManager\backend\venv\Lib\site-packages\pytest_asyncio\plugin.py:309: in setup
    ???
backend\tests\conftest.py:102: in db_session
    await conn.run_sync(
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:888: in run_sync
    return await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
backend\tests\conftest.py:103: in <lambda>
    lambda sync_conn, t=table_obj: t.create(sync_conn, checkfirst=True)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:1288: in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:2467: in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:661: in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:1022: in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:321: in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:1527: in _execute_ddl
    compiled = ddl.compile(
backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py:312: in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\ddl.py:76: in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:887: in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6806: in visit_create_table
    const = self.create_table_constraints(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6854: in create_table_constraints
    return ", \n\t".join(
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6856: in <genexpr>
    for p in (
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:6857: in <genexpr>
    self.process(constraint)
backend\venv\Lib\site-packages\sqlalchemy\sql\compiler.py:933: in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\visitors.py:138: in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1818: in visit_foreign_key_constraint
    remote_table = constraint.elements[0].column.table
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:1226: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3199: in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\sql\schema.py:3222: in _resolve_column
    raise exc.NoReferencedTableError(
E   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'traceability_records.carton_id' could not find table 'cartons' with which to generate a foreign key to target column 'id'
================================== FAILURES ===================================
______________________ test_canonical_mapping_validation ______________________
backend\tests\test_api\test_integrity.py:45: in test_canonical_mapping_validation
    assert validate_canonical_mapping() is True
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\app\services\matching\validation.py:77: in validate_canonical_mapping
    raise ValueError("Canonical mapping validation failed:\n" + "\n".join(errors))
E   ValueError: Canonical mapping validation failed:
E   Canonical field 'line_id' maps to missing attribute 'line_id' in model ProductionRun
---------------------------- Captured stdout call -----------------------------
{"timestamp": "2026-02-15T15:29:35.009060Z", "level": "WARNING", "logger": "app.services.matching.validation", "message": "Canonical field 'start_time' is not registered in CANONICAL_MODEL_MAPPING for validation."}
{"timestamp": "2026-02-15T15:29:35.009313Z", "level": "WARNING", "logger": "app.services.matching.validation", "message": "Canonical field 'end_time' is not registered in CANONICAL_MODEL_MAPPING for validation."}
{"timestamp": "2026-02-15T15:29:35.009399Z", "level": "WARNING", "logger": "app.services.matching.validation", "message": "Canonical field 'downtime_reason' is not registered in CANONICAL_MODEL_MAPPING for validation."}
{"timestamp": "2026-02-15T15:29:35.009482Z", "level": "ERROR", "logger": "app.services.matching.validation", "message": "Canonical field 'line_id' maps to missing attribute 'line_id' in model ProductionRun"}
------------------------------ Captured log call ------------------------------
WARNING  app.services.matching.validation:validation.py:63 Canonical field 'start_time' is not registered in CANONICAL_MODEL_MAPPING for validation.
WARNING  app.services.matching.validation:validation.py:63 Canonical field 'end_time' is not registered in CANONICAL_MODEL_MAPPING for validation.
WARNING  app.services.matching.validation:validation.py:63 Canonical field 'downtime_reason' is not registered in CANONICAL_MODEL_MAPPING for validation.
ERROR    app.services.matching.validation:validation.py:73 Canonical field 'line_id' maps to missing attribute 'line_id' in model ProductionRun
_________________________ test_order_hybrid_property __________________________
backend\venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py:516: in _resolve_name
    rval = d[token]
           ^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\_collections.py:345: in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py:484: in _access_cls
    return self.fallback[key]
           ^^^^^^^^^^^^^^^^^^
E   KeyError: 'Carton'

The above exception was the direct cause of the following exception:
backend\tests\test_api\test_integrity.py:50: in test_order_hybrid_property
    order = Order(quantity=1000, qty_sewn=600)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<string>:4: in __init__
    ???
backend\venv\Lib\site-packages\sqlalchemy\orm\state.py:591: in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
backend\venv\Lib\site-packages\sqlalchemy\event\attr.py:515: in __call__
    fn(*args, **kw)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4419: in _event_on_init
    instrumenting_mapper._check_configure()
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:2410: in _check_configure
    _configure_registries({self.registry}, cascade=True)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4227: in _configure_registries
    _do_configure_registries(registries, cascade)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4268: in _do_configure_registries
    mapper._post_configure_properties()
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:2427: in _post_configure_properties
    prop.init()
backend\venv\Lib\site-packages\sqlalchemy\orm\interfaces.py:595: in init
    self.do_init()
backend\venv\Lib\site-packages\sqlalchemy\orm\relationships.py:1655: in do_init
    self._setup_entity()
backend\venv\Lib\site-packages\sqlalchemy\orm\relationships.py:1865: in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py:520: in _resolve_name
    self._raise_for_name(name, err)
backend\venv\Lib\site-packages\sqlalchemy\orm\clsregistry.py:501: in _raise_for_name
    raise exc.InvalidRequestError(
E   sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[TraceabilityRecord(traceability_records)], expression 'Carton' failed to locate a name ('Carton'). If this is a class name, consider adding this relationship() to the <class 'app.models.drafts.compliance.TraceabilityRecord'> class after both dependent classes have been defined.
__________________________ test_datasource_lifecycle __________________________
backend\tests\test_async_flow.py:21: in test_datasource_lifecycle
    res = await client.post("/api/v1/auth/login", json=login_payload)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\httpx\_client.py:1859: in post
    return await self.request(
backend\venv\Lib\site-packages\httpx\_client.py:1540: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\httpx\_client.py:1629: in send
    response = await self._send_handling_auth(
backend\venv\Lib\site-packages\httpx\_client.py:1657: in _send_handling_auth
    response = await self._send_handling_redirects(
backend\venv\Lib\site-packages\httpx\_client.py:1694: in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\httpx\_client.py:1730: in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\httpx\_transports\asgi.py:170: in handle_async_request
    await self.app(scope, receive, send)
backend\venv\Lib\site-packages\fastapi\applications.py:1135: in __call__
    await super().__call__(scope, receive, send)
backend\venv\Lib\site-packages\starlette\applications.py:107: in __call__
    await self.middleware_stack(scope, receive, send)
backend\venv\Lib\site-packages\starlette\middleware\errors.py:186: in __call__
    raise exc
backend\venv\Lib\site-packages\starlette\middleware\errors.py:164: in __call__
    await self.app(scope, receive, _send)
backend\venv\Lib\site-packages\starlette\middleware\cors.py:85: in __call__
    await self.app(scope, receive, send)
backend\venv\Lib\site-packages\starlette\middleware\exceptions.py:63: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
backend\venv\Lib\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
backend\venv\Lib\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py:18: in __call__
    await self.app(scope, receive, send)
backend\venv\Lib\site-packages\starlette\routing.py:716: in __call__
    await self.middleware_stack(scope, receive, send)
backend\venv\Lib\site-packages\starlette\routing.py:736: in app
    await route.handle(scope, receive, send)
backend\venv\Lib\site-packages\starlette\routing.py:290: in handle
    await self.app(scope, receive, send)
backend\venv\Lib\site-packages\fastapi\routing.py:115: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
backend\venv\Lib\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
backend\venv\Lib\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
backend\venv\Lib\site-packages\fastapi\routing.py:101: in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\fastapi\routing.py:355: in app
    raw_response = await run_endpoint_function(
backend\venv\Lib\site-packages\fastapi\routing.py:243: in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\app\api\v1\endpoints\auth.py:43: in login
    result = await db.execute(select(User).where(User.email == request.email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py:449: in execute
    result = await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\orm\session.py:2351: in execute
    return self._execute_internal(
backend\venv\Lib\site-packages\sqlalchemy\orm\session.py:2239: in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\orm\session.py:2108: in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<string>:2: in _connection_for_bind
    ???
backend\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py:137: in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\orm\session.py:1187: in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:3285: in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:143: in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:3309: in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:447: in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:1264: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:711: in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\pool\impl.py:177: in _do_get
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
backend\venv\Lib\site-packages\sqlalchemy\pool\impl.py:175: in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:388: in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:673: in __init__
    self.__connect()
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:899: in __connect
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:895: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\create.py:661: in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\default.py:630: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:955: in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
backend\venv\Lib\site-packages\asyncpg\connection.py:2443: in connect
    return await connect_utils._connect(
backend\venv\Lib\site-packages\asyncpg\connect_utils.py:1249: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
backend\venv\Lib\site-packages\asyncpg\connect_utils.py:1218: in _connect
    conn = await _connect_addr(
backend\venv\Lib\site-packages\asyncpg\connect_utils.py:1054: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\asyncpg\connect_utils.py:1099: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\asyncpg\connect_utils.py:969: in _create_ssl_connection
    tr, pr = await loop.create_connection(
C:\Python313\Lib\asyncio\base_events.py:1117: in create_connection
    infos = await self._ensure_resolved(
C:\Python313\Lib\asyncio\base_events.py:1500: in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
C:\Python313\Lib\asyncio\base_events.py:939: in getaddrinfo
    return await self.run_in_executor(
C:\Python313\Lib\concurrent\futures\thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\socket.py:977: in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   socket.gaierror: [Errno 11001] getaddrinfo failed
---------------------------- Captured stdout call -----------------------------

LOG: 1. Attempting login...
{"timestamp": "2026-02-15T15:30:15.289406Z", "level": "ERROR", "logger": "app.main", "message": "Unhandled exception: [Errno 11001] getaddrinfo failed", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 115, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 101, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 355, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 243, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\app\\api\\v1\\endpoints\\auth.py\", line 43, in login\n    result = await db.execute(select(User).where(User.email == request.email))\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 449, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 711, in checkout\n    rec = pool._do_get()\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 955, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\asyncpg\\connection.py\", line 2443, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<22 lines>...\n    )\n    ^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 1249, in _connect\n    raise last_error or exceptions.TargetServerAttributeNotMatched(\n    ...<2 lines>...\n    )\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 1218, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 1054, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 1099, in __connect_addr\n    tr, pr = await connector\n             ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 969, in _create_ssl_connection\n    tr, pr = await loop.create_connection(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        host, port)\n        ^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\asyncio\\base_events.py\", line 1117, in create_connection\n    infos = await self._ensure_resolved(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        (host, port), family=family,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        type=socket.SOCK_STREAM, proto=proto, flags=flags, loop=self)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\asyncio\\base_events.py\", line 1500, in _ensure_resolved\n    return await loop.getaddrinfo(host, port, family=family, type=type,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                                  proto=proto, flags=flags)\n                                  ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\asyncio\\base_events.py\", line 939, in getaddrinfo\n    return await self.run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        None, getaddr_func, host, port, family, type, proto, flags)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\concurrent\\futures\\thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"C:\\Python313\\Lib\\socket.py\", line 977, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed"}
------------------------------ Captured log call ------------------------------
ERROR    app.main:main.py:100 Unhandled exception: [Errno 11001] getaddrinfo failed
Traceback (most recent call last):
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\app\api\v1\endpoints\auth.py", line 43, in login
    result = await db.execute(select(User).where(User.email == request.email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2239, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2108, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1187, in _connection_for_bind
    conn = bind.connect()
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 3285, in connect
    return self._connection_cls(self)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    ~~~~~~~~~~~~~~^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 955, in connect
    await_only(creator_fn(*arg, **kw)),
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<22 lines>...
    )
    ^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\asyncpg\connect_utils.py", line 1249, in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
    ...<2 lines>...
    )
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
           ^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\asyncpg\connect_utils.py", line 1099, in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\asyncpg\connect_utils.py", line 969, in _create_ssl_connection
    tr, pr = await loop.create_connection(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        host, port)
        ^^^^^^^^^^^
  File "C:\Python313\Lib\asyncio\base_events.py", line 1117, in create_connection
    infos = await self._ensure_resolved(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (host, port), family=family,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        type=socket.SOCK_STREAM, proto=proto, flags=flags, loop=self)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\asyncio\base_events.py", line 1500, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                  proto=proto, flags=flags)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\asyncio\base_events.py", line 939, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        None, getaddr_func, host, port, family, type, proto, flags)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\concurrent\futures\thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Python313\Lib\socket.py", line 977, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed
____________________________ test_datasource_flow _____________________________
backend\tests\test_datasource_flow.py:24: in test_datasource_flow
    res = await client.post("/api/v1/auth/login", json=login_payload)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\httpx\_client.py:1859: in post
    return await self.request(
backend\venv\Lib\site-packages\httpx\_client.py:1540: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\httpx\_client.py:1629: in send
    response = await self._send_handling_auth(
backend\venv\Lib\site-packages\httpx\_client.py:1657: in _send_handling_auth
    response = await self._send_handling_redirects(
backend\venv\Lib\site-packages\httpx\_client.py:1694: in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\httpx\_client.py:1730: in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\httpx\_transports\asgi.py:170: in handle_async_request
    await self.app(scope, receive, send)
backend\venv\Lib\site-packages\fastapi\applications.py:1135: in __call__
    await super().__call__(scope, receive, send)
backend\venv\Lib\site-packages\starlette\applications.py:107: in __call__
    await self.middleware_stack(scope, receive, send)
backend\venv\Lib\site-packages\starlette\middleware\errors.py:186: in __call__
    raise exc
backend\venv\Lib\site-packages\starlette\middleware\errors.py:164: in __call__
    await self.app(scope, receive, _send)
backend\venv\Lib\site-packages\starlette\middleware\cors.py:85: in __call__
    await self.app(scope, receive, send)
backend\venv\Lib\site-packages\starlette\middleware\exceptions.py:63: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
backend\venv\Lib\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
backend\venv\Lib\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py:18: in __call__
    await self.app(scope, receive, send)
backend\venv\Lib\site-packages\starlette\routing.py:716: in __call__
    await self.middleware_stack(scope, receive, send)
backend\venv\Lib\site-packages\starlette\routing.py:736: in app
    await route.handle(scope, receive, send)
backend\venv\Lib\site-packages\starlette\routing.py:290: in handle
    await self.app(scope, receive, send)
backend\venv\Lib\site-packages\fastapi\routing.py:115: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
backend\venv\Lib\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
backend\venv\Lib\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
backend\venv\Lib\site-packages\fastapi\routing.py:101: in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\fastapi\routing.py:355: in app
    raw_response = await run_endpoint_function(
backend\venv\Lib\site-packages\fastapi\routing.py:243: in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\app\api\v1\endpoints\auth.py:43: in login
    result = await db.execute(select(User).where(User.email == request.email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py:449: in execute
    result = await greenlet_spawn(
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\orm\session.py:2351: in execute
    return self._execute_internal(
backend\venv\Lib\site-packages\sqlalchemy\orm\session.py:2239: in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\orm\session.py:2108: in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<string>:2: in _connection_for_bind
    ???
backend\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py:137: in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\orm\session.py:1187: in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:3285: in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:143: in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\base.py:3309: in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:447: in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:1264: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:711: in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\pool\impl.py:177: in _do_get
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
backend\venv\Lib\site-packages\sqlalchemy\pool\impl.py:175: in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:388: in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:673: in __init__
    self.__connect()
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:899: in __connect
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
backend\venv\Lib\site-packages\sqlalchemy\pool\base.py:895: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\create.py:661: in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\engine\default.py:630: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:955: in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
backend\venv\Lib\site-packages\asyncpg\connection.py:2443: in connect
    return await connect_utils._connect(
backend\venv\Lib\site-packages\asyncpg\connect_utils.py:1249: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
backend\venv\Lib\site-packages\asyncpg\connect_utils.py:1218: in _connect
    conn = await _connect_addr(
backend\venv\Lib\site-packages\asyncpg\connect_utils.py:1054: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\asyncpg\connect_utils.py:1099: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
backend\venv\Lib\site-packages\asyncpg\connect_utils.py:969: in _create_ssl_connection
    tr, pr = await loop.create_connection(
C:\Python313\Lib\asyncio\base_events.py:1117: in create_connection
    infos = await self._ensure_resolved(
C:\Python313\Lib\asyncio\base_events.py:1500: in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
C:\Python313\Lib\asyncio\base_events.py:939: in getaddrinfo
    return await self.run_in_executor(
C:\Python313\Lib\concurrent\futures\thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\socket.py:977: in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   socket.gaierror: [Errno 11001] getaddrinfo failed
---------------------------- Captured stdout call -----------------------------
LOG: Attempting login...
{"timestamp": "2026-02-15T15:30:19.251883Z", "level": "ERROR", "logger": "app.main", "message": "Unhandled exception: [Errno 11001] getaddrinfo failed", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 115, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 101, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 355, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 243, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\app\\api\\v1\\endpoints\\auth.py\", line 43, in login\n    result = await db.execute(select(User).where(User.email == request.email))\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 449, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 711, in checkout\n    rec = pool._do_get()\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 955, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\asyncpg\\connection.py\", line 2443, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<22 lines>...\n    )\n    ^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 1249, in _connect\n    raise last_error or exceptions.TargetServerAttributeNotMatched(\n    ...<2 lines>...\n    )\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 1218, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 1054, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 1099, in __connect_addr\n    tr, pr = await connector\n             ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\19803\\Projects\\FactoryExcelManager\\backend\\venv\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 969, in _create_ssl_connection\n    tr, pr = await loop.create_connection(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        host, port)\n        ^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\asyncio\\base_events.py\", line 1117, in create_connection\n    infos = await self._ensure_resolved(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        (host, port), family=family,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        type=socket.SOCK_STREAM, proto=proto, flags=flags, loop=self)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\asyncio\\base_events.py\", line 1500, in _ensure_resolved\n    return await loop.getaddrinfo(host, port, family=family, type=type,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                                  proto=proto, flags=flags)\n                                  ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\asyncio\\base_events.py\", line 939, in getaddrinfo\n    return await self.run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        None, getaddr_func, host, port, family, type, proto, flags)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\concurrent\\futures\\thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"C:\\Python313\\Lib\\socket.py\", line 977, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed"}
------------------------------ Captured log call ------------------------------
ERROR    app.main:main.py:100 Unhandled exception: [Errno 11001] getaddrinfo failed
Traceback (most recent call last):
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\app\api\v1\endpoints\auth.py", line 43, in login
    result = await db.execute(select(User).where(User.email == request.email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2239, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2108, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1187, in _connection_for_bind
    conn = bind.connect()
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 3285, in connect
    return self._connection_cls(self)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    ~~~~~~~~~~~~~~^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 955, in connect
    await_only(creator_fn(*arg, **kw)),
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<22 lines>...
    )
    ^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\asyncpg\connect_utils.py", line 1249, in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
    ...<2 lines>...
    )
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
           ^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\asyncpg\connect_utils.py", line 1099, in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
  File "C:\Users\19803\Projects\FactoryExcelManager\backend\venv\Lib\site-packages\asyncpg\connect_utils.py", line 969, in _create_ssl_connection
    tr, pr = await loop.create_connection(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        host, port)
        ^^^^^^^^^^^
  File "C:\Python313\Lib\asyncio\base_events.py", line 1117, in create_connection
    infos = await self._ensure_resolved(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (host, port), family=family,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        type=socket.SOCK_STREAM, proto=proto, flags=flags, loop=self)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\asyncio\base_events.py", line 1500, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                  proto=proto, flags=flags)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\asyncio\base_events.py", line 939, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        None, getaddr_func, host, port, family, type, proto, flags)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\concurrent\futures\thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Python313\Lib\socket.py", line 977, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed
_______ TestFileProcessorDryRun.test_dry_run_no_warnings_for_clean_data _______
backend\tests\test_services\test_file_processor.py:174: in test_dry_run_no_warnings_for_clean_data
    schema_mapping = SchemaMapping(
<string>:4: in __init__
    ???
backend\venv\Lib\site-packages\sqlalchemy\orm\state.py:591: in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
backend\venv\Lib\site-packages\sqlalchemy\event\attr.py:515: in __call__
    fn(*args, **kw)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4419: in _event_on_init
    instrumenting_mapper._check_configure()
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:2410: in _check_configure
    _configure_registries({self.registry}, cascade=True)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4227: in _configure_registries
    _do_configure_registries(registries, cascade)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4264: in _do_configure_registries
    raise e
E   sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TraceabilityRecord(traceability_records)]'. Original exception was: When initializing mapper Mapper[TraceabilityRecord(traceability_records)], expression 'Carton' failed to locate a name ('Carton'). If this is a class name, consider adding this relationship() to the <class 'app.models.drafts.compliance.TraceabilityRecord'> class after both dependent classes have been defined.
___________ TestFileProcessorDryRun.test_dry_run_limits_to_20_rows ____________
backend\tests\test_services\test_file_processor.py:222: in test_dry_run_limits_to_20_rows
    schema_mapping = SchemaMapping(
<string>:4: in __init__
    ???
backend\venv\Lib\site-packages\sqlalchemy\orm\state.py:591: in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
backend\venv\Lib\site-packages\sqlalchemy\event\attr.py:515: in __call__
    fn(*args, **kw)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4419: in _event_on_init
    instrumenting_mapper._check_configure()
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:2410: in _check_configure
    _configure_registries({self.registry}, cascade=True)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4227: in _configure_registries
    _do_configure_registries(registries, cascade)
backend\venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4264: in _do_configure_registries
    raise e
E   sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TraceabilityRecord(traceability_records)]'. Original exception was: When initializing mapper Mapper[TraceabilityRecord(traceability_records)], expression 'Carton' failed to locate a name ('Carton'). If this is a class name, consider adding this relationship() to the <class 'app.models.drafts.compliance.TraceabilityRecord'> class after both dependent classes have been defined.
_____________ TestProductionDateValidator.test_parse_mm_dd_format _____________
backend\tests\test_services\test_production_schema.py:40: in test_parse_mm_dd_format
    run = ProductionRunCreate(**data)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for ProductionRunCreate
E   production_date
E     Input should be a valid date [type=date_type, input_value=None, input_type=NoneType]
E       For further information visit https://errors.pydantic.dev/2.12/v/date_type
__________ TestProductionDateValidator.test_parse_mm_slash_dd_format __________
backend\tests\test_services\test_production_schema.py:57: in test_parse_mm_slash_dd_format
    run = ProductionRunCreate(**data)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for ProductionRunCreate
E   production_date
E     Input should be a valid date [type=date_type, input_value=None, input_type=NoneType]
E       For further information visit https://errors.pydantic.dev/2.12/v/date_type
______________ TestProductionDateValidator.test_edge_case_dates _______________
backend\tests\test_services\test_production_schema.py:180: in test_edge_case_dates
    run1 = ProductionRunCreate(**data1)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for ProductionRunCreate
E   production_date
E     Input should be a valid date [type=date_type, input_value=None, input_type=NoneType]
E       For further information visit https://errors.pydantic.dev/2.12/v/date_type
=========================== short test summary info ===========================
FAILED backend\tests\test_api\test_integrity.py::test_canonical_mapping_validation
FAILED backend\tests\test_api\test_integrity.py::test_order_hybrid_property
FAILED backend\tests\test_async_flow.py::test_datasource_lifecycle - socket.g...
FAILED backend\tests\test_datasource_flow.py::test_datasource_flow - socket.g...
FAILED backend\tests\test_services\test_file_processor.py::TestFileProcessorDryRun::test_dry_run_no_warnings_for_clean_data
FAILED backend\tests\test_services\test_file_processor.py::TestFileProcessorDryRun::test_dry_run_limits_to_20_rows
FAILED backend\tests\test_services\test_production_schema.py::TestProductionDateValidator::test_parse_mm_dd_format
FAILED backend\tests\test_services\test_production_schema.py::TestProductionDateValidator::test_parse_mm_slash_dd_format
FAILED backend\tests\test_services\test_production_schema.py::TestProductionDateValidator::test_edge_case_dates
ERROR backend\tests\api\test_analytics_flaws.py::test_hourly_production_no_events_returns_zeros
ERROR backend\tests\api\test_analytics_flaws.py::test_midnight_boundary_respects_timezone
ERROR backend\tests\api\v1\test_factory_settings.py::test_factory_settings_localization_and_snapshot
ERROR backend\tests\api\v1\test_team.py::test_list_members_as_owner - sqlalch...
ERROR backend\tests\api\v1\test_team.py::test_list_members_as_manager_forbidden
ERROR backend\tests\api\v1\test_team.py::test_assign_user_to_line - sqlalchem...
ERROR backend\tests\api\v1\test_team.py::test_remove_user_scope - sqlalchemy....
ERROR backend\tests\api\v1\test_team.py::test_cannot_assign_cross_org_user - ...
ERROR backend\tests\api\v1\test_users.py::test_get_user_me - sqlalchemy.exc.N...
ERROR backend\tests\api\v1\test_users.py::test_update_user_me - sqlalchemy.ex...
ERROR backend\tests\api\v1\test_users.py::test_update_user_invalid_timezone
ERROR backend\tests\api\v1\test_users.py::test_update_user_partial_preferences
ERROR backend\tests\api\v1\test_users.py::test_update_user_invalid_preference_type
ERROR backend\tests\e2e\test_excel_to_dashboard.py::test_e2e_excel_ingestion_and_dashboard
ERROR backend\tests\test_api\test_ai_decisions.py::test_list_ai_decisions - s...
ERROR backend\tests\test_api\test_ai_decisions.py::test_list_ai_decisions_with_filters
ERROR backend\tests\test_api\test_ai_decisions.py::test_get_ai_decision_by_id
ERROR backend\tests\test_api\test_ai_decisions.py::test_get_ai_decision_not_found
ERROR backend\tests\test_api\test_ai_decisions.py::test_get_data_source_ai_decisions
ERROR backend\tests\test_api\test_ai_decisions.py::test_ai_decisions_pagination
ERROR backend\tests\test_api\test_ai_decisions.py::test_ai_decisions_require_auth
ERROR backend\tests\test_api\test_analytics_real.py::test_get_overview_stats_real
ERROR backend\tests\test_api\test_analytics_real.py::test_get_production_chart_real
ERROR backend\tests\test_api\test_analytics_real.py::test_get_lowest_performers_real
ERROR backend\tests\test_api\test_analytics_real.py::test_get_discrepancies_real
ERROR backend\tests\test_api\test_auth.py::test_login_success - sqlalchemy.ex...
ERROR backend\tests\test_api\test_auth.py::test_login_invalid_password - sqla...
ERROR backend\tests\test_api\test_auth.py::test_login_user_not_found - sqlalc...
ERROR backend\tests\test_api\test_auth.py::test_register_success - sqlalchemy...
ERROR backend\tests\test_api\test_dashboard_creation_flow.py::test_complete_dashboard_creation_flow
ERROR backend\tests\test_api\test_dashboard_creation_flow.py::test_dashboard_creation_blocked_by_factory_quota
ERROR backend\tests\test_api\test_dashboard_creation_flow.py::test_multiple_dashboards_same_data_source
ERROR backend\tests\test_api\test_dashboard_creation_flow.py::test_list_dashboards_filtered_by_factory
ERROR backend\tests\test_api\test_dashboard_flow.py::test_edit_configuration
ERROR backend\tests\test_api\test_dashboard_flow.py::test_view_uploaded_files
ERROR backend\tests\test_api\test_dashboard_flow.py::test_upload_history_isolation
ERROR backend\tests\test_api\test_dashboard_flow.py::test_upload_history_simple_endpoint
ERROR backend\tests\test_api\test_dashboard_widgets.py::test_get_dhu_quality_trend
ERROR backend\tests\test_api\test_dashboard_widgets.py::test_get_style_progress
ERROR backend\tests\test_api\test_data_pipeline_robust.py::test_value_preservation_through_pipeline
ERROR backend\tests\test_api\test_data_pipeline_robust.py::test_date_format_handling
ERROR backend\tests\test_api\test_data_pipeline_robust.py::test_efficiency_normalization
ERROR backend\tests\test_api\test_data_pipeline_robust.py::test_null_handling
ERROR backend\tests\test_api\test_data_pipeline_robust.py::test_data_integrity_across_multiple_rows
ERROR backend\tests\test_api\test_data_pipeline_robust.py::test_style_and_order_creation
ERROR backend\tests\test_api\test_data_pipeline_robust.py::test_duplicate_upload_handling
ERROR backend\tests\test_api\test_data_pipeline_robust.py::test_multiple_widgets_receive_correct_data
ERROR backend\tests\test_api\test_data_pipeline_robust.py::test_invalid_data_handling
ERROR backend\tests\test_api\test_data_pipeline_robust.py::test_analytics_sum_matches_database
ERROR backend\tests\test_api\test_datasource.py::test_create_data_source - sq...
ERROR backend\tests\test_api\test_datasource.py::test_get_data_source - sqlal...
ERROR backend\tests\test_api\test_datasource.py::test_get_data_source_by_line
ERROR backend\tests\test_api\test_datasource.py::test_update_schema_mapping
ERROR backend\tests\test_api\test_datasource.py::test_create_duplicate_data_source_fails
ERROR backend\tests\test_api\test_datasources_by_line.py::test_get_datasource_by_line_exists
ERROR backend\tests\test_api\test_datasources_by_line.py::test_get_datasource_by_line_none
ERROR backend\tests\test_api\test_datasources_by_line.py::test_get_datasource_cross_line_isolation
ERROR backend\tests\test_api\test_datasources_by_line.py::test_update_datasource
ERROR backend\tests\test_api\test_demo_pipeline.py::test_demo_full_pipeline_with_excel_file
ERROR backend\tests\test_api\test_demo_pipeline.py::test_demo_data_values_integrity
ERROR backend\tests\test_api\test_destructive_flows.py::test_delete_datasource_cascade
ERROR backend\tests\test_api\test_destructive_flows.py::test_clear_history_file_cleanup
ERROR backend\tests\test_api\test_destructive_flows.py::test_clear_history_missing_file
ERROR backend\tests\test_api\test_destructive_flows.py::test_permissions_restricted_delete
ERROR backend\tests\test_api\test_destructive_flows.py::test_deep_data_cleanup
ERROR backend\tests\test_api\test_destructive_flows.py::test_cross_tenant_isolation
ERROR backend\tests\test_api\test_destructive_flows.py::test_audit_logging_mock
ERROR backend\tests\test_api\test_dry_run_flow.py::test_dry_run_preview_structure
ERROR backend\tests\test_api\test_dry_run_flow.py::test_date_auto_fixing_detection
ERROR backend\tests\test_api\test_dry_run_flow.py::test_efficiency_percentage_cleaning
ERROR backend\tests\test_api\test_dry_run_flow.py::test_decimal_field_handling
ERROR backend\tests\test_api\test_dry_run_flow.py::test_integer_field_cleaning
ERROR backend\tests\test_api\test_dry_run_flow.py::test_column_mapping_application
ERROR backend\tests\test_api\test_dry_run_flow.py::test_overall_status_with_warnings
ERROR backend\tests\test_api\test_dry_run_flow.py::test_overall_status_all_valid
ERROR backend\tests\test_api\test_dry_run_flow.py::test_promotion_after_dry_run_approval
ERROR backend\tests\test_api\test_dry_run_flow.py::test_dry_run_with_missing_schema_mapping
ERROR backend\tests\test_api\test_dry_run_flow.py::test_dry_run_limits_to_20_rows
ERROR backend\tests\test_api\test_dry_run_flow.py::test_raw_data_preserved_in_preview
ERROR backend\tests\test_api\test_error_handling.py::test_404_json_response
ERROR backend\tests\test_api\test_error_handling.py::test_validation_error_json_response
ERROR backend\tests\test_api\test_error_handling.py::test_upload_bad_file_json_response
ERROR backend\tests\test_api\test_error_handling.py::test_delete_204_response
ERROR backend\tests\test_api\test_excel_to_widget_integrity.py::test_golden_master_excel_to_overview_widget
ERROR backend\tests\test_api\test_excel_to_widget_integrity.py::test_golden_master_physics_validation_triggers
ERROR backend\tests\test_api\test_factories.py::test_create_factory - sqlalch...
ERROR backend\tests\test_api\test_factories.py::test_list_factories - sqlalch...
ERROR backend\tests\test_api\test_factories.py::test_production_line_crud - s...
ERROR backend\tests\test_api\test_fallback_logic.py::test_overview_fallback
ERROR backend\tests\test_api\test_fallback_logic.py::test_production_chart_fallback
ERROR backend\tests\test_api\test_fallback_logic.py::test_sam_performance_fallback
ERROR backend\tests\test_api\test_fallback_logic.py::test_hourly_fallback - s...
ERROR backend\tests\test_api\test_individual_widgets.py::test_get_hourly_production
ERROR backend\tests\test_api\test_individual_widgets.py::test_get_sam_performance
ERROR backend\tests\test_api\test_individual_widgets.py::test_get_workforce_stats
ERROR backend\tests\test_api\test_individual_widgets.py::test_get_dhu_history
ERROR backend\tests\test_api\test_individual_widgets.py::test_get_speed_vs_quality
ERROR backend\tests\test_api\test_individual_widgets.py::test_get_complexity_impact
ERROR backend\tests\test_api\test_individual_widgets.py::test_get_downtime_reasons
ERROR backend\tests\test_api\test_ingestion_deduplication.py::test_ingestion_deduplication
ERROR backend\tests\test_api\test_ingestion_deduplication.py::test_mapping_state_endpoint
ERROR backend\tests\test_api\test_ingestion_deduplication.py::test_process_idempotency
ERROR backend\tests\test_api\test_ingestion_flow.py::test_full_ingestion_flow
ERROR backend\tests\test_api\test_ingestion_flow.py::test_schema_evolution - ...
ERROR backend\tests\test_api\test_integrity.py::test_production_run_constraints
ERROR backend\tests\test_api\test_line_management.py::test_reset_schema_configuration
ERROR backend\tests\test_api\test_line_management.py::test_clear_upload_history
ERROR backend\tests\test_api\test_organizations.py::test_get_my_organization
ERROR backend\tests\test_api\test_organizations.py::test_update_my_organization
ERROR backend\tests\test_api\test_organizations.py::test_get_organization_by_id
ERROR backend\tests\test_api\test_preview.py::test_preview_endpoint_success
ERROR backend\tests\test_api\test_preview.py::test_list_uploads_includes_datasource_id
ERROR backend\tests\test_api\test_preview_dry_run_endpoint.py::test_preview_dry_run_endpoint
ERROR backend\tests\test_api\test_production.py::test_style_crud - sqlalchemy...
ERROR backend\tests\test_api\test_production.py::test_order_crud - sqlalchemy...
ERROR backend\tests\test_api\test_production.py::test_production_run_lifecycle
ERROR backend\tests\test_api\test_production.py::test_create_order_invalid_style
ERROR backend\tests\test_api\test_production.py::test_create_run_factory_mismatch
ERROR backend\tests\test_api\test_promotion.py::test_promotion_logic_full_cycle
ERROR backend\tests\test_api\test_quality_constraints.py::test_quality_inspection_allows_different_types_per_run
ERROR backend\tests\test_api\test_quality_constraints.py::test_quality_inspection_rejects_duplicate_type_per_run
ERROR backend\tests\test_api\test_quality_import.py::test_quality_data_promotion
ERROR backend\tests\test_api\test_quota_enforcement.py::test_factory_quota_enforced
ERROR backend\tests\test_api\test_quota_enforcement.py::test_line_quota_enforced
ERROR backend\tests\test_api\test_quota_enforcement.py::test_soft_deleted_factories_not_counted
ERROR backend\tests\test_api\test_quota_enforcement.py::test_quota_status_endpoint
ERROR backend\tests\test_api\test_quota_enforcement.py::test_enterprise_tier_quotas
ERROR backend\tests\test_api\test_quota_enforcement.py::test_quota_at_exact_limit
ERROR backend\tests\test_api\test_quota_enforcement.py::test_zero_quota_blocks_creation
ERROR backend\tests\test_api\test_repro_500.py::test_list_dashboards_by_factory_id_crash
ERROR backend\tests\test_api\test_samples.py::test_list_sample_files - sqlalc...
ERROR backend\tests\test_api\test_samples.py::test_download_sample_file - sql...
ERROR backend\tests\test_api\test_samples.py::test_download_csv_sample_file
ERROR backend\tests\test_api\test_samples.py::test_download_nonexistent_file
ERROR backend\tests\test_api\test_samples.py::test_download_with_path_traversal_attempt
ERROR backend\tests\test_api\test_samples.py::test_sample_files_have_descriptions
ERROR backend\tests\test_api\test_schema_config.py::test_schema_configuration_flow
ERROR backend\tests\test_api\test_schema_mapping_reuse.py::test_confirm_mapping_deactivates_previous
ERROR backend\tests\test_api\test_schema_mapping_reuse.py::test_schema_mapping_version_increments_correctly
ERROR backend\tests\test_api\test_storage_separation.py::test_storage_segmentation
ERROR backend\tests\test_api\test_style_progress.py::test_get_style_progress_with_pending_orders
ERROR backend\tests\test_api\test_upload.py::TestUploadEndpoints::test_upload_endpoint_requires_auth
ERROR backend\tests\test_api\test_upload.py::TestUploadEndpoints::test_upload_rejects_non_excel
ERROR backend\tests\test_api\test_upload.py::TestUploadEndpoints::test_upload_accepts_xlsx
ERROR backend\tests\test_api\test_upload_history.py::test_upload_history_segmentation
ERROR backend\tests\test_api\test_upload_preview.py::test_upload_csv_file - s...
ERROR backend\tests\test_api\test_upload_preview.py::test_preview_csv_file - ...
ERROR backend\tests\test_api\test_upload_preview.py::test_preview_excel_file
ERROR backend\tests\test_api\test_upload_preview.py::test_preview_nonexistent_file
ERROR backend\tests\test_api\test_upload_preview.py::test_upload_invalid_file_extension
ERROR backend\tests\test_api\test_verification_cascade.py::test_factory_deletion_cascade_behavior
ERROR backend\tests\test_api\test_widget_data_e2e.py::test_full_widget_data_flow
ERROR backend\tests\test_api\test_widget_data_e2e.py::test_widget_endpoint_with_line_filter
ERROR backend\tests\test_ingestion\test_full_flow.py::test_full_data_flow - s...
ERROR backend\tests\test_mapping_intelligence.py::test_mapping_engine_intelligence
ERROR backend\tests\test_sequential_ingestion.py::test_jan_feb_march_continuity
ERROR backend\tests\test_services\test_ai_decision_logging.py::test_ai_decision_creation
ERROR backend\tests\test_services\test_ai_decision_logging.py::test_schema_inference_logging
ERROR backend\tests\test_services\test_ai_decision_logging.py::test_code_generation_logging
ERROR backend\tests\test_services\test_ai_decision_logging.py::test_ai_decision_data_source_relationship
ERROR backend\tests\test_services\test_ai_decision_logging.py::test_ai_decision_confidence_calculation
ERROR backend\tests\test_services\test_ai_decision_logging.py::test_ai_decision_metadata_completeness
ERROR backend\tests\test_services\test_file_processor.py::TestFileProcessorDryRun::test_dry_run_preview_basic
ERROR backend\tests\test_services\test_file_processor.py::TestFileProcessorDryRun::test_dry_run_detects_date_warnings
ERROR backend\tests\test_services\test_file_processor.py::TestFileProcessorDryRun::test_dry_run_shows_before_after
ERROR backend\tests\test_widget_judge.py::test_judge_workforce_integrity_and_scope
ERROR backend\tests\test_widget_judge.py::test_judge_overview_timezone_and_scope
ERROR backend\tests\test_widget_judge.py::test_judge_no_fake_simulation - sql...
======= 9 failed, 61 passed, 1 skipped, 168 errors in 126.05s (0:02:06) =======
