2026-01-05 00:51:28 | DEBUG    | passlib.utils.compat | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2026-01-05 00:51:28 | DEBUG    | passlib.utils.compat | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2026-01-05 00:51:28 | DEBUG    | passlib.utils.compat | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2026-01-05 00:51:28 | DEBUG    | passlib.registry | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
============================= test session starts =============================
platform win32 -- Python 3.13.5, pytest-9.0.2, pluggy-1.6.0 -- C:\Python313\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\19803\business\FactoryExcelManager\backend
configfile: pytest.ini
plugins: anyio-4.12.0, Faker-40.1.0, langsmith-0.5.1, asyncio-1.3.0, cov-7.0.0, mock-3.15.1
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 4 items

tests/test_api/test_analytics_real.py::test_get_overview_stats_real 2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.address`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.address` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.automotive`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.automotive` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.bank`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Specified locale `en_US` is not available for provider `faker.providers.bank`. Locale reset to `en_GB` for this provider.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.barcode`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.barcode` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.color`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.color` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.company`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.company` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.credit_card`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.credit_card` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.currency`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.currency` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.date_time`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.date_time` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.doi` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.emoji` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.file` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.geo`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.geo` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.internet`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.internet` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.isbn`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.isbn` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.job`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.job` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.lorem`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.lorem` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.misc`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.misc` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.passport`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.passport` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.person`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.person` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.phone_number`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.phone_number` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.profile` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.python` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.sbn` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.ssn`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.ssn` has been localized to `en_US`.
2026-01-05 00:51:29 | DEBUG    | faker.factory | Provider `faker.providers.user_agent` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:51:29 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:51:29 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:51:31 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing <function connect.<locals>.connector at 0x000001E9339F2DE0>
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation <function connect.<locals>.connector at 0x000001E9339F2DE0> completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E9339DD6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E910D405E0>, deterministic=True)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E9339DD6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E910D405E0>, deterministic=True) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E9339DD6C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E9339DD6C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAB40>, 'PRAGMA read_uncommitted', [])
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAB40>, 'PRAGMA read_uncommitted', []) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAB40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAB40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAB40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAB40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAE40>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAE40>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAE40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAE40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAEC0>, 'PRAGMA main.table_info("ai_decisions")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAEC0>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAEC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAEC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAEC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAEC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAFC0>, 'PRAGMA temp.table_info("ai_decisions")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAFC0>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAFC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAFC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAFC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAFC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB040>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB040>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB040>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB040>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A217C0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A217C0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A217C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A217C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB4C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB4C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB4C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB4C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EABC0>, 'PRAGMA main.table_info("alias_mappings")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EABC0>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EABC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EABC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EABC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EABC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA9C0>, 'PRAGMA temp.table_info("alias_mappings")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA9C0>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA9C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA9C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA9C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA9C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A218C0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A218C0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A218C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A218C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21AC0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21AC0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21AC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21AC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22340>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22340>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22340>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22340>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21D40>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21D40>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21D40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21D40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A231C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A231C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A231C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A231C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21CC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21CC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21CC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21CC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A234C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A234C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A234C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A234C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA7C0>, 'PRAGMA main.table_info("efficiency_metrics")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA7C0>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA7C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA7C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA7C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA7C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21840>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21840>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21840>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21840>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21840>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21840>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22C40>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22C40>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22C40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22C40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A23C40>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A23C40>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A23C40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A23C40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21EC0>, 'PRAGMA main.table_info("dhu_reports")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21EC0>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21EC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21EC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21EC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21EC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22940>, 'PRAGMA temp.table_info("dhu_reports")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22940>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A22940>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A22940>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22940>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22940>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A239C0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A239C0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A239C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A239C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21DC0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21DC0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21DC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21DC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CF40>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CF40>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CF40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CF40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A23740>, 'PRAGMA main.table_info("traceability_records")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A23740>, 'PRAGMA main.table_info("traceability_records")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A23740>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A23740>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A23740>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A23740>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21E40>, 'PRAGMA temp.table_info("traceability_records")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21E40>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21E40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21E40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21E40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21E40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D140>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D140>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D140>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D140>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CEC0>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CEC0>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CEC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CEC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D540>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D540>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D540>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D540>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DEC0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DEC0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DEC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DEC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C040>, 'PRAGMA main.table_info("fabric_lots")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C040>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3C040>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3C040>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C040>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C040>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C4C0>, 'PRAGMA temp.table_info("fabric_lots")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C4C0>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3C4C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3C4C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C4C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C4C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D340>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D340>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D340>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D340>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CCC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CCC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CCC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CCC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EBC0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EBC0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EBC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EBC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E5C0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E5C0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E5C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E5C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CDC0>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CDC0>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CDC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CDC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D0C0>, 'PRAGMA main.table_info("cut_tickets")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D0C0>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3D0C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3D0C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D0C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D0C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E7C0>, 'PRAGMA temp.table_info("cut_tickets")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E7C0>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E7C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E7C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E7C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E7C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DAC0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DAC0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DAC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DAC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F2C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F2C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F2C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F2C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E8C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E8C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E8C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E8C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F140>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F140>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F140>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F140>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FD40>, 'PRAGMA main.table_info("dashboards")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FD40>, 'PRAGMA main.table_info("dashboards")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3FD40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3FD40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FD40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FD40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EB40>, 'PRAGMA temp.table_info("dashboards")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EB40>, 'PRAGMA temp.table_info("dashboards")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3EB40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3EB40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EB40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EB40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FCC0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FCC0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FCC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FCC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EAC0>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EAC0>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EAC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EAC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F8C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F8C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F8C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F8C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E540>, 'PRAGMA main.table_info("data_quality_issues")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E540>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E540>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E540>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E540>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E540>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FF40>, 'PRAGMA temp.table_info("data_quality_issues")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FF40>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3FF40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3FF40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FF40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FF40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EEC0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EEC0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EEC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EEC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F240>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F240>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F240>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F240>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70EC0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70EC0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70EC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70EC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A707C0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A707C0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A707C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A707C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A706C0>, 'PRAGMA main.table_info("data_sources")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A706C0>, 'PRAGMA main.table_info("data_sources")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A706C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A706C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A706C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A706C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70740>, 'PRAGMA temp.table_info("data_sources")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70740>, 'PRAGMA temp.table_info("data_sources")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70740>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70740>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70740>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70740>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70F40>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70F40>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70F40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70F40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72040>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72040>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72040>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72040>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A708C0>, 'PRAGMA main.table_info("schema_mappings")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A708C0>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A708C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A708C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A708C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A708C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71D40>, 'PRAGMA temp.table_info("schema_mappings")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71D40>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71D40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71D40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71D40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71D40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71640>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71640>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71640>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71640>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72CC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72CC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72CC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72CC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A721C0>, 'PRAGMA main.table_info("production_events")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A721C0>, 'PRAGMA main.table_info("production_events")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A721C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A721C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A721C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A721C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71140>, 'PRAGMA temp.table_info("production_events")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71140>, 'PRAGMA temp.table_info("production_events")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71140>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71140>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71140>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71140>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A733C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A733C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A733C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A733C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73A40>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73A40>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73A40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73A40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A738C0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A738C0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A738C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A738C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A736C0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A736C0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A736C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A736C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72840>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72840>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72840>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72840>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A725C0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A725C0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A725C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A725C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A731C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A731C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A731C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A731C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70DC0>, 'PRAGMA main.table_info("factories")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70DC0>, 'PRAGMA main.table_info("factories")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70DC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70DC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70DC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70DC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73C40>, 'PRAGMA temp.table_info("factories")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73C40>, 'PRAGMA temp.table_info("factories")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A73C40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A73C40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73C40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73C40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A737C0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A737C0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A737C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A737C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB08C0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB08C0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB08C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB08C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB06C0>, 'PRAGMA main.table_info("production_lines")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB06C0>, 'PRAGMA main.table_info("production_lines")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB06C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB06C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB06C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB06C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB02C0>, 'PRAGMA temp.table_info("production_lines")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB02C0>, 'PRAGMA temp.table_info("production_lines")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB02C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB02C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB02C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB02C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB19C0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB19C0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB19C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB19C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1FC0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1FC0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1FC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1FC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0540>, 'PRAGMA main.table_info("styles")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0540>, 'PRAGMA main.table_info("styles")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0540>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0540>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0540>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0540>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0DC0>, 'PRAGMA temp.table_info("styles")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0DC0>, 'PRAGMA temp.table_info("styles")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0DC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0DC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0DC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0DC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB26C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB26C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB26C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB26C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0F40>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0F40>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0F40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0F40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB29C0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB29C0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB29C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB29C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3640>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3640>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3640>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3640>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1E40>, 'PRAGMA main.table_info("orders")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1E40>, 'PRAGMA main.table_info("orders")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB1E40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB1E40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1E40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1E40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0AC0>, 'PRAGMA temp.table_info("orders")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0AC0>, 'PRAGMA temp.table_info("orders")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0AC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0AC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0AC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0AC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3140>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3140>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3140>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3140>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2D40>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2D40>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2D40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2D40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB38C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB38C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB38C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB38C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3440>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3440>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3440>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3440>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB34C0>, 'PRAGMA main.table_info("production_runs")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB34C0>, 'PRAGMA main.table_info("production_runs")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB34C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB34C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB34C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB34C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2A40>, 'PRAGMA temp.table_info("production_runs")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2A40>, 'PRAGMA temp.table_info("production_runs")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB2A40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB2A40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2A40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2A40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC6C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC6C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE140>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE140>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE140>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE140>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC4C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC4C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC4C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC4C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE040>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE040>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE040>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE040>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE640>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE640>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE640>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE640>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE9C0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE9C0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE9C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE9C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE2C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE2C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE2C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE2C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEDC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEDC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEDC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEDC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDF40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDF40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDF40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDF40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE840>, 'PRAGMA main.table_info("quality_inspections")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE840>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE840>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE840>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE840>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE840>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC7C0>, 'PRAGMA temp.table_info("quality_inspections")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC7C0>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADC7C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADC7C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC7C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC7C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF140>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF140>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF140>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF140>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF840>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF840>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF840>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF840>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADCAC0>, 'PRAGMA main.table_info("defects")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADCAC0>, 'PRAGMA main.table_info("defects")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADCAC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADCAC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADCAC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADCAC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDC40>, 'PRAGMA temp.table_info("defects")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDC40>, 'PRAGMA temp.table_info("defects")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADDC40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADDC40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDC40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDC40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE5C0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE5C0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE5C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE5C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADCCC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADCCC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADCCC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADCCC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADFF40>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADFF40>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADFF40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADFF40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0CD40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0CD40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0CD40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0CD40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDD40>, 'PRAGMA main.table_info("raw_imports")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDD40>, 'PRAGMA main.table_info("raw_imports")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADDD40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADDD40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDD40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDD40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF8C0>, 'PRAGMA temp.table_info("raw_imports")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF8C0>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADF8C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADF8C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF8C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF8C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C440>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C440>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C440>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C440>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DB40>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DB40>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DB40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DB40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D240>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D240>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D240>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D240>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E440>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E440>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E440>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E440>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E640>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E640>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E640>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E640>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D740>, 'PRAGMA main.table_info("staging_records")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D740>, 'PRAGMA main.table_info("staging_records")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D740>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D740>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D740>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D740>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D040>, 'PRAGMA temp.table_info("staging_records")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D040>, 'PRAGMA temp.table_info("staging_records")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D040>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D040>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D040>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D040>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E140>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E140>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E140>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E140>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E840>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E840>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E840>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E840>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C640>, 'PRAGMA main.table_info("packing_lists")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C640>, 'PRAGMA main.table_info("packing_lists")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C640>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C640>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C640>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C640>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C8C0>, 'PRAGMA temp.table_info("packing_lists")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C8C0>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C8C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C8C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C8C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C8C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0EA40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0EA40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0EA40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0EA40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FBC0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FBC0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FBC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FBC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FF40>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FF40>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FF40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FF40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C0C0>, 'PRAGMA main.table_info("cartons")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C0C0>, 'PRAGMA main.table_info("cartons")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C0C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C0C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C0C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C0C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D7C0>, 'PRAGMA temp.table_info("cartons")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D7C0>, 'PRAGMA temp.table_info("cartons")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D7C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D7C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D7C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D7C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F4C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F4C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F4C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F4C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DE40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DE40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DE40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DE40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F3C0>, 'PRAGMA main.table_info("organizations")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F3C0>, 'PRAGMA main.table_info("organizations")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F3C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F3C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F3C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F3C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F6C0>, 'PRAGMA temp.table_info("organizations")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F6C0>, 'PRAGMA temp.table_info("organizations")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C6C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C6C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C4C0>, 'PRAGMA main.table_info("users")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C4C0>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C4C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C4C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C4C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C4C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CCC0>, 'PRAGMA temp.table_info("users")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CCC0>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CCC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CCC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CCC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CCC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D9C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D9C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D9C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D9C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CBC0>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CBC0>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CBC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CBC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C540>, 'PRAGMA main.table_info("user_scopes")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C540>, 'PRAGMA main.table_info("user_scopes")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C540>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C540>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C540>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C540>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CEC0>, 'PRAGMA temp.table_info("user_scopes")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CEC0>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CEC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CEC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CEC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CEC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EA40>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EA40>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EA40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EA40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EEC0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EEC0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EEC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EEC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C940>, 'PRAGMA main.table_info("workers")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C940>, 'PRAGMA main.table_info("workers")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C940>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C940>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C940>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C940>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EB40>, 'PRAGMA temp.table_info("workers")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EB40>, 'PRAGMA temp.table_info("workers")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3EB40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3EB40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EB40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EB40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F940>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F940>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F940>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F940>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F640>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F640>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F640>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F640>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D6C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D6C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C9C0>, 'PRAGMA main.table_info("worker_skills")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C9C0>, 'PRAGMA main.table_info("worker_skills")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C9C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C9C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C9C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C9C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EC40>, 'PRAGMA temp.table_info("worker_skills")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EC40>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3EC40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3EC40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EC40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EC40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78540>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78540>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78540>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78540>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78BC0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78BC0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78BC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78BC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78F40>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78F40>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78F40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78F40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA940>, 'PRAGMA main.table_info("worker_attendances")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA940>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA940>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA940>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA940>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA940>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78740>, 'PRAGMA temp.table_info("worker_attendances")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78740>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78740>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78740>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78740>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78740>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79340>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79340>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79340>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79340>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79940>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79940>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79940>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79940>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79EC0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79EC0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79EC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79EC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78B40>, 'PRAGMA main.table_info("production_outputs")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78B40>, 'PRAGMA main.table_info("production_outputs")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78B40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78B40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78B40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78B40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79440>, 'PRAGMA temp.table_info("production_outputs")', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79440>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B79440>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B79440>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79440>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79440>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A1C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A1C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A1C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A1C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A940>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A940>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A940>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A940>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A840>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A840>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A840>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A840>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A9C0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A9C0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A9C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A9C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B798C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '4c450e3b-7468-440f-9f4f-374d63510011', '2026-01-05 05:51:31.747816', '2026-01-05 05:51:31.747824', 0, None))
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B798C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '4c450e3b-7468-440f-9f4f-374d63510011', '2026-01-05 05:51:31.747816', '2026-01-05 05:51:31.747824', 0, None)) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B798C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B798C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E63D40>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('4c450e3b-7468-440f-9f4f-374d63510011',))
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E63D40>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('4c450e3b-7468-440f-9f4f-374d63510011',)) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E63D40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E63D40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E63D40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E63D40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E90E37BCC0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('4c450e3b-7468-440f-9f4f-374d63510011',))
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E90E37BCC0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('4c450e3b-7468-440f-9f4f-374d63510011',)) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E90E37BCC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E90E37BCC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E90E37BCC0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E90E37BCC0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBBE40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('4c450e3b-7468-440f-9f4f-374d63510011',))
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBBE40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('4c450e3b-7468-440f-9f4f-374d63510011',)) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EBBE40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EBBE40>) completed
2026-01-05 00:51:31 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBBE40>)
2026-01-05 00:51:31 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBBE40>) completed
2026-01-05 00:51:31 | DEBUG    | passlib.handlers.bcrypt | detected 'bcrypt' backend, version '4.0.1'
2026-01-05 00:51:31 | DEBUG    | passlib.handlers.bcrypt | 'bcrypt' backend lacks $2$ support, enabling workaround
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E92E40>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c450e3b-7468-440f-9f4f-374d63510011', 'test@example.com', '$2b$12$le76ZQIKhjjlk4ZfvTdRWeOgIXEla1WS64A54DkEKLIjUM7KNdI4e', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '2b875d72-0d42-4afb-b52c-b3588860b0c5', '2026-01-05 05:51:32.024060', '2026-01-05 05:51:32.024066', 0, None))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E92E40>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c450e3b-7468-440f-9f4f-374d63510011', 'test@example.com', '$2b$12$le76ZQIKhjjlk4ZfvTdRWeOgIXEla1WS64A54DkEKLIjUM7KNdI4e', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '2b875d72-0d42-4afb-b52c-b3588860b0c5', '2026-01-05 05:51:32.024060', '2026-01-05 05:51:32.024066', 0, None)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E92E40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E92E40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E915C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E915C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E915C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E915C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E915C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E915C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBB640>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBB640>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EBB640>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EBB640>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBB640>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBB640>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EDC1C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EDC1C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EDC1C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EDC1C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EDC1C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EDC1C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33340>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c450e3b-7468-440f-9f4f-374d63510011', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', '2026-01-05 05:51:32.052335', '2026-01-05 05:51:32.052338'))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33340>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c450e3b-7468-440f-9f4f-374d63510011', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', '2026-01-05 05:51:32.052335', '2026-01-05 05:51:32.052338')) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33340>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33340>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33A40>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33A40>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F33A40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F33A40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33A40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33A40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54140>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54140>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F54140>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F54140>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54140>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54140>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F573C0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F573C0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F573C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F573C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F573C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F573C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F571C0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F571C0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F571C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F571C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F571C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F571C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82AC0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82AC0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82AC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82AC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82AC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82AC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FACBC0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FACBC0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FACBC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FACBC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FACBC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FACBC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F110C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', '2026-01-05 05:51:32.083535', '2026-01-05 05:51:32.083538'))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F110C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', '2026-01-05 05:51:32.083535', '2026-01-05 05:51:32.083538')) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F110C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F110C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82DC0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82DC0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82DC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82DC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82DC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82DC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FAEC40>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FAEC40>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FAEC40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FAEC40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FAEC40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FAEC40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FE1FC0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FE1FC0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FE1FC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FE1FC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FE1FC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FE1FC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54940>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '4575250b-1f9f-4b77-97a3-224ce4050a40', '2026-01-05 05:51:32.098965', '2026-01-05 05:51:32.098968'))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54940>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '4575250b-1f9f-4b77-97a3-224ce4050a40', '2026-01-05 05:51:32.098965', '2026-01-05 05:51:32.098968')) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54940>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54940>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82D40>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4575250b-1f9f-4b77-97a3-224ce4050a40', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '55e6e06c-3061-4847-a88a-dc411781abbb', '2026-01-05 05:51:32.101800', '2026-01-05 05:51:32.101804'))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82D40>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4575250b-1f9f-4b77-97a3-224ce4050a40', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '55e6e06c-3061-4847-a88a-dc411781abbb', '2026-01-05 05:51:32.101800', '2026-01-05 05:51:32.101804')) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82D40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82D40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F81140>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', '55e6e06c-3061-4847-a88a-dc411781abbb', '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '64a67a7e-40b0-4fc9-b727-20529bdb975c', '2026-01-05 05:51:32.105222', '2026-01-05 05:51:32.105224'))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F81140>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', '55e6e06c-3061-4847-a88a-dc411781abbb', '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '64a67a7e-40b0-4fc9-b727-20529bdb975c', '2026-01-05 05:51:32.105222', '2026-01-05 05:51:32.105224')) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F81140>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F81140>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F81140>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F81140>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400C440>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('64a67a7e-40b0-4fc9-b727-20529bdb975c', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:51:32.110645', '60f63a7f-d1fe-434a-ad3e-5b09805b9cbe', '2026-01-05 05:51:32.121554', '2026-01-05 05:51:32.121558'))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400C440>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('64a67a7e-40b0-4fc9-b727-20529bdb975c', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:51:32.110645', '60f63a7f-d1fe-434a-ad3e-5b09805b9cbe', '2026-01-05 05:51:32.121554', '2026-01-05 05:51:32.121558')) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400C440>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400C440>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CFC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'WK-001', 'High Performer', None, None, None, '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', None, None, None, 'USD', 1, '2304cdba-f31f-4be6-9169-feb6a7e948dc', '2026-01-05 05:51:32.124349', '2026-01-05 05:51:32.124352', 0, None, '89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'WK-002', 'Low Performer', None, None, None, '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', None, None, None, 'USD', 1, '3837523e-bcef-4798-a9c1-46772fdeaa52', '2026-01-05 05:51:32.124357', '2026-01-05 05:51:32.124358', 0, None))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CFC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'WK-001', 'High Performer', None, None, None, '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', None, None, None, 'USD', 1, '2304cdba-f31f-4be6-9169-feb6a7e948dc', '2026-01-05 05:51:32.124349', '2026-01-05 05:51:32.124352', 0, None, '89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'WK-002', 'Low Performer', None, None, None, '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', None, None, None, 'USD', 1, '3837523e-bcef-4798-a9c1-46772fdeaa52', '2026-01-05 05:51:32.124357', '2026-01-05 05:51:32.124358', 0, None)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CFC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CFC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CCC0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '64a67a7e-40b0-4fc9-b727-20529bdb975c', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '8e33e63f-c139-4d7a-bc30-55cc38e21a94', '2026-01-05 05:51:32.127129', '2026-01-05 05:51:32.127130'))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CCC0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '64a67a7e-40b0-4fc9-b727-20529bdb975c', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '8e33e63f-c139-4d7a-bc30-55cc38e21a94', '2026-01-05 05:51:32.127129', '2026-01-05 05:51:32.127130')) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CCC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CCC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400DA40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('2304cdba-f31f-4be6-9169-feb6a7e948dc', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'b78819e0-88b6-4a67-87fa-a9a04dc486e4', '2026-01-05 05:51:32.129136', '2026-01-05 05:51:32.129138', '3837523e-bcef-4798-a9c1-46772fdeaa52', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '3da00b28-f24a-405e-98f0-39b9f65c4108', '2026-01-05 05:51:32.129143', '2026-01-05 05:51:32.129144'))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400DA40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('2304cdba-f31f-4be6-9169-feb6a7e948dc', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'b78819e0-88b6-4a67-87fa-a9a04dc486e4', '2026-01-05 05:51:32.129136', '2026-01-05 05:51:32.129138', '3837523e-bcef-4798-a9c1-46772fdeaa52', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '3da00b28-f24a-405e-98f0-39b9f65c4108', '2026-01-05 05:51:32.129143', '2026-01-05 05:51:32.129144')) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400DA40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400DA40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CBC0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CBC0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CBC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CBC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CBC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CBC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072040>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072040>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072040>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072040>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072040>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072040>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933DA4DC0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933DA4DC0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933DA4DC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933DA4DC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933DA4DC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933DA4DC0>) completed
2026-01-05 00:51:32 | INFO     | app.api.v1.endpoints.analytics | [DIAG] get_overview_stats called with line_id=None
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340735C0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000'))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340735C0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000')) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340735C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340735C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340735C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340735C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073540>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073540>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934073540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934073540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073540>) completed
2026-01-05 00:51:32 | INFO     | app.api.v1.endpoints.analytics | [DIAG] Resolved effective_date=2026-01-05 (tz=UTC)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072840>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE production_runs.production_date = ?', ('2026-01-05',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072840>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE production_runs.production_date = ?', ('2026-01-05',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072840>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072840>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072840>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072840>) completed
2026-01-05 00:51:32 | INFO     | app.api.v1.endpoints.analytics | [DIAG] Found 0 ProductionRuns for effective_date=2026-01-05, line_id=None
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1154, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode characters in position 73-74: character maps to <undefined>
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pytest\__main__.py", line 9, in <module>
    raise SystemExit(pytest.console_main())
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py", line 469, in runtest
    super().runtest()
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py", line 716, in inner
    runner.run(coro, context=context)
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python313\Lib\asyncio\base_events.py", line 712, in run_until_complete
    self.run_forever()
  File "C:\Python313\Lib\asyncio\base_events.py", line 683, in run_forever
    self._run_once()
  File "C:\Python313\Lib\asyncio\base_events.py", line 2042, in _run_once
    handle._run()
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 119, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 105, in app
    response = await f(request)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 426, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 312, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\19803\business\FactoryExcelManager\backend\app\api\v1\endpoints\analytics.py", line 110, in get_overview_stats
    logger.warning(f"[DIAG] \u26a0\ufe0f NO PRODUCTION RUNS FOUND for date={effective_date}, line_id={line_id}. Dashboard widgets may show empty/mock data.")
Message: '[DIAG] \u26a0\ufe0f NO PRODUCTION RUNS FOUND for date=2026-01-05, line_id=None. Dashboard widgets may show empty/mock data.'
Arguments: ()
2026-01-05 00:51:32 | ERROR    | app.main | Unhandled exception: name 'analytics_service' is not defined
Traceback (most recent call last):
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_utils.py", line 85, in collapse_excgroups
    raise exc
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\debug_toolbar\middleware.py", line 72, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 119, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 105, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 426, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 312, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\business\FactoryExcelManager\backend\app\api\v1\endpoints\analytics.py", line 113, in get_overview_stats
    current_stats = await analytics_service.get_aggregated_stats(
                          ^^^^^^^^^^^^^^^^^
NameError: name 'analytics_service' is not defined. Did you mean: 'AnalyticsService'?
FAILED2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53540>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53540>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FDC0>, "SELECT name FROM sqlite_master WHERE type='table'", ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FDC0>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FDC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FDC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FDC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FDC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456F9C0>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456F9C0>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456F9C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456F9C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FAC0>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FAC0>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FAC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FAC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FF40>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FF40>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FF40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FF40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FE40>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FE40>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FE40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FE40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3CC0>, 'DROP TABLE IF EXISTS "traceability_records"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3CC0>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3CC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3CC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3340>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3340>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3340>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3340>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3640>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3640>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3640>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3640>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A38C0>, 'DROP TABLE IF EXISTS "dashboards"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A38C0>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A38C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A38C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3C40>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3C40>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3C40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3C40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3B40>, 'DROP TABLE IF EXISTS "data_sources"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3B40>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3B40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3B40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3BC0>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3BC0>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3BC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3BC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3E40>, 'DROP TABLE IF EXISTS "production_events"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3E40>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3E40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3E40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A35C0>, 'DROP TABLE IF EXISTS "factories"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A35C0>, 'DROP TABLE IF EXISTS "factories"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A35C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A35C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3240>, 'DROP TABLE IF EXISTS "production_lines"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3240>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3240>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3240>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2CC0>, 'DROP TABLE IF EXISTS "styles"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2CC0>, 'DROP TABLE IF EXISTS "styles"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2CC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2CC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1040>, 'DROP TABLE IF EXISTS "orders"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1040>, 'DROP TABLE IF EXISTS "orders"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1040>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1040>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A12C0>, 'DROP TABLE IF EXISTS "production_runs"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A12C0>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A12C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A12C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1440>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1440>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1440>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1440>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A17C0>, 'DROP TABLE IF EXISTS "defects"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A17C0>, 'DROP TABLE IF EXISTS "defects"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A17C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A17C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A15C0>, 'DROP TABLE IF EXISTS "raw_imports"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A15C0>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A15C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A15C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1540>, 'DROP TABLE IF EXISTS "staging_records"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1540>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A14C0>, 'DROP TABLE IF EXISTS "packing_lists"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A14C0>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A14C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A14C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1940>, 'DROP TABLE IF EXISTS "cartons"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1940>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1940>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1940>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1B40>, 'DROP TABLE IF EXISTS "organizations"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1B40>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1B40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1B40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1BC0>, 'DROP TABLE IF EXISTS "users"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1BC0>, 'DROP TABLE IF EXISTS "users"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1BC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1BC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A18C0>, 'DROP TABLE IF EXISTS "user_scopes"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A18C0>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A18C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A18C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1C40>, 'DROP TABLE IF EXISTS "workers"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1C40>, 'DROP TABLE IF EXISTS "workers"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1C40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1C40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1DC0>, 'DROP TABLE IF EXISTS "worker_skills"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1DC0>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1DC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1DC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1E40>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1E40>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1E40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1E40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2040>, 'DROP TABLE IF EXISTS "production_outputs"', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2040>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2040>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2040>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1EC0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1EC0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1EC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1EC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed

tests/test_api/test_analytics_real.py::test_get_production_chart_real 2026-01-05 00:51:32 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F240>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F240>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F240>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F240>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A700C0>, 'PRAGMA main.table_info("ai_decisions")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A700C0>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A700C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A700C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A700C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A700C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71AC0>, 'PRAGMA temp.table_info("ai_decisions")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71AC0>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71AC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71AC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71AC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71AC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FF40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FF40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FF40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FF40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EEC0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EEC0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EEC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EEC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F2C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F2C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F2C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F2C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E540>, 'PRAGMA main.table_info("alias_mappings")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E540>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E7C0>, 'PRAGMA temp.table_info("alias_mappings")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E7C0>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E7C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E7C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E7C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E7C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CCC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CCC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CCC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CCC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C040>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C040>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C040>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C040>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A707C0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A707C0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A707C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A707C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72040>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72040>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72040>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72040>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73A40>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73A40>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73A40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73A40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71140>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71140>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71140>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71140>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A706C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A706C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A706C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A706C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F140>, 'PRAGMA main.table_info("efficiency_metrics")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F140>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3F140>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3F140>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F140>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F140>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70B40>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70B40>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70B40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70B40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70B40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70B40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A735C0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A735C0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A735C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A735C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A719C0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A719C0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A719C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A719C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72840>, 'PRAGMA main.table_info("dhu_reports")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72840>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A72840>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A72840>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72840>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72840>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72CC0>, 'PRAGMA temp.table_info("dhu_reports")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72CC0>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A72CC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A72CC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72CC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72CC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A738C0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A738C0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A738C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A738C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A708C0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A708C0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A708C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A708C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70740>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70740>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70740>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70740>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71D40>, 'PRAGMA main.table_info("traceability_records")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71D40>, 'PRAGMA main.table_info("traceability_records")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71D40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71D40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71D40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71D40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A721C0>, 'PRAGMA temp.table_info("traceability_records")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A721C0>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A721C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A721C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A721C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A721C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70EC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70EC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70EC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70EC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73C40>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73C40>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73C40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73C40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0BC0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0BC0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0BC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0BC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1FC0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1FC0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1FC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1FC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A731C0>, 'PRAGMA main.table_info("fabric_lots")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A731C0>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A731C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A731C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A731C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A731C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A737C0>, 'PRAGMA temp.table_info("fabric_lots")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A737C0>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A737C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A737C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A737C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A737C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB09C0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB09C0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB09C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB09C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB02C0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB02C0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB02C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB02C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB28C0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB28C0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB28C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB28C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3140>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3140>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3140>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3140>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1D40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1D40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1D40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1D40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0E40>, 'PRAGMA main.table_info("cut_tickets")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0E40>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0E40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0E40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0E40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0E40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB07C0>, 'PRAGMA temp.table_info("cut_tickets")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB07C0>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB07C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB07C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB07C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB07C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB19C0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB19C0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB19C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB19C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB06C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB06C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB06C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB06C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3440>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3440>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3440>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3440>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2A40>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2A40>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2A40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2A40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2D40>, 'PRAGMA main.table_info("dashboards")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2D40>, 'PRAGMA main.table_info("dashboards")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB2D40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB2D40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2D40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2D40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB38C0>, 'PRAGMA temp.table_info("dashboards")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB38C0>, 'PRAGMA temp.table_info("dashboards")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB38C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB38C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB38C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB38C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0540>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0540>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0F40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0F40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0F40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0F40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB26C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB26C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB26C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB26C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1E40>, 'PRAGMA main.table_info("data_quality_issues")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1E40>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB1E40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB1E40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1E40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1E40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3640>, 'PRAGMA temp.table_info("data_quality_issues")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3640>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB3640>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB3640>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3640>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3640>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB29C0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB29C0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB29C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB29C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB08C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB08C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB08C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB08C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF1C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF1C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF1C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF1C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE640>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE640>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE640>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE640>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EAC0>, 'PRAGMA main.table_info("data_sources")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EAC0>, 'PRAGMA main.table_info("data_sources")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3EAC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3EAC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EAC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EAC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC4C0>, 'PRAGMA temp.table_info("data_sources")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC4C0>, 'PRAGMA temp.table_info("data_sources")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADC4C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADC4C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC4C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC4C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF840>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF840>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF840>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF840>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEC40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEC40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEC40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEC40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADCCC0>, 'PRAGMA main.table_info("schema_mappings")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADCCC0>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADCCC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADCCC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADCCC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADCCC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE140>, 'PRAGMA temp.table_info("schema_mappings")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE140>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE140>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE140>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE140>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE140>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE2C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE2C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE2C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE2C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEAC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEAC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEAC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEAC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE040>, 'PRAGMA main.table_info("production_events")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE040>, 'PRAGMA main.table_info("production_events")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE040>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE040>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE040>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE040>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE9C0>, 'PRAGMA temp.table_info("production_events")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE9C0>, 'PRAGMA temp.table_info("production_events")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE9C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE9C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE9C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE9C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE5C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE5C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE5C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE5C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEFC0>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEFC0>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEFC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEFC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADFF40>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADFF40>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADFF40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADFF40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDC40>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDC40>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDC40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDC40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE840>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE840>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE840>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE840>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF140>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF140>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF140>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF140>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDF40>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDF40>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDF40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDF40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF8C0>, 'PRAGMA main.table_info("factories")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF8C0>, 'PRAGMA main.table_info("factories")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADF8C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADF8C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF8C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF8C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDD40>, 'PRAGMA temp.table_info("factories")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDD40>, 'PRAGMA temp.table_info("factories")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADDD40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADDD40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDD40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDD40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A733C0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A733C0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A733C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A733C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FBC0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FBC0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FBC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FBC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E640>, 'PRAGMA main.table_info("production_lines")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E640>, 'PRAGMA main.table_info("production_lines")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E640>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E640>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E640>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E640>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E840>, 'PRAGMA temp.table_info("production_lines")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E840>, 'PRAGMA temp.table_info("production_lines")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E840>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E840>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E840>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E840>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D7C0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D7C0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D7C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D7C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FF40>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FF40>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FF40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FF40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DE40>, 'PRAGMA main.table_info("styles")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DE40>, 'PRAGMA main.table_info("styles")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0DE40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0DE40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DE40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DE40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C0C0>, 'PRAGMA temp.table_info("styles")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C0C0>, 'PRAGMA temp.table_info("styles")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C0C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C0C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C0C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C0C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F5C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F5C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F5C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F5C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F6C0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F6C0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C440>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C440>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C440>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C440>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D740>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D740>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D740>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D740>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F3C0>, 'PRAGMA main.table_info("orders")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F3C0>, 'PRAGMA main.table_info("orders")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F3C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F3C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F3C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F3C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E740>, 'PRAGMA temp.table_info("orders")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E740>, 'PRAGMA temp.table_info("orders")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E740>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E740>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E740>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E740>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0EA40>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0EA40>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0EA40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0EA40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E540>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E540>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C8C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C8C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C8C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C8C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DB40>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DB40>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DB40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DB40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E940>, 'PRAGMA main.table_info("production_runs")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E940>, 'PRAGMA main.table_info("production_runs")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E940>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E940>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E940>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E940>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CCC0>, 'PRAGMA temp.table_info("production_runs")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CCC0>, 'PRAGMA temp.table_info("production_runs")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CCC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CCC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CCC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CCC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E915C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E915C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E915C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E915C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E63D40>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E63D40>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E63D40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E63D40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E90E37BCC0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E90E37BCC0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E90E37BCC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E90E37BCC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CEC0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CEC0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CEC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CEC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EB40>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EB40>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EB40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EB40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F640>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F640>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F640>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F640>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D9C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D9C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D9C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D9C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33A40>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33A40>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33A40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33A40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBBE40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBBE40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBBE40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBBE40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FACBC0>, 'PRAGMA main.table_info("quality_inspections")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FACBC0>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FACBC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FACBC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FACBC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FACBC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EDC1C0>, 'PRAGMA temp.table_info("quality_inspections")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EDC1C0>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EDC1C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EDC1C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EDC1C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EDC1C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F573C0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F573C0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F573C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F573C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FE1FC0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FE1FC0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FE1FC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FE1FC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E92E40>, 'PRAGMA main.table_info("defects")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E92E40>, 'PRAGMA main.table_info("defects")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E92E40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E92E40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E92E40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E92E40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82AC0>, 'PRAGMA temp.table_info("defects")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82AC0>, 'PRAGMA temp.table_info("defects")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82AC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82AC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82AC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82AC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F571C0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F571C0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F571C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F571C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82DC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82DC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82DC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82DC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F81140>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F81140>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F81140>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F81140>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EA40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EA40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EA40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EA40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB34C0>, 'PRAGMA main.table_info("raw_imports")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB34C0>, 'PRAGMA main.table_info("raw_imports")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB34C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB34C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB34C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB34C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82D40>, 'PRAGMA temp.table_info("raw_imports")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82D40>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82D40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82D40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82D40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82D40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C4C0>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C4C0>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C4C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C4C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CBC0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CBC0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CBC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CBC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EEC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EEC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EEC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EEC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456F9C0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456F9C0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456F9C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456F9C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FD40>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FD40>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FD40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FD40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FDC0>, 'PRAGMA main.table_info("staging_records")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FDC0>, 'PRAGMA main.table_info("staging_records")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FDC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FDC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FDC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FDC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FAC0>, 'PRAGMA temp.table_info("staging_records")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FAC0>, 'PRAGMA temp.table_info("staging_records")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FAC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FAC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FAC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FAC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA040>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA040>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA040>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA040>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53CC0>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53CC0>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53CC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53CC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54940>, 'PRAGMA main.table_info("packing_lists")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54940>, 'PRAGMA main.table_info("packing_lists")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F54940>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F54940>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54940>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54940>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FBC0>, 'PRAGMA temp.table_info("packing_lists")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FBC0>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FBC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FBC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FBC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FBC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FF40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FF40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FF40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FF40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1ADC0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1ADC0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1ADC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1ADC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1A9C0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1A9C0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1A9C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1A9C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA1C0>, 'PRAGMA main.table_info("cartons")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA1C0>, 'PRAGMA main.table_info("cartons")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910CFA1C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910CFA1C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA1C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA1C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FC40>, 'PRAGMA temp.table_info("cartons")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FC40>, 'PRAGMA temp.table_info("cartons")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FC40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FC40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FC40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FC40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F110C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F110C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F110C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F110C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F100C0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F100C0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F100C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F100C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C6C0>, 'PRAGMA main.table_info("organizations")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C6C0>, 'PRAGMA main.table_info("organizations")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53540>, 'PRAGMA temp.table_info("organizations")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53540>, 'PRAGMA temp.table_info("organizations")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C53540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C53540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9118CB1C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9118CB1C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9118CB1C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9118CB1C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D6C0>, 'PRAGMA main.table_info("users")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D6C0>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3D6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3D6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C540>, 'PRAGMA temp.table_info("users")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C540>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072040>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072040>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072040>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072040>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073B40>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073B40>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073B40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073B40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340735C0>, 'PRAGMA main.table_info("user_scopes")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340735C0>, 'PRAGMA main.table_info("user_scopes")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340735C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340735C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340735C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340735C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072840>, 'PRAGMA temp.table_info("user_scopes")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072840>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072840>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072840>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072840>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072840>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D240>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D240>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D240>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D240>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CFC0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CFC0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CFC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CFC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073540>, 'PRAGMA main.table_info("workers")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073540>, 'PRAGMA main.table_info("workers")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934073540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934073540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934071A40>, 'PRAGMA temp.table_info("workers")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934071A40>, 'PRAGMA temp.table_info("workers")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934071A40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934071A40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934071A40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934071A40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400F4C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400F4C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400F4C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400F4C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400DA40>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400DA40>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400DA40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400DA40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400EDC0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400EDC0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400EDC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400EDC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CBC0>, 'PRAGMA main.table_info("worker_skills")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CBC0>, 'PRAGMA main.table_info("worker_skills")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CBC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CBC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CBC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CBC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CCC0>, 'PRAGMA temp.table_info("worker_skills")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CCC0>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CCC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CCC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CCC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CCC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400C440>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400C440>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400C440>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400C440>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B6C0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B6C0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79EC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79EC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79EC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79EC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79340>, 'PRAGMA main.table_info("worker_attendances")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79340>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B79340>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B79340>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79340>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79340>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78B40>, 'PRAGMA temp.table_info("worker_attendances")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78B40>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78B40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78B40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78B40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78B40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79440>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79440>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79440>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79440>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A1C0>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A1C0>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A1C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A1C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A940>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A940>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A940>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A940>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78540>, 'PRAGMA main.table_info("production_outputs")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78540>, 'PRAGMA main.table_info("production_outputs")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78740>, 'PRAGMA temp.table_info("production_outputs")', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78740>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78740>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78740>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78740>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78740>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79940>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79940>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79940>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79940>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B640>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B640>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B640>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B640>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B798C0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B798C0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B798C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B798C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A540>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A540>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A540>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A540>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3640>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '499a1b31-70e5-4a4c-afb3-1e8e06b37702', '2026-01-05 05:51:32.903994', '2026-01-05 05:51:32.903997', 0, None))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3640>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '499a1b31-70e5-4a4c-afb3-1e8e06b37702', '2026-01-05 05:51:32.903994', '2026-01-05 05:51:32.903997', 0, None)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3640>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3640>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DAC0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DAC0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3DAC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3DAC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DAC0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DAC0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2440>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2440>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2440>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2440>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2440>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2440>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2A40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702',))
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2A40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702',)) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2A40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2A40>) completed
2026-01-05 00:51:32 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2A40>)
2026-01-05 00:51:32 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2A40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1E40>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702', 'test@example.com', '$2b$12$uL04nZUNsWOwKawZ6S4Jj.peNb6p8RwUyQF6B9NYSs4xTbQBmLO5i', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '3e529fa0-52e7-4c02-94cf-019f6c48dcff', '2026-01-05 05:51:33.116273', '2026-01-05 05:51:33.116276', 0, None))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1E40>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702', 'test@example.com', '$2b$12$uL04nZUNsWOwKawZ6S4Jj.peNb6p8RwUyQF6B9NYSs4xTbQBmLO5i', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '3e529fa0-52e7-4c02-94cf-019f6c48dcff', '2026-01-05 05:51:33.116273', '2026-01-05 05:51:33.116276', 0, None)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1E40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1E40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A23C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A23C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A23C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A23C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A23C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A23C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1FC0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1FC0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A1FC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A1FC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1FC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1FC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A19C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A19C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A19C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A19C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A19C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A19C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A17C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '4e7ad4ca-2520-482f-94ce-25a19cd4f139', '2026-01-05 05:51:33.122482', '2026-01-05 05:51:33.122483'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A17C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '4e7ad4ca-2520-482f-94ce-25a19cd4f139', '2026-01-05 05:51:33.122482', '2026-01-05 05:51:33.122483')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A17C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A17C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1DC0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1DC0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A1DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A1DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3240>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3240>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A3240>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A3240>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3240>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3240>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2BC0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2BC0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2BC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2BC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2BC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2BC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2D40>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2D40>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A24C0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A24C0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A24C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A24C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A24C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A24C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340A0F40>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340A0F40>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340A0F40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340A0F40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340A0F40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340A0F40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340710C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '21436cec-fa26-40fd-be22-a5dca41fe259', '2026-01-05 05:51:33.233663', '2026-01-05 05:51:33.233665'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340710C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '21436cec-fa26-40fd-be22-a5dca41fe259', '2026-01-05 05:51:33.233663', '2026-01-05 05:51:33.233665')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340710C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340710C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A00C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('21436cec-fa26-40fd-be22-a5dca41fe259',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A00C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('21436cec-fa26-40fd-be22-a5dca41fe259',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A00C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A00C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A00C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A00C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0EC0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('21436cec-fa26-40fd-be22-a5dca41fe259',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0EC0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('21436cec-fa26-40fd-be22-a5dca41fe259',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0EC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0EC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0EC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0EC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBCC0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('21436cec-fa26-40fd-be22-a5dca41fe259',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBCC0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('21436cec-fa26-40fd-be22-a5dca41fe259',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9342CBCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9342CBCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2CC0>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, 'fa6b681b-5971-4fcb-9ee3-129caf786034', '2026-01-05 05:51:33.240001', '2026-01-05 05:51:33.240004'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2CC0>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, 'fa6b681b-5971-4fcb-9ee3-129caf786034', '2026-01-05 05:51:33.240001', '2026-01-05 05:51:33.240004')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2CC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2CC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2140>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('fa6b681b-5971-4fcb-9ee3-129caf786034', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'c0cf0eff-0c37-429d-b968-1e56a5cc3456', '2026-01-05 05:51:33.241510', '2026-01-05 05:51:33.241512'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2140>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('fa6b681b-5971-4fcb-9ee3-129caf786034', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'c0cf0eff-0c37-429d-b968-1e56a5cc3456', '2026-01-05 05:51:33.241510', '2026-01-05 05:51:33.241512')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A14C0>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'c0cf0eff-0c37-429d-b968-1e56a5cc3456', '21436cec-fa26-40fd-be22-a5dca41fe259', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '7e405d28-26b7-4404-bab4-9883abc10c39', '2026-01-05 05:51:33.242985', '2026-01-05 05:51:33.242987'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A14C0>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'c0cf0eff-0c37-429d-b968-1e56a5cc3456', '21436cec-fa26-40fd-be22-a5dca41fe259', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '7e405d28-26b7-4404-bab4-9883abc10c39', '2026-01-05 05:51:33.242985', '2026-01-05 05:51:33.242987')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A14C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A14C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A14C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A14C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0E40>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('7e405d28-26b7-4404-bab4-9883abc10c39', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:51:33.244477', '2377a822-fac5-4dfe-b4e4-c135f96e19c8', '2026-01-05 05:51:33.244823', '2026-01-05 05:51:33.244825'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0E40>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('7e405d28-26b7-4404-bab4-9883abc10c39', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:51:33.244477', '2377a822-fac5-4dfe-b4e4-c135f96e19c8', '2026-01-05 05:51:33.244823', '2026-01-05 05:51:33.244825')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0E40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0E40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0540>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'WK-001', 'High Performer', None, None, None, '21436cec-fa26-40fd-be22-a5dca41fe259', None, None, None, 'USD', 1, 'c3464f32-33b3-4bdd-8241-68921893abf4', '2026-01-05 05:51:33.245789', '2026-01-05 05:51:33.245790', 0, None, '4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'WK-002', 'Low Performer', None, None, None, '21436cec-fa26-40fd-be22-a5dca41fe259', None, None, None, 'USD', 1, 'a4690138-2e10-41d9-b586-b1ee9f3c8665', '2026-01-05 05:51:33.245795', '2026-01-05 05:51:33.245795', 0, None))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0540>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'WK-001', 'High Performer', None, None, None, '21436cec-fa26-40fd-be22-a5dca41fe259', None, None, None, 'USD', 1, 'c3464f32-33b3-4bdd-8241-68921893abf4', '2026-01-05 05:51:33.245789', '2026-01-05 05:51:33.245790', 0, None, '4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'WK-002', 'Low Performer', None, None, None, '21436cec-fa26-40fd-be22-a5dca41fe259', None, None, None, 'USD', 1, 'a4690138-2e10-41d9-b586-b1ee9f3c8665', '2026-01-05 05:51:33.245795', '2026-01-05 05:51:33.245795', 0, None)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A02C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '7e405d28-26b7-4404-bab4-9883abc10c39', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '0f5fd8b4-133a-4ccd-808a-1162c08864f9', '2026-01-05 05:51:33.247053', '2026-01-05 05:51:33.247055'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A02C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '7e405d28-26b7-4404-bab4-9883abc10c39', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '0f5fd8b4-133a-4ccd-808a-1162c08864f9', '2026-01-05 05:51:33.247053', '2026-01-05 05:51:33.247055')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A02C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A02C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A07C0>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('c3464f32-33b3-4bdd-8241-68921893abf4', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'f5958cf0-3181-41ed-868f-a7f2b22560bf', '2026-01-05 05:51:33.248091', '2026-01-05 05:51:33.248093', 'a4690138-2e10-41d9-b586-b1ee9f3c8665', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, 'ae4afb92-aef5-48af-b7e6-3ddba7c27802', '2026-01-05 05:51:33.248098', '2026-01-05 05:51:33.248098'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A07C0>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('c3464f32-33b3-4bdd-8241-68921893abf4', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'f5958cf0-3181-41ed-868f-a7f2b22560bf', '2026-01-05 05:51:33.248091', '2026-01-05 05:51:33.248093', 'a4690138-2e10-41d9-b586-b1ee9f3c8665', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, 'ae4afb92-aef5-48af-b7e6-3ddba7c27802', '2026-01-05 05:51:33.248098', '2026-01-05 05:51:33.248098')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A07C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A07C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0B40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0B40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0B40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0B40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0B40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0B40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A20840>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A20840>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A20840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A20840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A20840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A20840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A208C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A208C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A208C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A208C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A208C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A208C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0DC0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0DC0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0740>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0740>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0740>) completed
DEBUG: get_production_chart_data start=2025-12-30 end=2026-01-05 line=None
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C537C0>, 'SELECT production_runs.production_date AS production_date, sum(production_runs.actual_qty) AS actual, sum(production_runs.planned_qty) AS target \nFROM production_runs \nWHERE production_runs.production_date >= ? AND production_runs.production_date <= ? GROUP BY production_runs.production_date ORDER BY production_runs.production_date', ('2025-12-30', '2026-01-05'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C537C0>, 'SELECT production_runs.production_date AS production_date, sum(production_runs.actual_qty) AS actual, sum(production_runs.planned_qty) AS target \nFROM production_runs \nWHERE production_runs.production_date >= ? AND production_runs.production_date <= ? GROUP BY production_runs.production_date ORDER BY production_runs.production_date', ('2025-12-30', '2026-01-05')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C537C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C537C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C537C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C537C0>) completed
DEBUG: get_production_chart_data found 0 rows
2026-01-05 00:51:33 | INFO     | httpx | HTTP Request: GET http://test/api/v1/analytics/production-chart "HTTP/1.1 200 OK"
FAILED2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2740>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2740>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0840>, "SELECT name FROM sqlite_master WHERE type='table'", ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0840>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0440>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0440>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22C40>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22C40>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22C40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22C40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A237C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A237C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A237C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A237C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A20640>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A20640>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A20640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A20640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22340>, 'DROP TABLE IF EXISTS "traceability_records"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22340>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22340>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22340>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21BC0>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21BC0>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21BC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21BC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21AC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21AC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21AC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21AC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21840>, 'DROP TABLE IF EXISTS "dashboards"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21840>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22940>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22940>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A23C40>, 'DROP TABLE IF EXISTS "data_sources"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A23C40>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A23C40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A23C40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A233C0>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A233C0>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A233C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A233C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A234C0>, 'DROP TABLE IF EXISTS "production_events"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A234C0>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A234C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A234C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21EC0>, 'DROP TABLE IF EXISTS "factories"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21EC0>, 'DROP TABLE IF EXISTS "factories"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21EC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21EC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21D40>, 'DROP TABLE IF EXISTS "production_lines"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21D40>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21CC0>, 'DROP TABLE IF EXISTS "styles"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21CC0>, 'DROP TABLE IF EXISTS "styles"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21CC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21CC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB840>, 'DROP TABLE IF EXISTS "orders"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB840>, 'DROP TABLE IF EXISTS "orders"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339E9DC0>, 'DROP TABLE IF EXISTS "production_runs"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339E9DC0>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339E9DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339E9DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA740>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA740>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA8C0>, 'DROP TABLE IF EXISTS "defects"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA8C0>, 'DROP TABLE IF EXISTS "defects"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA8C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA8C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAA40>, 'DROP TABLE IF EXISTS "raw_imports"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAA40>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAA40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAA40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAB40>, 'DROP TABLE IF EXISTS "staging_records"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAB40>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAB40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAB40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAE40>, 'DROP TABLE IF EXISTS "packing_lists"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAE40>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAE40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAE40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAEC0>, 'DROP TABLE IF EXISTS "cartons"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAEC0>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAEC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAEC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAFC0>, 'DROP TABLE IF EXISTS "organizations"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAFC0>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAFC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAFC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB040>, 'DROP TABLE IF EXISTS "users"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB040>, 'DROP TABLE IF EXISTS "users"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB4C0>, 'DROP TABLE IF EXISTS "user_scopes"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB4C0>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB4C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB4C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EABC0>, 'DROP TABLE IF EXISTS "workers"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EABC0>, 'DROP TABLE IF EXISTS "workers"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EABC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EABC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA9C0>, 'DROP TABLE IF EXISTS "worker_skills"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA9C0>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA9C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA9C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA7C0>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA7C0>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA7C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA7C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA940>, 'DROP TABLE IF EXISTS "production_outputs"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA940>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EBF40>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EBF40>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EBF40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EBF40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed

tests/test_api/test_analytics_real.py::test_get_lowest_performers_real 2026-01-05 00:51:33 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72040>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72040>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A736C0>, 'PRAGMA main.table_info("ai_decisions")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A736C0>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A736C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A736C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A736C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A736C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71140>, 'PRAGMA temp.table_info("ai_decisions")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71140>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE140>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE140>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE5C0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE5C0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE5C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE5C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE9C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE9C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE9C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE9C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A700C0>, 'PRAGMA main.table_info("alias_mappings")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A700C0>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A700C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A700C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A700C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A700C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71640>, 'PRAGMA temp.table_info("alias_mappings")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71640>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC4C0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC4C0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC4C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC4C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A725C0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A725C0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A725C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A725C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71D40>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71D40>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A706C0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A706C0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A706C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A706C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A731C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A731C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A731C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A731C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70DC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70DC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70EC0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70EC0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70EC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70EC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73A40>, 'PRAGMA main.table_info("efficiency_metrics")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73A40>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A73A40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A73A40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73A40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73A40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A737C0>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A737C0>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A737C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A737C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A737C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A737C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBB640>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBB640>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBB640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBB640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E915C0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E915C0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E915C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E915C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEFC0>, 'PRAGMA main.table_info("dhu_reports")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEFC0>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADEFC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADEFC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEFC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEFC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FE1FC0>, 'PRAGMA temp.table_info("dhu_reports")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FE1FC0>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FE1FC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FE1FC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FE1FC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FE1FC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33340>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33340>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33340>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33340>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EDC1C0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EDC1C0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EDC1C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EDC1C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E92E40>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E92E40>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E92E40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E92E40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBBE40>, 'PRAGMA main.table_info("traceability_records")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBBE40>, 'PRAGMA main.table_info("traceability_records")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EBBE40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EBBE40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBBE40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBBE40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FACBC0>, 'PRAGMA temp.table_info("traceability_records")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FACBC0>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FACBC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FACBC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FACBC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FACBC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FAEC40>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FAEC40>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FAEC40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FAEC40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A707C0>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A707C0>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A707C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A707C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70740>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70740>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A735C0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A735C0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A735C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A735C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A738C0>, 'PRAGMA main.table_info("fabric_lots")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A738C0>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A738C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A738C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A738C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A738C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A708C0>, 'PRAGMA temp.table_info("fabric_lots")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A708C0>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A708C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A708C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A708C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A708C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70B40>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70B40>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70B40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70B40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70F40>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70F40>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70F40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70F40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72CC0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72CC0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72CC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72CC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3440>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3440>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1FC0>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1FC0>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1FC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1FC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A719C0>, 'PRAGMA main.table_info("cut_tickets")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A719C0>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A719C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A719C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A719C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A719C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0AC0>, 'PRAGMA temp.table_info("cut_tickets")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0AC0>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0AC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0AC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0AC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0AC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1D40>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1D40>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0540>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0540>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB38C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB38C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB38C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB38C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2A40>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2A40>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2A40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2A40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2D40>, 'PRAGMA main.table_info("dashboards")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2D40>, 'PRAGMA main.table_info("dashboards")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB2D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB2D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3140>, 'PRAGMA temp.table_info("dashboards")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3140>, 'PRAGMA temp.table_info("dashboards")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB3140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB3140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3640>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3640>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB28C0>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB28C0>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB28C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB28C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB34C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB34C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB34C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB34C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB07C0>, 'PRAGMA main.table_info("data_quality_issues")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB07C0>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB07C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB07C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB07C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB07C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB26C0>, 'PRAGMA temp.table_info("data_quality_issues")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB26C0>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB26C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB26C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB26C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB26C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB29C0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB29C0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB29C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB29C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0DC0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0DC0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB19C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB19C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB19C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB19C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54140>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54140>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0BC0>, 'PRAGMA main.table_info("data_sources")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0BC0>, 'PRAGMA main.table_info("data_sources")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0BC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0BC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0BC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0BC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0E40>, 'PRAGMA temp.table_info("data_sources")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0E40>, 'PRAGMA temp.table_info("data_sources")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0E40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0E40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0E40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0E40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82DC0>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82DC0>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C537C0>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C537C0>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C537C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C537C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F110C0>, 'PRAGMA main.table_info("schema_mappings")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F110C0>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F110C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F110C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F110C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F110C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82AC0>, 'PRAGMA temp.table_info("schema_mappings")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82AC0>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82AC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82AC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82AC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82AC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F81140>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F81140>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F81140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F81140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82D40>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82D40>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E63D40>, 'PRAGMA main.table_info("production_events")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E63D40>, 'PRAGMA main.table_info("production_events")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E63D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E63D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E63D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E63D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA040>, 'PRAGMA temp.table_info("production_events")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA040>, 'PRAGMA temp.table_info("production_events")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910CFA040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910CFA040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F571C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F571C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F571C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F571C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB08C0>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB08C0>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB08C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB08C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1AB40>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1AB40>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1AB40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1AB40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9118CB1C0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9118CB1C0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9118CB1C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9118CB1C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1ADC0>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1ADC0>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1ADC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1ADC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1A9C0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1A9C0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1A9C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1A9C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F100C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F100C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F100C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F100C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53540>, 'PRAGMA main.table_info("factories")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53540>, 'PRAGMA main.table_info("factories")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C53540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C53540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F573C0>, 'PRAGMA temp.table_info("factories")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F573C0>, 'PRAGMA temp.table_info("factories")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F573C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F573C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F573C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F573C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73C40>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73C40>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73C40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73C40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EB40>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EB40>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EB40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EB40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EEC0>, 'PRAGMA main.table_info("production_lines")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EEC0>, 'PRAGMA main.table_info("production_lines")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3EEC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3EEC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EEC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EEC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F640>, 'PRAGMA temp.table_info("production_lines")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F640>, 'PRAGMA temp.table_info("production_lines")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3F640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3F640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C940>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C940>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C540>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C540>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D6C0>, 'PRAGMA main.table_info("styles")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D6C0>, 'PRAGMA main.table_info("styles")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3D6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3D6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CCC0>, 'PRAGMA temp.table_info("styles")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CCC0>, 'PRAGMA temp.table_info("styles")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CEC0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CEC0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CEC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CEC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F940>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F940>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E140>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E140>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C440>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C440>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C4C0>, 'PRAGMA main.table_info("orders")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C4C0>, 'PRAGMA main.table_info("orders")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C4C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C4C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C4C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C4C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FF40>, 'PRAGMA temp.table_info("orders")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FF40>, 'PRAGMA temp.table_info("orders")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0FF40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0FF40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FF40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FF40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D7C0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D7C0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D7C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D7C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F6C0>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F6C0>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DE40>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DE40>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DE40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DE40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F4C0>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F4C0>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F4C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F4C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D040>, 'PRAGMA main.table_info("production_runs")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D040>, 'PRAGMA main.table_info("production_runs")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E940>, 'PRAGMA temp.table_info("production_runs")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E940>, 'PRAGMA temp.table_info("production_runs")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0CD40>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0CD40>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0CD40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0CD40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E540>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E540>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C8C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C8C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C8C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C8C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F5C0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F5C0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F5C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F5C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400DA40>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400DA40>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400DA40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400DA40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FBC0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FBC0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FBC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FBC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E740>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E740>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CCC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CCC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400F4C0>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400F4C0>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400F4C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400F4C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340A0040>, 'PRAGMA main.table_info("quality_inspections")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340A0040>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340A0040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340A0040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340A0040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340A0040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D740>, 'PRAGMA temp.table_info("quality_inspections")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D740>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934071A40>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934071A40>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934071A40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934071A40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072840>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072840>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073B40>, 'PRAGMA main.table_info("defects")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073B40>, 'PRAGMA main.table_info("defects")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934073B40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934073B40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073B40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073B40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072040>, 'PRAGMA temp.table_info("defects")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072040>, 'PRAGMA temp.table_info("defects")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBCC0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBCC0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CFC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CFC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CFC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CFC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400EDC0>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400EDC0>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400EDC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400EDC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E640>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E640>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53CC0>, 'PRAGMA main.table_info("raw_imports")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53CC0>, 'PRAGMA main.table_info("raw_imports")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C53CC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C53CC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53CC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53CC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBD40>, 'PRAGMA temp.table_info("raw_imports")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBD40>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9342CBD40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9342CBD40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBD40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBD40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0EA40>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0EA40>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0EA40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0EA40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C640>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C640>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F3C0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F3C0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F3C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F3C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DB40>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DB40>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DB40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DB40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FDC0>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FDC0>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FDC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FDC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C0C0>, 'PRAGMA main.table_info("staging_records")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C0C0>, 'PRAGMA main.table_info("staging_records")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C0C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C0C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C0C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C0C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FF40>, 'PRAGMA temp.table_info("staging_records")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FF40>, 'PRAGMA temp.table_info("staging_records")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FF40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FF40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FF40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FF40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FD40>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FD40>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FD40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FD40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FBC0>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FBC0>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FBC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FBC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FAC0>, 'PRAGMA main.table_info("packing_lists")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FAC0>, 'PRAGMA main.table_info("packing_lists")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FAC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FAC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FAC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FAC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456F9C0>, 'PRAGMA temp.table_info("packing_lists")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456F9C0>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456F9C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456F9C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456F9C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456F9C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FC40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FC40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FC40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FC40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FE40>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FE40>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FE40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FE40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78B40>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78B40>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78B40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78B40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B6C0>, 'PRAGMA main.table_info("cartons")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B6C0>, 'PRAGMA main.table_info("cartons")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B7B6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B7B6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A9C0>, 'PRAGMA temp.table_info("cartons")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A9C0>, 'PRAGMA temp.table_info("cartons")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B7A9C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B7A9C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A9C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A9C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78540>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78540>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A540>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A540>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79340>, 'PRAGMA main.table_info("organizations")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79340>, 'PRAGMA main.table_info("organizations")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B79340>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B79340>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79340>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79340>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79940>, 'PRAGMA temp.table_info("organizations")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79940>, 'PRAGMA temp.table_info("organizations")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B79940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B79940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78740>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78740>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B798C0>, 'PRAGMA main.table_info("users")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B798C0>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B798C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B798C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B798C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B798C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A840>, 'PRAGMA temp.table_info("users")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A840>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B7A840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B7A840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78F40>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78F40>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78F40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78F40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D9C0>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D9C0>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D9C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D9C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B640>, 'PRAGMA main.table_info("user_scopes")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B640>, 'PRAGMA main.table_info("user_scopes")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B7B640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B7B640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D340>, 'PRAGMA temp.table_info("user_scopes")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D340>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3D340>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3D340>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D340>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D340>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CDC0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CDC0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CDC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CDC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F140>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F140>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340710C0>, 'PRAGMA main.table_info("workers")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340710C0>, 'PRAGMA main.table_info("workers")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340710C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340710C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340710C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340710C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C040>, 'PRAGMA temp.table_info("workers")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C040>, 'PRAGMA temp.table_info("workers")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3C040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3C040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E7C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E7C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E7C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E7C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CCC0>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CCC0>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F240>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F240>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F240>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F240>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FF40>, 'PRAGMA main.table_info("worker_skills")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FF40>, 'PRAGMA main.table_info("worker_skills")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3FF40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3FF40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FF40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FF40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3ECC0>, 'PRAGMA temp.table_info("worker_skills")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3ECC0>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3ECC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3ECC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3ECC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3ECC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DAC0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DAC0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DAC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DAC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EBC0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EBC0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EBC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EBC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EEC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EEC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EEC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EEC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F2C0>, 'PRAGMA main.table_info("worker_attendances")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F2C0>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3F2C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3F2C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F2C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F2C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E540>, 'PRAGMA temp.table_info("worker_attendances")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E540>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A202C0>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A202C0>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A202C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A202C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21AC0>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21AC0>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21AC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21AC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A234C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A234C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A234C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A234C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22C40>, 'PRAGMA main.table_info("production_outputs")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22C40>, 'PRAGMA main.table_info("production_outputs")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A22C40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A22C40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22C40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22C40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21D40>, 'PRAGMA temp.table_info("production_outputs")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21D40>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A20640>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A20640>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A20640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A20640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A237C0>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A237C0>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A237C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A237C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22940>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22940>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21EC0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21EC0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21EC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21EC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0440>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '5baa14f9-57ea-48a8-861d-75fc8f379235', '2026-01-05 05:51:33.436230', '2026-01-05 05:51:33.436232', 0, None))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0440>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '5baa14f9-57ea-48a8-861d-75fc8f379235', '2026-01-05 05:51:33.436230', '2026-01-05 05:51:33.436232', 0, None)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A233C0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('5baa14f9-57ea-48a8-861d-75fc8f379235',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A233C0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('5baa14f9-57ea-48a8-861d-75fc8f379235',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A233C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A233C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A233C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A233C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A24C0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('5baa14f9-57ea-48a8-861d-75fc8f379235',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A24C0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('5baa14f9-57ea-48a8-861d-75fc8f379235',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A24C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A24C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A24C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A24C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A20C0>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('5baa14f9-57ea-48a8-861d-75fc8f379235',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A20C0>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('5baa14f9-57ea-48a8-861d-75fc8f379235',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A20C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A20C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A20C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A20C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22340>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5baa14f9-57ea-48a8-861d-75fc8f379235', 'test@example.com', '$2b$12$6QS/u5RnmCMsndvFiSb/POdBvEkcOO8BGl2YidcS2MsCHhruNj096', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'fb31901c-605e-49ac-96f9-22bdb77ce799', '2026-01-05 05:51:33.643422', '2026-01-05 05:51:33.643425', 0, None))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22340>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5baa14f9-57ea-48a8-861d-75fc8f379235', 'test@example.com', '$2b$12$6QS/u5RnmCMsndvFiSb/POdBvEkcOO8BGl2YidcS2MsCHhruNj096', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'fb31901c-605e-49ac-96f9-22bdb77ce799', '2026-01-05 05:51:33.643422', '2026-01-05 05:51:33.643425', 0, None)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22340>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22340>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A00C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('fb31901c-605e-49ac-96f9-22bdb77ce799',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A00C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('fb31901c-605e-49ac-96f9-22bdb77ce799',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A00C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A00C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A00C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A00C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0540>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('fb31901c-605e-49ac-96f9-22bdb77ce799',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0540>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('fb31901c-605e-49ac-96f9-22bdb77ce799',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A19C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('fb31901c-605e-49ac-96f9-22bdb77ce799',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A19C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('fb31901c-605e-49ac-96f9-22bdb77ce799',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A19C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A19C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A19C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A19C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3640>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5baa14f9-57ea-48a8-861d-75fc8f379235', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '91cf0966-c003-4050-b345-8b3b9ce9b7a3', '2026-01-05 05:51:33.649972', '2026-01-05 05:51:33.649974'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3640>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5baa14f9-57ea-48a8-861d-75fc8f379235', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '91cf0966-c003-4050-b345-8b3b9ce9b7a3', '2026-01-05 05:51:33.649972', '2026-01-05 05:51:33.649974')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0A40>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0A40>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0A40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0A40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0A40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0A40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB840>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB840>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB040>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB040>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB4C0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB4C0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB4C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB4C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB4C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB4C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EBCC0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EBCC0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EBCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EBCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EBCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EBCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB240>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB240>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB240>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB240>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB240>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB240>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2440>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, 'c7c46bd5-178f-46e5-96e6-6ab2469b5a85', '2026-01-05 05:51:33.659439', '2026-01-05 05:51:33.659441'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2440>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, 'c7c46bd5-178f-46e5-96e6-6ab2469b5a85', '2026-01-05 05:51:33.659439', '2026-01-05 05:51:33.659441')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A09C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('c7c46bd5-178f-46e5-96e6-6ab2469b5a85',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A09C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('c7c46bd5-178f-46e5-96e6-6ab2469b5a85',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A09C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A09C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A09C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A09C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1440>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('c7c46bd5-178f-46e5-96e6-6ab2469b5a85',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1440>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('c7c46bd5-178f-46e5-96e6-6ab2469b5a85',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A1440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A1440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA7C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('c7c46bd5-178f-46e5-96e6-6ab2469b5a85',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA7C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('c7c46bd5-178f-46e5-96e6-6ab2469b5a85',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA7C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA7C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA7C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA7C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0740>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '138c6e2a-a104-4d50-bcce-ec1f3db5ffb1', '2026-01-05 05:51:33.665421', '2026-01-05 05:51:33.665424'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0740>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '138c6e2a-a104-4d50-bcce-ec1f3db5ffb1', '2026-01-05 05:51:33.665421', '2026-01-05 05:51:33.665424')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A12C0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('138c6e2a-a104-4d50-bcce-ec1f3db5ffb1', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'a441b44d-388e-4a45-9a60-76c1e7177bf6', '2026-01-05 05:51:33.666965', '2026-01-05 05:51:33.666967'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A12C0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('138c6e2a-a104-4d50-bcce-ec1f3db5ffb1', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'a441b44d-388e-4a45-9a60-76c1e7177bf6', '2026-01-05 05:51:33.666965', '2026-01-05 05:51:33.666967')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A12C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A12C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0840>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3', 'a441b44d-388e-4a45-9a60-76c1e7177bf6', 'c7c46bd5-178f-46e5-96e6-6ab2469b5a85', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '692aa6d3-2ccc-43d5-8108-7c67c6866b09', '2026-01-05 05:51:33.668353', '2026-01-05 05:51:33.668354'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0840>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3', 'a441b44d-388e-4a45-9a60-76c1e7177bf6', 'c7c46bd5-178f-46e5-96e6-6ab2469b5a85', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '692aa6d3-2ccc-43d5-8108-7c67c6866b09', '2026-01-05 05:51:33.668353', '2026-01-05 05:51:33.668354')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0DC0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('692aa6d3-2ccc-43d5-8108-7c67c6866b09', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:51:33.669665', 'c81815f2-9ac2-4dee-b417-28bec6284817', '2026-01-05 05:51:33.669996', '2026-01-05 05:51:33.669997'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0DC0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('692aa6d3-2ccc-43d5-8108-7c67c6866b09', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:51:33.669665', 'c81815f2-9ac2-4dee-b417-28bec6284817', '2026-01-05 05:51:33.669996', '2026-01-05 05:51:33.669997')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2140>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3', 'WK-001', 'High Performer', None, None, None, 'c7c46bd5-178f-46e5-96e6-6ab2469b5a85', None, None, None, 'USD', 1, '0029fbc5-5f99-4f80-8325-170126673245', '2026-01-05 05:51:33.670860', '2026-01-05 05:51:33.670862', 0, None, '91cf0966-c003-4050-b345-8b3b9ce9b7a3', 'WK-002', 'Low Performer', None, None, None, 'c7c46bd5-178f-46e5-96e6-6ab2469b5a85', None, None, None, 'USD', 1, '25829467-07c5-4c33-bcb3-006c70f3ff5c', '2026-01-05 05:51:33.670867', '2026-01-05 05:51:33.670867', 0, None))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2140>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('91cf0966-c003-4050-b345-8b3b9ce9b7a3', 'WK-001', 'High Performer', None, None, None, 'c7c46bd5-178f-46e5-96e6-6ab2469b5a85', None, None, None, 'USD', 1, '0029fbc5-5f99-4f80-8325-170126673245', '2026-01-05 05:51:33.670860', '2026-01-05 05:51:33.670862', 0, None, '91cf0966-c003-4050-b345-8b3b9ce9b7a3', 'WK-002', 'Low Performer', None, None, None, 'c7c46bd5-178f-46e5-96e6-6ab2469b5a85', None, None, None, 'USD', 1, '25829467-07c5-4c33-bcb3-006c70f3ff5c', '2026-01-05 05:51:33.670867', '2026-01-05 05:51:33.670867', 0, None)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A39C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '692aa6d3-2ccc-43d5-8108-7c67c6866b09', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'c4e683c7-a47c-4354-8927-4391c0362838', '2026-01-05 05:51:33.672118', '2026-01-05 05:51:33.672120'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A39C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '692aa6d3-2ccc-43d5-8108-7c67c6866b09', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'c4e683c7-a47c-4354-8927-4391c0362838', '2026-01-05 05:51:33.672118', '2026-01-05 05:51:33.672120')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A39C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A39C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0340>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('0029fbc5-5f99-4f80-8325-170126673245', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, '82cd42b8-c6d9-45e5-908f-abb5afefd2f1', '2026-01-05 05:51:33.673022', '2026-01-05 05:51:33.673023', '25829467-07c5-4c33-bcb3-006c70f3ff5c', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '36c7df73-bbb6-400b-b796-e74b33cc3dfd', '2026-01-05 05:51:33.673028', '2026-01-05 05:51:33.673028'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0340>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('0029fbc5-5f99-4f80-8325-170126673245', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, '82cd42b8-c6d9-45e5-908f-abb5afefd2f1', '2026-01-05 05:51:33.673022', '2026-01-05 05:51:33.673023', '25829467-07c5-4c33-bcb3-006c70f3ff5c', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '36c7df73-bbb6-400b-b796-e74b33cc3dfd', '2026-01-05 05:51:33.673028', '2026-01-05 05:51:33.673028')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0340>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0340>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAD40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('fb31901c-605e-49ac-96f9-22bdb77ce799',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAD40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('fb31901c-605e-49ac-96f9-22bdb77ce799',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAD40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAD40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAD40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAD40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB340>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('fb31901c-605e-49ac-96f9-22bdb77ce799',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB340>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('fb31901c-605e-49ac-96f9-22bdb77ce799',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB340>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB340>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB340>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB340>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA840>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('fb31901c-605e-49ac-96f9-22bdb77ce799',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA840>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('fb31901c-605e-49ac-96f9-22bdb77ce799',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1040>, 'SELECT workers.factory_id, workers.employee_id, workers.full_name, workers.department, workers.job_title, workers.primary_skill, workers.line_id, workers.hire_date, workers.termination_date, workers.hourly_rate, workers.currency, workers.is_active, workers.id, workers.created_at, workers.updated_at, workers.is_deleted, workers.deleted_at, worker_skills.worker_id, worker_skills.operation, worker_skills.operation_category, worker_skills.proficiency_pct, worker_skills.sam_achieved, worker_skills.efficiency_pct, worker_skills.defect_rate_pct, worker_skills.pieces_lifetime, worker_skills.pieces_30d, worker_skills.is_certified, worker_skills.certification_date, worker_skills.last_assessed, worker_skills.id AS id_1, worker_skills.created_at AS created_at_1, worker_skills.updated_at AS updated_at_1, production_lines.name AS line_name \nFROM workers JOIN worker_skills ON workers.id = worker_skills.worker_id LEFT OUTER JOIN production_lines ON workers.line_id = production_lines.id \nWHERE workers.is_active = 1 ORDER BY worker_skills.efficiency_pct ASC\n LIMIT ? OFFSET ?', (5, 0))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1040>, 'SELECT workers.factory_id, workers.employee_id, workers.full_name, workers.department, workers.job_title, workers.primary_skill, workers.line_id, workers.hire_date, workers.termination_date, workers.hourly_rate, workers.currency, workers.is_active, workers.id, workers.created_at, workers.updated_at, workers.is_deleted, workers.deleted_at, worker_skills.worker_id, worker_skills.operation, worker_skills.operation_category, worker_skills.proficiency_pct, worker_skills.sam_achieved, worker_skills.efficiency_pct, worker_skills.defect_rate_pct, worker_skills.pieces_lifetime, worker_skills.pieces_30d, worker_skills.is_certified, worker_skills.certification_date, worker_skills.last_assessed, worker_skills.id AS id_1, worker_skills.created_at AS created_at_1, worker_skills.updated_at AS updated_at_1, production_lines.name AS line_name \nFROM workers JOIN worker_skills ON workers.id = worker_skills.worker_id LEFT OUTER JOIN production_lines ON workers.line_id = production_lines.id \nWHERE workers.is_active = 1 ORDER BY worker_skills.efficiency_pct ASC\n LIMIT ? OFFSET ?', (5, 0)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A1040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A1040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339E9CC0>, 'SELECT worker_skills.worker_id AS worker_skills_worker_id, worker_skills.operation AS worker_skills_operation, worker_skills.operation_category AS worker_skills_operation_category, worker_skills.proficiency_pct AS worker_skills_proficiency_pct, worker_skills.sam_achieved AS worker_skills_sam_achieved, worker_skills.efficiency_pct AS worker_skills_efficiency_pct, worker_skills.defect_rate_pct AS worker_skills_defect_rate_pct, worker_skills.pieces_lifetime AS worker_skills_pieces_lifetime, worker_skills.pieces_30d AS worker_skills_pieces_30d, worker_skills.is_certified AS worker_skills_is_certified, worker_skills.certification_date AS worker_skills_certification_date, worker_skills.last_assessed AS worker_skills_last_assessed, worker_skills.id AS worker_skills_id, worker_skills.created_at AS worker_skills_created_at, worker_skills.updated_at AS worker_skills_updated_at \nFROM worker_skills \nWHERE worker_skills.worker_id IN (?, ?)', ('25829467-07c5-4c33-bcb3-006c70f3ff5c', '0029fbc5-5f99-4f80-8325-170126673245'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339E9CC0>, 'SELECT worker_skills.worker_id AS worker_skills_worker_id, worker_skills.operation AS worker_skills_operation, worker_skills.operation_category AS worker_skills_operation_category, worker_skills.proficiency_pct AS worker_skills_proficiency_pct, worker_skills.sam_achieved AS worker_skills_sam_achieved, worker_skills.efficiency_pct AS worker_skills_efficiency_pct, worker_skills.defect_rate_pct AS worker_skills_defect_rate_pct, worker_skills.pieces_lifetime AS worker_skills_pieces_lifetime, worker_skills.pieces_30d AS worker_skills_pieces_30d, worker_skills.is_certified AS worker_skills_is_certified, worker_skills.certification_date AS worker_skills_certification_date, worker_skills.last_assessed AS worker_skills_last_assessed, worker_skills.id AS worker_skills_id, worker_skills.created_at AS worker_skills_created_at, worker_skills.updated_at AS worker_skills_updated_at \nFROM worker_skills \nWHERE worker_skills.worker_id IN (?, ?)', ('25829467-07c5-4c33-bcb3-006c70f3ff5c', '0029fbc5-5f99-4f80-8325-170126673245')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339E9CC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339E9CC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339E9CC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339E9CC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAA40>, 'SELECT worker_attendances.worker_id AS worker_attendances_worker_id, worker_attendances.work_date AS worker_attendances_work_date, worker_attendances.clock_in AS worker_attendances_clock_in, worker_attendances.clock_out AS worker_attendances_clock_out, worker_attendances.hours_regular AS worker_attendances_hours_regular, worker_attendances.hours_overtime AS worker_attendances_hours_overtime, worker_attendances.hours_total AS worker_attendances_hours_total, worker_attendances.is_present AS worker_attendances_is_present, worker_attendances.absence_reason AS worker_attendances_absence_reason, worker_attendances.is_approved AS worker_attendances_is_approved, worker_attendances.id AS worker_attendances_id, worker_attendances.created_at AS worker_attendances_created_at, worker_attendances.updated_at AS worker_attendances_updated_at \nFROM worker_attendances \nWHERE worker_attendances.worker_id IN (?, ?)', ('25829467-07c5-4c33-bcb3-006c70f3ff5c', '0029fbc5-5f99-4f80-8325-170126673245'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAA40>, 'SELECT worker_attendances.worker_id AS worker_attendances_worker_id, worker_attendances.work_date AS worker_attendances_work_date, worker_attendances.clock_in AS worker_attendances_clock_in, worker_attendances.clock_out AS worker_attendances_clock_out, worker_attendances.hours_regular AS worker_attendances_hours_regular, worker_attendances.hours_overtime AS worker_attendances_hours_overtime, worker_attendances.hours_total AS worker_attendances_hours_total, worker_attendances.is_present AS worker_attendances_is_present, worker_attendances.absence_reason AS worker_attendances_absence_reason, worker_attendances.is_approved AS worker_attendances_is_approved, worker_attendances.id AS worker_attendances_id, worker_attendances.created_at AS worker_attendances_created_at, worker_attendances.updated_at AS worker_attendances_updated_at \nFROM worker_attendances \nWHERE worker_attendances.worker_id IN (?, ?)', ('25829467-07c5-4c33-bcb3-006c70f3ff5c', '0029fbc5-5f99-4f80-8325-170126673245')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAA40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAA40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAA40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAA40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DE3C0>, 'SELECT production_outputs.worker_id AS production_outputs_worker_id, production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \nFROM production_outputs \nWHERE production_outputs.worker_id IN (?, ?)', ('25829467-07c5-4c33-bcb3-006c70f3ff5c', '0029fbc5-5f99-4f80-8325-170126673245'))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DE3C0>, 'SELECT production_outputs.worker_id AS production_outputs_worker_id, production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \nFROM production_outputs \nWHERE production_outputs.worker_id IN (?, ?)', ('25829467-07c5-4c33-bcb3-006c70f3ff5c', '0029fbc5-5f99-4f80-8325-170126673245')) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9342DE3C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9342DE3C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DE3C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DE3C0>) completed
2026-01-05 00:51:33 | INFO     | httpx | HTTP Request: GET http://test/api/v1/analytics/workers/lowest-performers?limit=5 "HTTP/1.1 200 OK"
PASSED2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2BC0>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2BC0>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2BC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2BC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3240>, "SELECT name FROM sqlite_master WHERE type='table'", ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3240>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A3240>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A3240>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3240>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3240>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF840>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF840>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDF40>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDF40>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDF40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDF40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF8C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF8C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF8C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF8C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE540>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE540>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF1C0>, 'DROP TABLE IF EXISTS "traceability_records"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF1C0>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF1C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF1C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE740>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE740>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339E9DC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339E9DC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339E9DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339E9DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA6C0>, 'DROP TABLE IF EXISTS "dashboards"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA6C0>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAFC0>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAFC0>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAFC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAFC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EBC40>, 'DROP TABLE IF EXISTS "data_sources"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EBC40>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EBC40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EBC40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB5C0>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB5C0>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB5C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB5C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB2C0>, 'DROP TABLE IF EXISTS "production_events"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB2C0>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB2C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB2C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB1C0>, 'DROP TABLE IF EXISTS "factories"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB1C0>, 'DROP TABLE IF EXISTS "factories"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB1C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB1C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA740>, 'DROP TABLE IF EXISTS "production_lines"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA740>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB7C0>, 'DROP TABLE IF EXISTS "styles"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB7C0>, 'DROP TABLE IF EXISTS "styles"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB7C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB7C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9344BD2C0>, 'DROP TABLE IF EXISTS "orders"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9344BD2C0>, 'DROP TABLE IF EXISTS "orders"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9344BD2C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9344BD2C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9344BD6C0>, 'DROP TABLE IF EXISTS "production_runs"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9344BD6C0>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9344BD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9344BD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9344BD840>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9344BD840>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9344BD840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9344BD840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DDFC0>, 'DROP TABLE IF EXISTS "defects"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DDFC0>, 'DROP TABLE IF EXISTS "defects"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DDFC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DDFC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DF340>, 'DROP TABLE IF EXISTS "raw_imports"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DF340>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DF340>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DF340>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DFCC0>, 'DROP TABLE IF EXISTS "staging_records"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DFCC0>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DFCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DFCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DE540>, 'DROP TABLE IF EXISTS "packing_lists"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DE540>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DE540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DE540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DF940>, 'DROP TABLE IF EXISTS "cartons"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DF940>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DF940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DF940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DFC40>, 'DROP TABLE IF EXISTS "organizations"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DFC40>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DFC40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DFC40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DE640>, 'DROP TABLE IF EXISTS "users"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DE640>, 'DROP TABLE IF EXISTS "users"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DE640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DE640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F640>, 'DROP TABLE IF EXISTS "user_scopes"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F640>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F6C0>, 'DROP TABLE IF EXISTS "workers"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F6C0>, 'DROP TABLE IF EXISTS "workers"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F740>, 'DROP TABLE IF EXISTS "worker_skills"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F740>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586FAC0>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586FAC0>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586FAC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586FAC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F540>, 'DROP TABLE IF EXISTS "production_outputs"', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F540>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586DEC0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586DEC0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586DEC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586DEC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed

tests/test_api/test_analytics_real.py::test_get_discrepancies_real 2026-01-05 00:51:33 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA1C0>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA1C0>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA1C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA1C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA040>, 'PRAGMA main.table_info("ai_decisions")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA040>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910CFA040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910CFA040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3440>, 'PRAGMA temp.table_info("ai_decisions")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3440>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB3440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB3440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E63D40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E63D40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E63D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E63D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E915C0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E915C0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E915C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E915C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DEE40>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DEE40>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DEE40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DEE40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82D40>, 'PRAGMA main.table_info("alias_mappings")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82D40>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBBE40>, 'PRAGMA temp.table_info("alias_mappings")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBBE40>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EBBE40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EBBE40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBBE40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBBE40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CF8BC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CF8BC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CF8BC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CF8BC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DE540>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DE540>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DE540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DE540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0AC0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0AC0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0AC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0AC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB38C0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB38C0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB38C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB38C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB02C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB02C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB02C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB02C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB26C0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB26C0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB26C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB26C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB07C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB07C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB07C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB07C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DFF40>, 'PRAGMA main.table_info("efficiency_metrics")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342DFF40>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9342DFF40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9342DFF40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DFF40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342DFF40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0540>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0540>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F100C0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F100C0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F100C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F100C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3140>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3140>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F110C0>, 'PRAGMA main.table_info("dhu_reports")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F110C0>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F110C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F110C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F110C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F110C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0DC0>, 'PRAGMA temp.table_info("dhu_reports")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0DC0>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1A9C0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1A9C0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1A9C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1A9C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F573C0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F573C0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F573C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F573C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9118CB1C0>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9118CB1C0>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9118CB1C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9118CB1C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54140>, 'PRAGMA main.table_info("traceability_records")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54140>, 'PRAGMA main.table_info("traceability_records")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F54140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F54140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F571C0>, 'PRAGMA temp.table_info("traceability_records")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F571C0>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F571C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F571C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F571C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F571C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1ADC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1ADC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1ADC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1ADC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54940>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54940>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340A0040>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340A0040>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340A0040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340A0040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340A0F40>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340A0F40>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340A0F40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340A0F40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1AB40>, 'PRAGMA main.table_info("fabric_lots")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1AB40>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910D1AB40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910D1AB40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1AB40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1AB40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB08C0>, 'PRAGMA temp.table_info("fabric_lots")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB08C0>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB08C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB08C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB08C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB08C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400C440>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400C440>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400C440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400C440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CFC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CFC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CFC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CFC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CBC0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CBC0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CBC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CBC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400F4C0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400F4C0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400F4C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400F4C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C537C0>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C537C0>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C537C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C537C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CCC0>, 'PRAGMA main.table_info("cut_tickets")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CCC0>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53540>, 'PRAGMA temp.table_info("cut_tickets")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53540>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C53540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C53540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0F40>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0F40>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0F40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0F40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400DA40>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400DA40>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400DA40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400DA40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1E40>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1E40>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1E40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1E40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBD40>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBD40>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBD40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBD40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FE1FC0>, 'PRAGMA main.table_info("dashboards")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FE1FC0>, 'PRAGMA main.table_info("dashboards")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FE1FC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FE1FC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FE1FC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FE1FC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400EDC0>, 'PRAGMA temp.table_info("dashboards")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400EDC0>, 'PRAGMA temp.table_info("dashboards")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400EDC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400EDC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400EDC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400EDC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBCC0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBCC0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB06C0>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB06C0>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB06C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB06C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB09C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB09C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB09C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB09C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53CC0>, 'PRAGMA main.table_info("data_quality_issues")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53CC0>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C53CC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C53CC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53CC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53CC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB28C0>, 'PRAGMA temp.table_info("data_quality_issues")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB28C0>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB28C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB28C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB28C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB28C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1FC0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1FC0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1FC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1FC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F4C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F4C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F4C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F4C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E840>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E840>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E540>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E540>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0BC0>, 'PRAGMA main.table_info("data_sources")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0BC0>, 'PRAGMA main.table_info("data_sources")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0BC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0BC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0BC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0BC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0EA40>, 'PRAGMA temp.table_info("data_sources")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0EA40>, 'PRAGMA temp.table_info("data_sources")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0EA40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0EA40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0EA40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0EA40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0CD40>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0CD40>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0CD40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0CD40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DB40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DB40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DB40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DB40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E440>, 'PRAGMA main.table_info("schema_mappings")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E440>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C640>, 'PRAGMA temp.table_info("schema_mappings")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C640>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E940>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E940>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C0C0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C0C0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C0C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C0C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C440>, 'PRAGMA main.table_info("production_events")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C440>, 'PRAGMA main.table_info("production_events")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F3C0>, 'PRAGMA temp.table_info("production_events")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F3C0>, 'PRAGMA temp.table_info("production_events")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F3C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F3C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F3C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F3C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FD40>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FD40>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FD40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FD40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FB40>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FB40>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FB40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FB40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FE40>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FE40>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FE40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FE40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456F9C0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456F9C0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456F9C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456F9C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E140>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E140>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D240>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D240>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D240>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D240>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C8C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C8C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C8C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C8C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D040>, 'PRAGMA main.table_info("factories")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D040>, 'PRAGMA main.table_info("factories")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E640>, 'PRAGMA temp.table_info("factories")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E640>, 'PRAGMA temp.table_info("factories")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FBC0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FBC0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FBC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FBC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FF40>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FF40>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FF40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FF40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FC40>, 'PRAGMA main.table_info("production_lines")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FC40>, 'PRAGMA main.table_info("production_lines")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FC40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FC40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FC40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FC40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FAC0>, 'PRAGMA temp.table_info("production_lines")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FAC0>, 'PRAGMA temp.table_info("production_lines")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FAC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FAC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FAC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FAC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FDC0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FDC0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FDC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FDC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F5C0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F5C0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F5C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F5C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB34C0>, 'PRAGMA main.table_info("styles")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB34C0>, 'PRAGMA main.table_info("styles")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB34C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB34C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB34C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB34C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E740>, 'PRAGMA temp.table_info("styles")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E740>, 'PRAGMA temp.table_info("styles")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C4C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C4C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C4C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C4C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F640>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F640>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CEC0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CEC0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CEC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CEC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EC40>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EC40>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EC40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EC40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D9C0>, 'PRAGMA main.table_info("orders")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D9C0>, 'PRAGMA main.table_info("orders")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3D9C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3D9C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D9C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D9C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CCC0>, 'PRAGMA temp.table_info("orders")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CCC0>, 'PRAGMA temp.table_info("orders")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CCC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CCC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F940>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F940>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79340>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79340>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79340>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79340>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79940>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79940>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B6C0>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B6C0>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CBC0>, 'PRAGMA main.table_info("production_runs")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CBC0>, 'PRAGMA main.table_info("production_runs")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CBC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CBC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CBC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CBC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B640>, 'PRAGMA temp.table_info("production_runs")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B640>, 'PRAGMA temp.table_info("production_runs")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B7B640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B7B640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072040>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072040>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073B40>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073B40>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073B40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073B40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934071A40>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934071A40>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934071A40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934071A40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073F40>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073F40>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073F40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073F40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073540>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073540>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79440>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79440>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A1C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A1C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A1C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A1C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A9C0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A9C0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A9C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A9C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A840>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A840>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340710C0>, 'PRAGMA main.table_info("quality_inspections")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340710C0>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340710C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340710C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340710C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340710C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78F40>, 'PRAGMA temp.table_info("quality_inspections")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78F40>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78F40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78F40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78F40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78F40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A940>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A940>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A940>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A940>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78740>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78740>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A540>, 'PRAGMA main.table_info("defects")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A540>, 'PRAGMA main.table_info("defects")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B7A540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B7A540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78540>, 'PRAGMA temp.table_info("defects")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78540>, 'PRAGMA temp.table_info("defects")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79EC0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79EC0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79EC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79EC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EBC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EBC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EBC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EBC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C040>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C040>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F2C0>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F2C0>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F2C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F2C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340735C0>, 'PRAGMA main.table_info("raw_imports")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340735C0>, 'PRAGMA main.table_info("raw_imports")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340735C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340735C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340735C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340735C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F140>, 'PRAGMA temp.table_info("raw_imports")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F140>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3F140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3F140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FF40>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FF40>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FF40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FF40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E540>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E540>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E540>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E540>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3ECC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3ECC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3ECC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3ECC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EEC0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EEC0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EEC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EEC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D340>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D340>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D340>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D340>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBB40>, 'PRAGMA main.table_info("staging_records")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBB40>, 'PRAGMA main.table_info("staging_records")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9342CBB40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9342CBB40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBB40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBB40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E7C0>, 'PRAGMA temp.table_info("staging_records")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E7C0>, 'PRAGMA temp.table_info("staging_records")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E7C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E7C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E7C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E7C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DAC0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DAC0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DAC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DAC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB5C0>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB5C0>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB5C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB5C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA7C0>, 'PRAGMA main.table_info("packing_lists")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA7C0>, 'PRAGMA main.table_info("packing_lists")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA7C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA7C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA7C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA7C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA740>, 'PRAGMA temp.table_info("packing_lists")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA740>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB7C0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB7C0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB7C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB7C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EACC0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EACC0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EACC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EACC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA840>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA840>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAD40>, 'PRAGMA main.table_info("cartons")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAD40>, 'PRAGMA main.table_info("cartons")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAD40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAD40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAD40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAD40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339E9DC0>, 'PRAGMA temp.table_info("cartons")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339E9DC0>, 'PRAGMA temp.table_info("cartons")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339E9DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339E9DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339E9DC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339E9DC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339E9CC0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339E9CC0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339E9CC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339E9CC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB240>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB240>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB240>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB240>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAA40>, 'PRAGMA main.table_info("organizations")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAA40>, 'PRAGMA main.table_info("organizations")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAA40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAA40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAA40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAA40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB2C0>, 'PRAGMA temp.table_info("organizations")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB2C0>, 'PRAGMA temp.table_info("organizations")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB2C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB2C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB2C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB2C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB040>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB040>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA6C0>, 'PRAGMA main.table_info("users")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA6C0>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB1C0>, 'PRAGMA temp.table_info("users")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB1C0>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB1C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EB1C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB1C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB1C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB4C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB4C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB4C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB4C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB840>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB840>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EBC40>, 'PRAGMA main.table_info("user_scopes")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EBC40>, 'PRAGMA main.table_info("user_scopes")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EBC40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EBC40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EBC40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EBC40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EA40>, 'PRAGMA temp.table_info("user_scopes")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EA40>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3EA40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3EA40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EA40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EA40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71140>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71140>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71140>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71140>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A707C0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A707C0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A707C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A707C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A736C0>, 'PRAGMA main.table_info("workers")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A736C0>, 'PRAGMA main.table_info("workers")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A736C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A736C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A736C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A736C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A737C0>, 'PRAGMA temp.table_info("workers")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A737C0>, 'PRAGMA temp.table_info("workers")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A737C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A737C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A737C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A737C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A735C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A735C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A735C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A735C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72840>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72840>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A738C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A738C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A738C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A738C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71640>, 'PRAGMA main.table_info("worker_skills")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71640>, 'PRAGMA main.table_info("worker_skills")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71640>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71640>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70740>, 'PRAGMA temp.table_info("worker_skills")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70740>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70740>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70740>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9341AF6C0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9341AF6C0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9341AF6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9341AF6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A706C0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A706C0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A706C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A706C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70B40>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70B40>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70B40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70B40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72040>, 'PRAGMA main.table_info("worker_attendances")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72040>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A72040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A72040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72040>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72040>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72CC0>, 'PRAGMA temp.table_info("worker_attendances")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72CC0>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A72CC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A72CC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72CC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72CC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A731C0>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A731C0>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A731C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A731C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A700C0>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A700C0>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A700C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A700C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70EC0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70EC0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70EC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70EC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70F40>, 'PRAGMA main.table_info("production_outputs")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70F40>, 'PRAGMA main.table_info("production_outputs")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70F40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70F40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70F40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70F40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73A40>, 'PRAGMA temp.table_info("production_outputs")', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73A40>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A73A40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A73A40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73A40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73A40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71AC0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71AC0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71AC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71AC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71D40>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71D40>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71D40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71D40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73C40>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73C40>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73C40>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73C40>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A725C0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A725C0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A725C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A725C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEFC0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, 'aa248d69-d628-4378-a0bb-12048f629c72', '2026-01-05 05:51:33.866074', '2026-01-05 05:51:33.866077', 0, None))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEFC0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, 'aa248d69-d628-4378-a0bb-12048f629c72', '2026-01-05 05:51:33.866074', '2026-01-05 05:51:33.866077', 0, None)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEFC0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEFC0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A235C0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('aa248d69-d628-4378-a0bb-12048f629c72',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A235C0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('aa248d69-d628-4378-a0bb-12048f629c72',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A235C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A235C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A235C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A235C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21840>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('aa248d69-d628-4378-a0bb-12048f629c72',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21840>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('aa248d69-d628-4378-a0bb-12048f629c72',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21840>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21840>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0440>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('aa248d69-d628-4378-a0bb-12048f629c72',))
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0440>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('aa248d69-d628-4378-a0bb-12048f629c72',)) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0440>) completed
2026-01-05 00:51:33 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0440>)
2026-01-05 00:51:33 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0440>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE540>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('aa248d69-d628-4378-a0bb-12048f629c72', 'test@example.com', '$2b$12$C6UdEmhCaRQNVJv49MZBh.dHkAGHg.QCbgg38Ru2Os8GSRGxl7khK', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '61fd27aa-9e0c-4822-9c85-e107c097695d', '2026-01-05 05:51:34.073618', '2026-01-05 05:51:34.073620', 0, None))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE540>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('aa248d69-d628-4378-a0bb-12048f629c72', 'test@example.com', '$2b$12$C6UdEmhCaRQNVJv49MZBh.dHkAGHg.QCbgg38Ru2Os8GSRGxl7khK', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '61fd27aa-9e0c-4822-9c85-e107c097695d', '2026-01-05 05:51:34.073618', '2026-01-05 05:51:34.073620', 0, None)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE540>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE540>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21CC0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('61fd27aa-9e0c-4822-9c85-e107c097695d',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21CC0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('61fd27aa-9e0c-4822-9c85-e107c097695d',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21CC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21CC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21CC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21CC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A24C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('61fd27aa-9e0c-4822-9c85-e107c097695d',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A24C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('61fd27aa-9e0c-4822-9c85-e107c097695d',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A24C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A24C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A24C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A24C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0540>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('61fd27aa-9e0c-4822-9c85-e107c097695d',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0540>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('61fd27aa-9e0c-4822-9c85-e107c097695d',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0540>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0540>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0540>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0540>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDD40>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('aa248d69-d628-4378-a0bb-12048f629c72', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '1f5070e9-f35e-447c-8507-f9212ce1fe24', '2026-01-05 05:51:34.080191', '2026-01-05 05:51:34.080192'))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDD40>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('aa248d69-d628-4378-a0bb-12048f629c72', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '1f5070e9-f35e-447c-8507-f9212ce1fe24', '2026-01-05 05:51:34.080191', '2026-01-05 05:51:34.080192')) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDD40>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDD40>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE740>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('1f5070e9-f35e-447c-8507-f9212ce1fe24',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE740>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('1f5070e9-f35e-447c-8507-f9212ce1fe24',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE740>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE740>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE740>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE740>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0140>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('1f5070e9-f35e-447c-8507-f9212ce1fe24',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0140>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('1f5070e9-f35e-447c-8507-f9212ce1fe24',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0140>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0140>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0140>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0140>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0DC0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('1f5070e9-f35e-447c-8507-f9212ce1fe24',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0DC0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('1f5070e9-f35e-447c-8507-f9212ce1fe24',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0DC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0DC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0DC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0DC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2BC0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('1f5070e9-f35e-447c-8507-f9212ce1fe24',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2BC0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('1f5070e9-f35e-447c-8507-f9212ce1fe24',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2BC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2BC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2BC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2BC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F340>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('1f5070e9-f35e-447c-8507-f9212ce1fe24',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F340>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('1f5070e9-f35e-447c-8507-f9212ce1fe24',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93586F340>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93586F340>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F340>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F340>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586DEC0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('1f5070e9-f35e-447c-8507-f9212ce1fe24',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586DEC0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('1f5070e9-f35e-447c-8507-f9212ce1fe24',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93586DEC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93586DEC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586DEC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586DEC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF8C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1f5070e9-f35e-447c-8507-f9212ce1fe24', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '4311dd4b-0d43-4fa5-96c2-30f5f2c454e0', '2026-01-05 05:51:34.089670', '2026-01-05 05:51:34.089672'))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF8C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1f5070e9-f35e-447c-8507-f9212ce1fe24', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '4311dd4b-0d43-4fa5-96c2-30f5f2c454e0', '2026-01-05 05:51:34.089670', '2026-01-05 05:51:34.089672')) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF8C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF8C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A202C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('4311dd4b-0d43-4fa5-96c2-30f5f2c454e0',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A202C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('4311dd4b-0d43-4fa5-96c2-30f5f2c454e0',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A202C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A202C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A202C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A202C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2140>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('4311dd4b-0d43-4fa5-96c2-30f5f2c454e0',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2140>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('4311dd4b-0d43-4fa5-96c2-30f5f2c454e0',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2140>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2140>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2140>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2140>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A19C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('4311dd4b-0d43-4fa5-96c2-30f5f2c454e0',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A19C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('4311dd4b-0d43-4fa5-96c2-30f5f2c454e0',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A19C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A19C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A19C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A19C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE140>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1f5070e9-f35e-447c-8507-f9212ce1fe24', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '75c0abb5-cbc1-4b8a-ad15-87263dd543a8', '2026-01-05 05:51:34.096447', '2026-01-05 05:51:34.096449'))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE140>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1f5070e9-f35e-447c-8507-f9212ce1fe24', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '75c0abb5-cbc1-4b8a-ad15-87263dd543a8', '2026-01-05 05:51:34.096447', '2026-01-05 05:51:34.096449')) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE140>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE140>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22340>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('75c0abb5-cbc1-4b8a-ad15-87263dd543a8', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '5c505ec4-e47b-4a90-ad4f-1f256d913566', '2026-01-05 05:51:34.097865', '2026-01-05 05:51:34.097867'))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22340>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('75c0abb5-cbc1-4b8a-ad15-87263dd543a8', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '5c505ec4-e47b-4a90-ad4f-1f256d913566', '2026-01-05 05:51:34.097865', '2026-01-05 05:51:34.097867')) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22340>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22340>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A20640>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('1f5070e9-f35e-447c-8507-f9212ce1fe24', '5c505ec4-e47b-4a90-ad4f-1f256d913566', '4311dd4b-0d43-4fa5-96c2-30f5f2c454e0', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '40e0040d-1be0-4b27-8a3a-ac0013bf9cca', '2026-01-05 05:51:34.099122', '2026-01-05 05:51:34.099123'))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A20640>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('1f5070e9-f35e-447c-8507-f9212ce1fe24', '5c505ec4-e47b-4a90-ad4f-1f256d913566', '4311dd4b-0d43-4fa5-96c2-30f5f2c454e0', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '40e0040d-1be0-4b27-8a3a-ac0013bf9cca', '2026-01-05 05:51:34.099122', '2026-01-05 05:51:34.099123')) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A20640>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A20640>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A20640>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A20640>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A208C0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('40e0040d-1be0-4b27-8a3a-ac0013bf9cca', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:51:34.100276', '5d80b7f7-ddfa-4087-9c0f-81774105f8d4', '2026-01-05 05:51:34.100594', '2026-01-05 05:51:34.100596'))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A208C0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('40e0040d-1be0-4b27-8a3a-ac0013bf9cca', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:51:34.100276', '5d80b7f7-ddfa-4087-9c0f-81774105f8d4', '2026-01-05 05:51:34.100594', '2026-01-05 05:51:34.100596')) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A208C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A208C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2440>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1f5070e9-f35e-447c-8507-f9212ce1fe24', 'WK-001', 'High Performer', None, None, None, '4311dd4b-0d43-4fa5-96c2-30f5f2c454e0', None, None, None, 'USD', 1, '6a8053b4-6a0e-4707-a934-35c8112357fd', '2026-01-05 05:51:34.101573', '2026-01-05 05:51:34.101574', 0, None, '1f5070e9-f35e-447c-8507-f9212ce1fe24', 'WK-002', 'Low Performer', None, None, None, '4311dd4b-0d43-4fa5-96c2-30f5f2c454e0', None, None, None, 'USD', 1, '2244492f-d4a3-473b-bd87-0452e84b27d0', '2026-01-05 05:51:34.101579', '2026-01-05 05:51:34.101580', 0, None))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2440>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1f5070e9-f35e-447c-8507-f9212ce1fe24', 'WK-001', 'High Performer', None, None, None, '4311dd4b-0d43-4fa5-96c2-30f5f2c454e0', None, None, None, 'USD', 1, '6a8053b4-6a0e-4707-a934-35c8112357fd', '2026-01-05 05:51:34.101573', '2026-01-05 05:51:34.101574', 0, None, '1f5070e9-f35e-447c-8507-f9212ce1fe24', 'WK-002', 'Low Performer', None, None, None, '4311dd4b-0d43-4fa5-96c2-30f5f2c454e0', None, None, None, 'USD', 1, '2244492f-d4a3-473b-bd87-0452e84b27d0', '2026-01-05 05:51:34.101579', '2026-01-05 05:51:34.101580', 0, None)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2440>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2440>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3C40>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '40e0040d-1be0-4b27-8a3a-ac0013bf9cca', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '0a0f0d2e-b899-41e9-80c3-c09c168ec0c3', '2026-01-05 05:51:34.102683', '2026-01-05 05:51:34.102684'))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3C40>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '40e0040d-1be0-4b27-8a3a-ac0013bf9cca', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '0a0f0d2e-b899-41e9-80c3-c09c168ec0c3', '2026-01-05 05:51:34.102683', '2026-01-05 05:51:34.102684')) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3C40>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3C40>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1E40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('6a8053b4-6a0e-4707-a934-35c8112357fd', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, '28e95987-b0a2-4872-bd52-b8582773f628', '2026-01-05 05:51:34.103497', '2026-01-05 05:51:34.103498', '2244492f-d4a3-473b-bd87-0452e84b27d0', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '726e7561-352a-4db7-9c00-4ac4135f58c2', '2026-01-05 05:51:34.103503', '2026-01-05 05:51:34.103503'))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1E40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('6a8053b4-6a0e-4707-a934-35c8112357fd', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, '28e95987-b0a2-4872-bd52-b8582773f628', '2026-01-05 05:51:34.103497', '2026-01-05 05:51:34.103498', '2244492f-d4a3-473b-bd87-0452e84b27d0', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '726e7561-352a-4db7-9c00-4ac4135f58c2', '2026-01-05 05:51:34.103503', '2026-01-05 05:51:34.103503')) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1E40>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1E40>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A14C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('61fd27aa-9e0c-4822-9c85-e107c097695d',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A14C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('61fd27aa-9e0c-4822-9c85-e107c097695d',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A14C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A14C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A14C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A14C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586DA40>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('61fd27aa-9e0c-4822-9c85-e107c097695d',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586DA40>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('61fd27aa-9e0c-4822-9c85-e107c097695d',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93586DA40>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93586DA40>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586DA40>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586DA40>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F6C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('61fd27aa-9e0c-4822-9c85-e107c097695d',))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F6C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('61fd27aa-9e0c-4822-9c85-e107c097695d',)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93586F6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93586F6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A39C0>, 'SELECT traceability_records.carton_id, traceability_records.fabric_lot_id, traceability_records.cut_ticket_id, traceability_records.production_run_id, traceability_records.compliance_standard, traceability_records.chain_of_custody, traceability_records.supporting_documents, traceability_records.verification_status, traceability_records.verified_by_id, traceability_records.verified_at, traceability_records.risk_score, traceability_records.risk_notes, traceability_records.notes, traceability_records.id, traceability_records.created_at, traceability_records.updated_at \nFROM traceability_records \nWHERE traceability_records.verification_status IN (?, ?, ?) ORDER BY traceability_records.created_at DESC\n LIMIT ? OFFSET ?', ('FLAGGED', 'REJECTED', 'PENDING', 20, 0))
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A39C0>, 'SELECT traceability_records.carton_id, traceability_records.fabric_lot_id, traceability_records.cut_ticket_id, traceability_records.production_run_id, traceability_records.compliance_standard, traceability_records.chain_of_custody, traceability_records.supporting_documents, traceability_records.verification_status, traceability_records.verified_by_id, traceability_records.verified_at, traceability_records.risk_score, traceability_records.risk_notes, traceability_records.notes, traceability_records.id, traceability_records.created_at, traceability_records.updated_at \nFROM traceability_records \nWHERE traceability_records.verification_status IN (?, ?, ?) ORDER BY traceability_records.created_at DESC\n LIMIT ? OFFSET ?', ('FLAGGED', 'REJECTED', 'PENDING', 20, 0)) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A39C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A39C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A39C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A39C0>) completed
2026-01-05 00:51:34 | INFO     | httpx | HTTP Request: GET http://test/api/v1/analytics/discrepancies "HTTP/1.1 200 OK"
PASSED2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC6C0>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC6C0>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A00C0>, "SELECT name FROM sqlite_master WHERE type='table'", ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A00C0>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A00C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A00C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A00C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A00C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2A40>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2A40>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2A40>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2A40>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A04C0>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A04C0>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A04C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A04C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A20C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A20C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A20C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A20C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1040>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1040>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1040>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1040>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A12C0>, 'DROP TABLE IF EXISTS "traceability_records"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A12C0>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A12C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A12C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22940>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22940>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22940>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22940>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21EC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21EC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21EC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21EC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21D40>, 'DROP TABLE IF EXISTS "dashboards"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21D40>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21D40>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21D40>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A237C0>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A237C0>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A237C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A237C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A233C0>, 'DROP TABLE IF EXISTS "data_sources"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A233C0>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A233C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A233C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22C40>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22C40>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22C40>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22C40>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A200C0>, 'DROP TABLE IF EXISTS "production_events"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A200C0>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A200C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A200C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A234C0>, 'DROP TABLE IF EXISTS "factories"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A234C0>, 'DROP TABLE IF EXISTS "factories"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A234C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A234C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586DAC0>, 'DROP TABLE IF EXISTS "production_lines"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586DAC0>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586DAC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586DAC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EEC0>, 'DROP TABLE IF EXISTS "styles"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EEC0>, 'DROP TABLE IF EXISTS "styles"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EEC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EEC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586E9C0>, 'DROP TABLE IF EXISTS "orders"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586E9C0>, 'DROP TABLE IF EXISTS "orders"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586E9C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586E9C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586E1C0>, 'DROP TABLE IF EXISTS "production_runs"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586E1C0>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586E1C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586E1C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F540>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F540>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F540>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F540>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EAC0>, 'DROP TABLE IF EXISTS "defects"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EAC0>, 'DROP TABLE IF EXISTS "defects"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EAC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EAC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586E840>, 'DROP TABLE IF EXISTS "raw_imports"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586E840>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586E840>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586E840>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EC40>, 'DROP TABLE IF EXISTS "staging_records"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EC40>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EC40>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EC40>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586E2C0>, 'DROP TABLE IF EXISTS "packing_lists"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586E2C0>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586E2C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586E2C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EBC0>, 'DROP TABLE IF EXISTS "cartons"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EBC0>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EBC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EBC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EA40>, 'DROP TABLE IF EXISTS "organizations"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EA40>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EA40>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EA40>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586E540>, 'DROP TABLE IF EXISTS "users"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586E540>, 'DROP TABLE IF EXISTS "users"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586E540>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586E540>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586D9C0>, 'DROP TABLE IF EXISTS "user_scopes"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586D9C0>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586D9C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586D9C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EFC0>, 'DROP TABLE IF EXISTS "workers"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EFC0>, 'DROP TABLE IF EXISTS "workers"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EFC0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EFC0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EE40>, 'DROP TABLE IF EXISTS "worker_skills"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586EE40>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EE40>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586EE40>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F040>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F040>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F040>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F040>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F240>, 'DROP TABLE IF EXISTS "production_outputs"', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F240>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F240>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F240>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F140>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93586F140>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F140>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93586F140>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E9339DD6C0>)
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
2026-01-05 00:51:34 | DEBUG    | aiosqlite | executing <function Connection.stop.<locals>.close_and_stop at 0x000001E9339F3060>
2026-01-05 00:51:34 | DEBUG    | aiosqlite | operation <function Connection.stop.<locals>.close_and_stop at 0x000001E9339F3060> completed


================================== FAILURES ===================================
________________________ test_get_overview_stats_real _________________________
tests\test_api\test_analytics_real.py:127: in test_get_overview_stats_real
    response = await async_client.get(
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1768: in get
    return await self.request(
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1540: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1629: in send
    response = await self._send_handling_auth(
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1657: in _send_handling_auth
    response = await self._send_handling_redirects(
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1694: in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1730: in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_transports\asgi.py:170: in handle_async_request
    await self.app(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\applications.py:1135: in __call__
    await super().__call__(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\applications.py:107: in __call__
    await self.middleware_stack(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\errors.py:186: in __call__
    raise exc
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\errors.py:164: in __call__
    await self.app(scope, receive, _send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py:191: in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\contextlib.py:162: in __exit__
    self.gen.throw(value)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_utils.py:85: in collapse_excgroups
    raise exc
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py:193: in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\debug_toolbar\middleware.py:72: in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py:168: in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py:144: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\cors.py:85: in __call__
    await self.app(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\exceptions.py:63: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\middleware\asyncexitstack.py:18: in __call__
    await self.app(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py:716: in __call__
    await self.middleware_stack(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py:736: in app
    await route.handle(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py:290: in handle
    await self.app(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py:119: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py:105: in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py:426: in app
    raw_response = await run_endpoint_function(
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py:312: in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app\api\v1\endpoints\analytics.py:113: in get_overview_stats
    current_stats = await analytics_service.get_aggregated_stats(
                          ^^^^^^^^^^^^^^^^^
E   NameError: name 'analytics_service' is not defined
----------------------------- Captured log setup ------------------------------
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.address`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.address` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.automotive`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.automotive` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.bank`.
DEBUG    faker.factory:factory.py:88 Specified locale `en_US` is not available for provider `faker.providers.bank`. Locale reset to `en_GB` for this provider.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.barcode`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.barcode` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.color`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.color` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.company`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.company` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.credit_card`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.credit_card` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.currency`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.currency` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.date_time`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.date_time` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.doi` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.emoji` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.file` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.geo`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.geo` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.internet`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.internet` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.isbn`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.isbn` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.job`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.job` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.lorem`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.lorem` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.misc`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.misc` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.passport`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.passport` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.person`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.person` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.phone_number`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.phone_number` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.profile` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.python` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.sbn` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.ssn`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.ssn` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.user_agent` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    asyncio:proactor_events.py:631 Using proactor: IocpProactor
DEBUG    asyncio:proactor_events.py:631 Using proactor: IocpProactor
DEBUG    asyncio:proactor_events.py:631 Using proactor: IocpProactor
DEBUG    aiosqlite:core.py:62 executing <function connect.<locals>.connector at 0x000001E9339F2DE0>
DEBUG    aiosqlite:core.py:67 operation <function connect.<locals>.connector at 0x000001E9339F2DE0> completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E9339DD6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E910D405E0>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E9339DD6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001E910D405E0>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E9339DD6C0>, 'floor', 1, <built-in function floor>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001E9339DD6C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAB40>, 'PRAGMA read_uncommitted', [])
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAB40>, 'PRAGMA read_uncommitted', []) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAE40>, 'PRAGMA foreign_keys=OFF', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAE40>, 'PRAGMA foreign_keys=OFF', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAEC0>, 'PRAGMA main.table_info("ai_decisions")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAEC0>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAFC0>, 'PRAGMA temp.table_info("ai_decisions")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAFC0>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAFC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EAFC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAFC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAFC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB040>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB040>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A217C0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A217C0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A217C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A217C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB4C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB4C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EABC0>, 'PRAGMA main.table_info("alias_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EABC0>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EABC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EABC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EABC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EABC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA9C0>, 'PRAGMA temp.table_info("alias_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA9C0>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A218C0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A218C0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A218C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A218C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21AC0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21AC0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22340>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22340>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21D40>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21D40>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A231C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A231C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A231C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A231C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21CC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21CC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A234C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A234C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A234C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A234C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA7C0>, 'PRAGMA main.table_info("efficiency_metrics")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA7C0>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21840>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21840>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22C40>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22C40>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A23C40>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A23C40>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A23C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A23C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21EC0>, 'PRAGMA main.table_info("dhu_reports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21EC0>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22940>, 'PRAGMA temp.table_info("dhu_reports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22940>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A22940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A22940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A239C0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A239C0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A239C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A239C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21DC0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21DC0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CF40>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CF40>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A23740>, 'PRAGMA main.table_info("traceability_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A23740>, 'PRAGMA main.table_info("traceability_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A23740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A23740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A23740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A23740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21E40>, 'PRAGMA temp.table_info("traceability_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21E40>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A21E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D140>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D140>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CEC0>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CEC0>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D540>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D540>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DEC0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DEC0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C040>, 'PRAGMA main.table_info("fabric_lots")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C040>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3C040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3C040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C4C0>, 'PRAGMA temp.table_info("fabric_lots")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C4C0>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3C4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3C4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D340>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D340>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CCC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CCC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EBC0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EBC0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E5C0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E5C0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E5C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E5C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CDC0>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CDC0>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CDC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D0C0>, 'PRAGMA main.table_info("cut_tickets")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3D0C0>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3D0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3D0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3D0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E7C0>, 'PRAGMA temp.table_info("cut_tickets")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E7C0>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DAC0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DAC0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F2C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F2C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F2C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F2C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E8C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E8C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F140>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F140>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FD40>, 'PRAGMA main.table_info("dashboards")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FD40>, 'PRAGMA main.table_info("dashboards")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3FD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3FD40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FD40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EB40>, 'PRAGMA temp.table_info("dashboards")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EB40>, 'PRAGMA temp.table_info("dashboards")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3EB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3EB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FCC0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FCC0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EAC0>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EAC0>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F8C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F8C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E540>, 'PRAGMA main.table_info("data_quality_issues")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E540>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FF40>, 'PRAGMA temp.table_info("data_quality_issues")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FF40>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3FF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3FF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EEC0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EEC0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F240>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F240>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70EC0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70EC0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A707C0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A707C0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A707C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A707C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A706C0>, 'PRAGMA main.table_info("data_sources")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A706C0>, 'PRAGMA main.table_info("data_sources")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A706C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A706C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A706C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A706C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70740>, 'PRAGMA temp.table_info("data_sources")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70740>, 'PRAGMA temp.table_info("data_sources")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70F40>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70F40>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72040>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72040>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A708C0>, 'PRAGMA main.table_info("schema_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A708C0>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A708C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A708C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A708C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A708C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71D40>, 'PRAGMA temp.table_info("schema_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71D40>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71640>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71640>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72CC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72CC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A721C0>, 'PRAGMA main.table_info("production_events")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A721C0>, 'PRAGMA main.table_info("production_events")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A721C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A721C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A721C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A721C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71140>, 'PRAGMA temp.table_info("production_events")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71140>, 'PRAGMA temp.table_info("production_events")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A733C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A733C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A733C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A733C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73A40>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73A40>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A738C0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A738C0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A738C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A738C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A736C0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A736C0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A736C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A736C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72840>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72840>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A725C0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A725C0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A725C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A725C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A731C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A731C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A731C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A731C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70DC0>, 'PRAGMA main.table_info("factories")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70DC0>, 'PRAGMA main.table_info("factories")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73C40>, 'PRAGMA temp.table_info("factories")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73C40>, 'PRAGMA temp.table_info("factories")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A73C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A73C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A737C0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A737C0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A737C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A737C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB08C0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB08C0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB08C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB08C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB06C0>, 'PRAGMA main.table_info("production_lines")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB06C0>, 'PRAGMA main.table_info("production_lines")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB06C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB06C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB06C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB06C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB02C0>, 'PRAGMA temp.table_info("production_lines")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB02C0>, 'PRAGMA temp.table_info("production_lines")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB02C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB02C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB02C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB02C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB19C0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB19C0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB19C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB19C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1FC0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1FC0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0540>, 'PRAGMA main.table_info("styles")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0540>, 'PRAGMA main.table_info("styles")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0DC0>, 'PRAGMA temp.table_info("styles")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0DC0>, 'PRAGMA temp.table_info("styles")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB26C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB26C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB26C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB26C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0F40>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0F40>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB29C0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB29C0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB29C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB29C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3640>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3640>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1E40>, 'PRAGMA main.table_info("orders")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1E40>, 'PRAGMA main.table_info("orders")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0AC0>, 'PRAGMA temp.table_info("orders")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0AC0>, 'PRAGMA temp.table_info("orders")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3140>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3140>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2D40>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2D40>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB38C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB38C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB38C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB38C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3440>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3440>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB34C0>, 'PRAGMA main.table_info("production_runs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB34C0>, 'PRAGMA main.table_info("production_runs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB34C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB34C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB34C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB34C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2A40>, 'PRAGMA temp.table_info("production_runs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2A40>, 'PRAGMA temp.table_info("production_runs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB2A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB2A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC6C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC6C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE140>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE140>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC4C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC4C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE040>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE040>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE640>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE640>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE9C0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE9C0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE2C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE2C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE2C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE2C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEDC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEDC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEDC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDF40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDF40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE840>, 'PRAGMA main.table_info("quality_inspections")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE840>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC7C0>, 'PRAGMA temp.table_info("quality_inspections")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC7C0>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADC7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADC7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF140>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF140>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF840>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF840>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADCAC0>, 'PRAGMA main.table_info("defects")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADCAC0>, 'PRAGMA main.table_info("defects")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADCAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADCAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADCAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADCAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDC40>, 'PRAGMA temp.table_info("defects")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDC40>, 'PRAGMA temp.table_info("defects")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADDC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADDC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE5C0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE5C0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE5C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE5C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADCCC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADCCC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADCCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADCCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADFF40>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADFF40>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADFF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADFF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0CD40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0CD40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0CD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0CD40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDD40>, 'PRAGMA main.table_info("raw_imports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDD40>, 'PRAGMA main.table_info("raw_imports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADDD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADDD40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDD40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF8C0>, 'PRAGMA temp.table_info("raw_imports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF8C0>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADF8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADF8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C440>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C440>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DB40>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DB40>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D240>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D240>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E440>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E440>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E640>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E640>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D740>, 'PRAGMA main.table_info("staging_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D740>, 'PRAGMA main.table_info("staging_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D040>, 'PRAGMA temp.table_info("staging_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D040>, 'PRAGMA temp.table_info("staging_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E140>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E140>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E840>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E840>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C640>, 'PRAGMA main.table_info("packing_lists")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C640>, 'PRAGMA main.table_info("packing_lists")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C8C0>, 'PRAGMA temp.table_info("packing_lists")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C8C0>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0EA40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0EA40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0EA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0EA40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FBC0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FBC0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FF40>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FF40>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C0C0>, 'PRAGMA main.table_info("cartons")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C0C0>, 'PRAGMA main.table_info("cartons")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D7C0>, 'PRAGMA temp.table_info("cartons")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D7C0>, 'PRAGMA temp.table_info("cartons")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0D7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F4C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F4C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DE40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DE40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F3C0>, 'PRAGMA main.table_info("organizations")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F3C0>, 'PRAGMA main.table_info("organizations")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F3C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F3C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F3C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F3C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F6C0>, 'PRAGMA temp.table_info("organizations")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F6C0>, 'PRAGMA temp.table_info("organizations")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C6C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C6C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C4C0>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C4C0>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CCC0>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CCC0>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D9C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D9C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CBC0>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CBC0>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C540>, 'PRAGMA main.table_info("user_scopes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C540>, 'PRAGMA main.table_info("user_scopes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CEC0>, 'PRAGMA temp.table_info("user_scopes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CEC0>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EA40>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EA40>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EA40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EEC0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EEC0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C940>, 'PRAGMA main.table_info("workers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C940>, 'PRAGMA main.table_info("workers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EB40>, 'PRAGMA temp.table_info("workers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EB40>, 'PRAGMA temp.table_info("workers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3EB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3EB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F940>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F940>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F640>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F640>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D6C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D6C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C9C0>, 'PRAGMA main.table_info("worker_skills")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C9C0>, 'PRAGMA main.table_info("worker_skills")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EC40>, 'PRAGMA temp.table_info("worker_skills")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EC40>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3EC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3EC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78540>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78540>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78BC0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78BC0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78F40>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78F40>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA940>, 'PRAGMA main.table_info("worker_attendances")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA940>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9339EA940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78740>, 'PRAGMA temp.table_info("worker_attendances")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78740>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79340>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79340>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79940>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79940>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79EC0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79EC0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78B40>, 'PRAGMA main.table_info("production_outputs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78B40>, 'PRAGMA main.table_info("production_outputs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79440>, 'PRAGMA temp.table_info("production_outputs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79440>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B79440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B79440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A1C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A1C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A940>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A940>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A840>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A840>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A9C0>, 'PRAGMA foreign_keys=ON', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A9C0>, 'PRAGMA foreign_keys=ON', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B798C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '4c450e3b-7468-440f-9f4f-374d63510011', '2026-01-05 05:51:31.747816', '2026-01-05 05:51:31.747824', 0, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B798C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '4c450e3b-7468-440f-9f4f-374d63510011', '2026-01-05 05:51:31.747816', '2026-01-05 05:51:31.747824', 0, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B798C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B798C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E63D40>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('4c450e3b-7468-440f-9f4f-374d63510011',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E63D40>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('4c450e3b-7468-440f-9f4f-374d63510011',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E63D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E63D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E63D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E63D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E90E37BCC0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('4c450e3b-7468-440f-9f4f-374d63510011',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E90E37BCC0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('4c450e3b-7468-440f-9f4f-374d63510011',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E90E37BCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E90E37BCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E90E37BCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E90E37BCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBBE40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('4c450e3b-7468-440f-9f4f-374d63510011',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBBE40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('4c450e3b-7468-440f-9f4f-374d63510011',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EBBE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EBBE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBBE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBBE40>) completed
DEBUG    passlib.handlers.bcrypt:bcrypt.py:625 detected 'bcrypt' backend, version '4.0.1'
DEBUG    passlib.handlers.bcrypt:bcrypt.py:406 'bcrypt' backend lacks $2$ support, enabling workaround
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E92E40>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c450e3b-7468-440f-9f4f-374d63510011', 'test@example.com', '$2b$12$le76ZQIKhjjlk4ZfvTdRWeOgIXEla1WS64A54DkEKLIjUM7KNdI4e', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '2b875d72-0d42-4afb-b52c-b3588860b0c5', '2026-01-05 05:51:32.024060', '2026-01-05 05:51:32.024066', 0, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E92E40>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c450e3b-7468-440f-9f4f-374d63510011', 'test@example.com', '$2b$12$le76ZQIKhjjlk4ZfvTdRWeOgIXEla1WS64A54DkEKLIjUM7KNdI4e', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '2b875d72-0d42-4afb-b52c-b3588860b0c5', '2026-01-05 05:51:32.024060', '2026-01-05 05:51:32.024066', 0, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E92E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E92E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E915C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E915C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E915C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E915C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E915C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E915C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBB640>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBB640>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EBB640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EBB640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBB640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBB640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EDC1C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EDC1C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EDC1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EDC1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EDC1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EDC1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33340>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c450e3b-7468-440f-9f4f-374d63510011', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', '2026-01-05 05:51:32.052335', '2026-01-05 05:51:32.052338'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33340>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c450e3b-7468-440f-9f4f-374d63510011', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', '2026-01-05 05:51:32.052335', '2026-01-05 05:51:32.052338')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33A40>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33A40>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F33A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F33A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54140>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54140>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F54140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F54140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F573C0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F573C0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F573C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F573C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F573C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F573C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F571C0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F571C0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F571C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F571C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F571C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F571C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82AC0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82AC0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FACBC0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FACBC0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FACBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FACBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FACBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FACBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F110C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', '2026-01-05 05:51:32.083535', '2026-01-05 05:51:32.083538'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F110C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', '2026-01-05 05:51:32.083535', '2026-01-05 05:51:32.083538')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F110C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F110C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82DC0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82DC0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FAEC40>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FAEC40>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FAEC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FAEC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FAEC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FAEC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FE1FC0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FE1FC0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FE1FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FE1FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FE1FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FE1FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54940>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '4575250b-1f9f-4b77-97a3-224ce4050a40', '2026-01-05 05:51:32.098965', '2026-01-05 05:51:32.098968'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54940>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '4575250b-1f9f-4b77-97a3-224ce4050a40', '2026-01-05 05:51:32.098965', '2026-01-05 05:51:32.098968')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82D40>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4575250b-1f9f-4b77-97a3-224ce4050a40', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '55e6e06c-3061-4847-a88a-dc411781abbb', '2026-01-05 05:51:32.101800', '2026-01-05 05:51:32.101804'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82D40>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4575250b-1f9f-4b77-97a3-224ce4050a40', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '55e6e06c-3061-4847-a88a-dc411781abbb', '2026-01-05 05:51:32.101800', '2026-01-05 05:51:32.101804')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F81140>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', '55e6e06c-3061-4847-a88a-dc411781abbb', '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '64a67a7e-40b0-4fc9-b727-20529bdb975c', '2026-01-05 05:51:32.105222', '2026-01-05 05:51:32.105224'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F81140>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', '55e6e06c-3061-4847-a88a-dc411781abbb', '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '64a67a7e-40b0-4fc9-b727-20529bdb975c', '2026-01-05 05:51:32.105222', '2026-01-05 05:51:32.105224')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F81140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F81140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F81140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F81140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400C440>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('64a67a7e-40b0-4fc9-b727-20529bdb975c', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:51:32.110645', '60f63a7f-d1fe-434a-ad3e-5b09805b9cbe', '2026-01-05 05:51:32.121554', '2026-01-05 05:51:32.121558'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400C440>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('64a67a7e-40b0-4fc9-b727-20529bdb975c', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:51:32.110645', '60f63a7f-d1fe-434a-ad3e-5b09805b9cbe', '2026-01-05 05:51:32.121554', '2026-01-05 05:51:32.121558')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400C440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400C440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CFC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'WK-001', 'High Performer', None, None, None, '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', None, None, None, 'USD', 1, '2304cdba-f31f-4be6-9169-feb6a7e948dc', '2026-01-05 05:51:32.124349', '2026-01-05 05:51:32.124352', 0, None, '89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'WK-002', 'Low Performer', None, None, None, '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', None, None, None, 'USD', 1, '3837523e-bcef-4798-a9c1-46772fdeaa52', '2026-01-05 05:51:32.124357', '2026-01-05 05:51:32.124358', 0, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CFC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'WK-001', 'High Performer', None, None, None, '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', None, None, None, 'USD', 1, '2304cdba-f31f-4be6-9169-feb6a7e948dc', '2026-01-05 05:51:32.124349', '2026-01-05 05:51:32.124352', 0, None, '89c4d2f3-db27-47b1-a61f-ff5157f0fbc7', 'WK-002', 'Low Performer', None, None, None, '7b4fdf96-ddc0-4307-a2c5-8e7815b00cdd', None, None, None, 'USD', 1, '3837523e-bcef-4798-a9c1-46772fdeaa52', '2026-01-05 05:51:32.124357', '2026-01-05 05:51:32.124358', 0, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CFC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CFC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CCC0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '64a67a7e-40b0-4fc9-b727-20529bdb975c', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '8e33e63f-c139-4d7a-bc30-55cc38e21a94', '2026-01-05 05:51:32.127129', '2026-01-05 05:51:32.127130'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CCC0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '64a67a7e-40b0-4fc9-b727-20529bdb975c', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '8e33e63f-c139-4d7a-bc30-55cc38e21a94', '2026-01-05 05:51:32.127129', '2026-01-05 05:51:32.127130')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400DA40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('2304cdba-f31f-4be6-9169-feb6a7e948dc', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'b78819e0-88b6-4a67-87fa-a9a04dc486e4', '2026-01-05 05:51:32.129136', '2026-01-05 05:51:32.129138', '3837523e-bcef-4798-a9c1-46772fdeaa52', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '3da00b28-f24a-405e-98f0-39b9f65c4108', '2026-01-05 05:51:32.129143', '2026-01-05 05:51:32.129144'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400DA40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('2304cdba-f31f-4be6-9169-feb6a7e948dc', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'b78819e0-88b6-4a67-87fa-a9a04dc486e4', '2026-01-05 05:51:32.129136', '2026-01-05 05:51:32.129138', '3837523e-bcef-4798-a9c1-46772fdeaa52', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '3da00b28-f24a-405e-98f0-39b9f65c4108', '2026-01-05 05:51:32.129143', '2026-01-05 05:51:32.129144')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400DA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400DA40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
------------------------------ Captured log call ------------------------------
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CBC0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \\nFROM users \\nWHERE users.id = ? AND users.is_active = 1', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CBC0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \\nFROM users \\nWHERE users.id = ? AND users.is_active = 1', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CBC0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CBC0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CBC0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CBC0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072040>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \\nFROM dashboards \\nWHERE dashboards.user_id IN (?)', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072040>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \\nFROM dashboards \\nWHERE dashboards.user_id IN (?)', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072040>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072040>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072040>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072040>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933DA4DC0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \\nFROM user_scopes \\nWHERE user_scopes.user_id IN (?)', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933DA4DC0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \\nFROM user_scopes \\nWHERE user_scopes.user_id IN (?)', ('2b875d72-0d42-4afb-b52c-b3588860b0c5',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933DA4DC0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933DA4DC0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933DA4DC0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933DA4DC0>) completed\nINFO     app.api.v1.endpoints.analytics:analytics.py:71 [DIAG] get_overview_stats called with line_id=None\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340735C0>, 'SELECT count(production_events.id) AS count_1 \\nFROM production_events \\nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000'))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340735C0>, 'SELECT count(production_events.id) AS count_1 \\nFROM production_events \\nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000')) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340735C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340735C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340735C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340735C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073540>, 'SELECT count(production_runs.id) AS count_1 \\nFROM production_runs \\nWHERE date(production_runs.production_date) = ?', ('2026-01-05',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073540>, 'SELECT count(production_runs.id) AS count_1 \\nFROM production_runs \\nWHERE date(production_runs.production_date) = ?', ('2026-01-05',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934073540>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934073540>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073540>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073540>) completed\nINFO     app.api.v1.endpoints.analytics:analytics.py:95 [DIAG] Resolved effective_date=2026-01-05 (tz=UTC)\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072840>, 'SELECT count(production_runs.id) AS count_1 \\nFROM production_runs \\nWHERE production_runs.production_date = ?', ('2026-01-05',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072840>, 'SELECT count(production_runs.id) AS count_1 \\nFROM production_runs \\nWHERE production_runs.production_date = ?', ('2026-01-05',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072840>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072840>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072840>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072840>) completed\nINFO     app.api.v1.endpoints.analytics:analytics.py:107 [DIAG] Found 0 ProductionRuns for effective_date=2026-01-05, line_id=None\nWARNING  app.api.v1.endpoints.analytics:analytics.py:110 [DIAG] \u26a0\ufe0f NO PRODUCTION RUNS FOUND for date=2026-01-05, line_id=None. Dashboard widgets may show empty/mock data.\nERROR    app.main:main.py:91 Unhandled exception: name 'analytics_service' is not defined\nTraceback (most recent call last):\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Python313\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\debug_toolbar\\middleware.py", line 72, in dispatch\n    return await call_next(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py", line 119, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py", line 105, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py", line 426, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py", line 312, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\19803\\business\\FactoryExcelManager\\backend\\app\\api\\v1\\endpoints\\analytics.py", line 113, in get_overview_stats\n    current_stats = await analytics_service.get_aggregated_stats(\n                          ^^^^^^^^^^^^^^^^^\nNameError: name 'analytics_service' is not defined. Did you mean: 'AnalyticsService'?
---------------------------- Captured log teardown ----------------------------
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53540>, 'PRAGMA foreign_keys=OFF', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53540>, 'PRAGMA foreign_keys=OFF', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FDC0>, "SELECT name FROM sqlite_master WHERE type='table'", ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FDC0>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FDC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FDC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456F9C0>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456F9C0>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456F9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456F9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FAC0>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FAC0>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FF40>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FF40>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FE40>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FE40>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3CC0>, 'DROP TABLE IF EXISTS "traceability_records"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3CC0>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3340>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3340>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3640>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3640>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A38C0>, 'DROP TABLE IF EXISTS "dashboards"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A38C0>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A38C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A38C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3C40>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3C40>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3B40>, 'DROP TABLE IF EXISTS "data_sources"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3B40>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3BC0>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3BC0>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3E40>, 'DROP TABLE IF EXISTS "production_events"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3E40>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A35C0>, 'DROP TABLE IF EXISTS "factories"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A35C0>, 'DROP TABLE IF EXISTS "factories"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A35C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A35C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3240>, 'DROP TABLE IF EXISTS "production_lines"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3240>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2CC0>, 'DROP TABLE IF EXISTS "styles"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2CC0>, 'DROP TABLE IF EXISTS "styles"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1040>, 'DROP TABLE IF EXISTS "orders"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1040>, 'DROP TABLE IF EXISTS "orders"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A12C0>, 'DROP TABLE IF EXISTS "production_runs"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A12C0>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A12C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A12C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1440>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1440>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A17C0>, 'DROP TABLE IF EXISTS "defects"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A17C0>, 'DROP TABLE IF EXISTS "defects"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A17C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A17C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A15C0>, 'DROP TABLE IF EXISTS "raw_imports"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A15C0>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A15C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A15C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1540>, 'DROP TABLE IF EXISTS "staging_records"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1540>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A14C0>, 'DROP TABLE IF EXISTS "packing_lists"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A14C0>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A14C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A14C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1940>, 'DROP TABLE IF EXISTS "cartons"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1940>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1B40>, 'DROP TABLE IF EXISTS "organizations"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1B40>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1BC0>, 'DROP TABLE IF EXISTS "users"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1BC0>, 'DROP TABLE IF EXISTS "users"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A18C0>, 'DROP TABLE IF EXISTS "user_scopes"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A18C0>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A18C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A18C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1C40>, 'DROP TABLE IF EXISTS "workers"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1C40>, 'DROP TABLE IF EXISTS "workers"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1DC0>, 'DROP TABLE IF EXISTS "worker_skills"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1DC0>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1E40>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1E40>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2040>, 'DROP TABLE IF EXISTS "production_outputs"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2040>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1EC0>, 'PRAGMA foreign_keys=ON', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1EC0>, 'PRAGMA foreign_keys=ON', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
_______________________ test_get_production_chart_real ________________________
tests\test_api\test_analytics_real.py:166: in test_get_production_chart_real
    assert total_actual == 450
E   assert 0 == 450
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:631 Using proactor: IocpProactor
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F240>, 'PRAGMA foreign_keys=OFF', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F240>, 'PRAGMA foreign_keys=OFF', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A700C0>, 'PRAGMA main.table_info("ai_decisions")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A700C0>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A700C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A700C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A700C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A700C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71AC0>, 'PRAGMA temp.table_info("ai_decisions")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71AC0>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FF40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3FF40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3FF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EEC0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EEC0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F2C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F2C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F2C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F2C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E540>, 'PRAGMA main.table_info("alias_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E540>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E7C0>, 'PRAGMA temp.table_info("alias_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3E7C0>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3E7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3E7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CCC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3CCC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3CCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C040>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3C040>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3C040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A707C0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A707C0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A707C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A707C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72040>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72040>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73A40>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73A40>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71140>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71140>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A706C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A706C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A706C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A706C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F140>, 'PRAGMA main.table_info("efficiency_metrics")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3F140>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3F140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3F140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3F140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70B40>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70B40>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A70B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A735C0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A735C0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A735C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A735C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A719C0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A719C0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A719C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A719C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72840>, 'PRAGMA main.table_info("dhu_reports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72840>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A72840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A72840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72CC0>, 'PRAGMA temp.table_info("dhu_reports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A72CC0>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A72CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A72CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A72CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A738C0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A738C0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A738C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A738C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A708C0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A708C0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A708C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A708C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70740>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70740>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71D40>, 'PRAGMA main.table_info("traceability_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A71D40>, 'PRAGMA main.table_info("traceability_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A71D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A71D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A721C0>, 'PRAGMA temp.table_info("traceability_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A721C0>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A721C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A721C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A721C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A721C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70EC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A70EC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A70EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73C40>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A73C40>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A73C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0BC0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0BC0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1FC0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1FC0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A731C0>, 'PRAGMA main.table_info("fabric_lots")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A731C0>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A731C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A731C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A731C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A731C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A737C0>, 'PRAGMA temp.table_info("fabric_lots")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A737C0>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A737C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A737C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A737C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A737C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB09C0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB09C0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB09C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB09C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB02C0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB02C0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB02C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB02C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB28C0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB28C0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB28C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB28C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3140>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3140>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1D40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1D40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0E40>, 'PRAGMA main.table_info("cut_tickets")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0E40>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB0E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB07C0>, 'PRAGMA temp.table_info("cut_tickets")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB07C0>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB07C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB07C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB07C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB07C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB19C0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB19C0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB19C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB19C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB06C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB06C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB06C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB06C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3440>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3440>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2A40>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2A40>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2D40>, 'PRAGMA main.table_info("dashboards")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB2D40>, 'PRAGMA main.table_info("dashboards")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB2D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB2D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB2D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB38C0>, 'PRAGMA temp.table_info("dashboards")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB38C0>, 'PRAGMA temp.table_info("dashboards")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB38C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB38C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB38C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB38C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0540>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0540>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0F40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB0F40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB0F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB26C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB26C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB26C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB26C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1E40>, 'PRAGMA main.table_info("data_quality_issues")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB1E40>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3640>, 'PRAGMA temp.table_info("data_quality_issues")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB3640>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB3640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB3640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB3640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB29C0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB29C0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB29C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB29C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB08C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB08C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB08C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB08C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF1C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF1C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE640>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE640>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EAC0>, 'PRAGMA main.table_info("data_sources")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3EAC0>, 'PRAGMA main.table_info("data_sources")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3EAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3EAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3EAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC4C0>, 'PRAGMA temp.table_info("data_sources")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADC4C0>, 'PRAGMA temp.table_info("data_sources")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADC4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADC4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADC4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF840>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF840>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEC40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEC40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADCCC0>, 'PRAGMA main.table_info("schema_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADCCC0>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADCCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADCCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADCCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADCCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE140>, 'PRAGMA temp.table_info("schema_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE140>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE2C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE2C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE2C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE2C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEAC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEAC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE040>, 'PRAGMA main.table_info("production_events")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE040>, 'PRAGMA main.table_info("production_events")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE9C0>, 'PRAGMA temp.table_info("production_events")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE9C0>, 'PRAGMA temp.table_info("production_events")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADE9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE5C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE5C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE5C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE5C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEFC0>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADEFC0>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEFC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADEFC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADFF40>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADFF40>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADFF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADFF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDC40>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDC40>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE840>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADE840>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADE840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF140>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF140>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDF40>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDF40>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF8C0>, 'PRAGMA main.table_info("factories")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADF8C0>, 'PRAGMA main.table_info("factories")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADF8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADF8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADF8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDD40>, 'PRAGMA temp.table_info("factories")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933ADDD40>, 'PRAGMA temp.table_info("factories")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADDD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933ADDD40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933ADDD40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A733C0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A733C0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A733C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A733C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FBC0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FBC0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E640>, 'PRAGMA main.table_info("production_lines")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E640>, 'PRAGMA main.table_info("production_lines")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E840>, 'PRAGMA temp.table_info("production_lines")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E840>, 'PRAGMA temp.table_info("production_lines")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D7C0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D7C0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FF40>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0FF40>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0FF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DE40>, 'PRAGMA main.table_info("styles")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DE40>, 'PRAGMA main.table_info("styles")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0DE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0DE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C0C0>, 'PRAGMA temp.table_info("styles")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C0C0>, 'PRAGMA temp.table_info("styles")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0C0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F5C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F5C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F5C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F5C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F6C0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F6C0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C440>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C440>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D740>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D740>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F3C0>, 'PRAGMA main.table_info("orders")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0F3C0>, 'PRAGMA main.table_info("orders")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F3C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0F3C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F3C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0F3C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E740>, 'PRAGMA temp.table_info("orders")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E740>, 'PRAGMA temp.table_info("orders")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0EA40>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0EA40>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0EA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0EA40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E540>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E540>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C8C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0C8C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0C8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DB40>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0DB40>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0DB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E940>, 'PRAGMA main.table_info("production_runs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0E940>, 'PRAGMA main.table_info("production_runs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B0E940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0E940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CCC0>, 'PRAGMA temp.table_info("production_runs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CCC0>, 'PRAGMA temp.table_info("production_runs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3CCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E915C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E915C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E915C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E915C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E63D40>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E63D40>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E63D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E63D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E90E37BCC0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E90E37BCC0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E90E37BCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E90E37BCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CEC0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CEC0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EB40>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EB40>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F640>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3F640>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3F640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D9C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D9C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33A40>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F33A40>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F33A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBBE40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EBBE40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBBE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EBBE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FACBC0>, 'PRAGMA main.table_info("quality_inspections")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FACBC0>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FACBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933FACBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FACBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FACBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EDC1C0>, 'PRAGMA temp.table_info("quality_inspections")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933EDC1C0>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EDC1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933EDC1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EDC1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933EDC1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F573C0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F573C0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F573C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F573C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FE1FC0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933FE1FC0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FE1FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933FE1FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E92E40>, 'PRAGMA main.table_info("defects")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933E92E40>, 'PRAGMA main.table_info("defects")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E92E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933E92E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E92E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933E92E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82AC0>, 'PRAGMA temp.table_info("defects")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82AC0>, 'PRAGMA temp.table_info("defects")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F571C0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F571C0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F571C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F571C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82DC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82DC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F81140>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F81140>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F81140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F81140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EA40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EA40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EA40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB34C0>, 'PRAGMA main.table_info("raw_imports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933AB34C0>, 'PRAGMA main.table_info("raw_imports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB34C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933AB34C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB34C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933AB34C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82D40>, 'PRAGMA temp.table_info("raw_imports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F82D40>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F82D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F82D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C4C0>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C4C0>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CBC0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3CBC0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3CBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EEC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3EEC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3EEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456F9C0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456F9C0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456F9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456F9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FD40>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FD40>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FD40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FDC0>, 'PRAGMA main.table_info("staging_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FDC0>, 'PRAGMA main.table_info("staging_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FDC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FDC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FAC0>, 'PRAGMA temp.table_info("staging_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FAC0>, 'PRAGMA temp.table_info("staging_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA040>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA040>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53CC0>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53CC0>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54940>, 'PRAGMA main.table_info("packing_lists")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F54940>, 'PRAGMA main.table_info("packing_lists")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F54940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933F54940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F54940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FBC0>, 'PRAGMA temp.table_info("packing_lists")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FBC0>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FF40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FF40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1ADC0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1ADC0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1ADC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1ADC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1A9C0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910D1A9C0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1A9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910D1A9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA1C0>, 'PRAGMA main.table_info("cartons")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910CFA1C0>, 'PRAGMA main.table_info("cartons")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910CFA1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910CFA1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910CFA1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FC40>, 'PRAGMA temp.table_info("cartons")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93456FC40>, 'PRAGMA temp.table_info("cartons")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93456FC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93456FC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F110C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F110C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F110C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F110C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F100C0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933F100C0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F100C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933F100C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C6C0>, 'PRAGMA main.table_info("organizations")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C6C0>, 'PRAGMA main.table_info("organizations")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53540>, 'PRAGMA temp.table_info("organizations")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C53540>, 'PRAGMA temp.table_info("organizations")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C53540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C53540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C53540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9118CB1C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9118CB1C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9118CB1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9118CB1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D6C0>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3D6C0>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C540>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B3C540>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B3C540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B3C540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072040>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072040>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073B40>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073B40>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340735C0>, 'PRAGMA main.table_info("user_scopes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340735C0>, 'PRAGMA main.table_info("user_scopes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340735C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340735C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340735C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340735C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072840>, 'PRAGMA temp.table_info("user_scopes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934072840>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934072840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934072840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D240>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B0D240>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B0D240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CFC0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CFC0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CFC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CFC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073540>, 'PRAGMA main.table_info("workers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934073540>, 'PRAGMA main.table_info("workers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934073540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934073540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934073540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934071A40>, 'PRAGMA temp.table_info("workers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E934071A40>, 'PRAGMA temp.table_info("workers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934071A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E934071A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934071A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E934071A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400F4C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400F4C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400F4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400F4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400DA40>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400DA40>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400DA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400DA40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400EDC0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400EDC0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400EDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400EDC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CBC0>, 'PRAGMA main.table_info("worker_skills")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CBC0>, 'PRAGMA main.table_info("worker_skills")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CCC0>, 'PRAGMA temp.table_info("worker_skills")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400CCC0>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E93400CCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400CCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400C440>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E93400C440>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400C440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E93400C440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B6C0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B6C0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79EC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79EC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79340>, 'PRAGMA main.table_info("worker_attendances")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79340>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B79340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B79340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78B40>, 'PRAGMA temp.table_info("worker_attendances")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78B40>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79440>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79440>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A1C0>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A1C0>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A940>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A940>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78540>, 'PRAGMA main.table_info("production_outputs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78540>, 'PRAGMA main.table_info("production_outputs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78740>, 'PRAGMA temp.table_info("production_outputs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B78740>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933B78740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B78740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79940>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B79940>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B79940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B640>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7B640>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7B640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B798C0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B798C0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B798C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B798C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A540>, 'PRAGMA foreign_keys=ON', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933B7A540>, 'PRAGMA foreign_keys=ON', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933B7A540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3640>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '499a1b31-70e5-4a4c-afb3-1e8e06b37702', '2026-01-05 05:51:32.903994', '2026-01-05 05:51:32.903997', 0, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3640>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '499a1b31-70e5-4a4c-afb3-1e8e06b37702', '2026-01-05 05:51:32.903994', '2026-01-05 05:51:32.903997', 0, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DAC0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A3DAC0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3DAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A3DAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A3DAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2440>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2440>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2A40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2A40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1E40>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702', 'test@example.com', '$2b$12$uL04nZUNsWOwKawZ6S4Jj.peNb6p8RwUyQF6B9NYSs4xTbQBmLO5i', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '3e529fa0-52e7-4c02-94cf-019f6c48dcff', '2026-01-05 05:51:33.116273', '2026-01-05 05:51:33.116276', 0, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1E40>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702', 'test@example.com', '$2b$12$uL04nZUNsWOwKawZ6S4Jj.peNb6p8RwUyQF6B9NYSs4xTbQBmLO5i', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '3e529fa0-52e7-4c02-94cf-019f6c48dcff', '2026-01-05 05:51:33.116273', '2026-01-05 05:51:33.116276', 0, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A23C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A23C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A23C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A23C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A23C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A23C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1FC0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1FC0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A1FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A1FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A19C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A19C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A19C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A19C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A19C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A19C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A17C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '4e7ad4ca-2520-482f-94ce-25a19cd4f139', '2026-01-05 05:51:33.122482', '2026-01-05 05:51:33.122483'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A17C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('499a1b31-70e5-4a4c-afb3-1e8e06b37702', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '4e7ad4ca-2520-482f-94ce-25a19cd4f139', '2026-01-05 05:51:33.122482', '2026-01-05 05:51:33.122483')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A17C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A17C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1DC0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A1DC0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A1DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A1DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A1DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3240>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A3240>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A3240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A3240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A3240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2BC0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2BC0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2D40>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2D40>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A2D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A24C0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A24C0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A24C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A24C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A24C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A24C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340A0F40>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340A0F40>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340A0F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9340A0F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340A0F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340A0F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340710C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '21436cec-fa26-40fd-be22-a5dca41fe259', '2026-01-05 05:51:33.233663', '2026-01-05 05:51:33.233665'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9340710C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '21436cec-fa26-40fd-be22-a5dca41fe259', '2026-01-05 05:51:33.233663', '2026-01-05 05:51:33.233665')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340710C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9340710C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A00C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('21436cec-fa26-40fd-be22-a5dca41fe259',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A00C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('21436cec-fa26-40fd-be22-a5dca41fe259',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A00C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A00C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A00C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A00C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0EC0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('21436cec-fa26-40fd-be22-a5dca41fe259',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0EC0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('21436cec-fa26-40fd-be22-a5dca41fe259',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBCC0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('21436cec-fa26-40fd-be22-a5dca41fe259',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9342CBCC0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('21436cec-fa26-40fd-be22-a5dca41fe259',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9342CBCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9342CBCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9342CBCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2CC0>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, 'fa6b681b-5971-4fcb-9ee3-129caf786034', '2026-01-05 05:51:33.240001', '2026-01-05 05:51:33.240004'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2CC0>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, 'fa6b681b-5971-4fcb-9ee3-129caf786034', '2026-01-05 05:51:33.240001', '2026-01-05 05:51:33.240004')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2140>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('fa6b681b-5971-4fcb-9ee3-129caf786034', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'c0cf0eff-0c37-429d-b968-1e56a5cc3456', '2026-01-05 05:51:33.241510', '2026-01-05 05:51:33.241512'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2140>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('fa6b681b-5971-4fcb-9ee3-129caf786034', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'c0cf0eff-0c37-429d-b968-1e56a5cc3456', '2026-01-05 05:51:33.241510', '2026-01-05 05:51:33.241512')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A14C0>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'c0cf0eff-0c37-429d-b968-1e56a5cc3456', '21436cec-fa26-40fd-be22-a5dca41fe259', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '7e405d28-26b7-4404-bab4-9883abc10c39', '2026-01-05 05:51:33.242985', '2026-01-05 05:51:33.242987'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A14C0>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'c0cf0eff-0c37-429d-b968-1e56a5cc3456', '21436cec-fa26-40fd-be22-a5dca41fe259', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '7e405d28-26b7-4404-bab4-9883abc10c39', '2026-01-05 05:51:33.242985', '2026-01-05 05:51:33.242987')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A14C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A14C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A14C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A14C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0E40>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('7e405d28-26b7-4404-bab4-9883abc10c39', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:51:33.244477', '2377a822-fac5-4dfe-b4e4-c135f96e19c8', '2026-01-05 05:51:33.244823', '2026-01-05 05:51:33.244825'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0E40>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('7e405d28-26b7-4404-bab4-9883abc10c39', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:51:33.244477', '2377a822-fac5-4dfe-b4e4-c135f96e19c8', '2026-01-05 05:51:33.244823', '2026-01-05 05:51:33.244825')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0540>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'WK-001', 'High Performer', None, None, None, '21436cec-fa26-40fd-be22-a5dca41fe259', None, None, None, 'USD', 1, 'c3464f32-33b3-4bdd-8241-68921893abf4', '2026-01-05 05:51:33.245789', '2026-01-05 05:51:33.245790', 0, None, '4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'WK-002', 'Low Performer', None, None, None, '21436cec-fa26-40fd-be22-a5dca41fe259', None, None, None, 'USD', 1, 'a4690138-2e10-41d9-b586-b1ee9f3c8665', '2026-01-05 05:51:33.245795', '2026-01-05 05:51:33.245795', 0, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0540>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'WK-001', 'High Performer', None, None, None, '21436cec-fa26-40fd-be22-a5dca41fe259', None, None, None, 'USD', 1, 'c3464f32-33b3-4bdd-8241-68921893abf4', '2026-01-05 05:51:33.245789', '2026-01-05 05:51:33.245790', 0, None, '4e7ad4ca-2520-482f-94ce-25a19cd4f139', 'WK-002', 'Low Performer', None, None, None, '21436cec-fa26-40fd-be22-a5dca41fe259', None, None, None, 'USD', 1, 'a4690138-2e10-41d9-b586-b1ee9f3c8665', '2026-01-05 05:51:33.245795', '2026-01-05 05:51:33.245795', 0, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A02C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '7e405d28-26b7-4404-bab4-9883abc10c39', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '0f5fd8b4-133a-4ccd-808a-1162c08864f9', '2026-01-05 05:51:33.247053', '2026-01-05 05:51:33.247055'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A02C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '7e405d28-26b7-4404-bab4-9883abc10c39', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '0f5fd8b4-133a-4ccd-808a-1162c08864f9', '2026-01-05 05:51:33.247053', '2026-01-05 05:51:33.247055')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A02C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A02C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A07C0>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('c3464f32-33b3-4bdd-8241-68921893abf4', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'f5958cf0-3181-41ed-868f-a7f2b22560bf', '2026-01-05 05:51:33.248091', '2026-01-05 05:51:33.248093', 'a4690138-2e10-41d9-b586-b1ee9f3c8665', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, 'ae4afb92-aef5-48af-b7e6-3ddba7c27802', '2026-01-05 05:51:33.248098', '2026-01-05 05:51:33.248098'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A07C0>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('c3464f32-33b3-4bdd-8241-68921893abf4', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'f5958cf0-3181-41ed-868f-a7f2b22560bf', '2026-01-05 05:51:33.248091', '2026-01-05 05:51:33.248093', 'a4690138-2e10-41d9-b586-b1ee9f3c8665', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, 'ae4afb92-aef5-48af-b7e6-3ddba7c27802', '2026-01-05 05:51:33.248098', '2026-01-05 05:51:33.248098')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A07C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A07C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
------------------------------ Captured log call ------------------------------
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0B40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0B40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A20840>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A20840>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A20840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A20840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A20840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A20840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A208C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A208C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('3e529fa0-52e7-4c02-94cf-019f6c48dcff',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A208C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E933A208C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A208C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A208C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0DC0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0DC0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0740>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0740>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C537C0>, 'SELECT production_runs.production_date AS production_date, sum(production_runs.actual_qty) AS actual, sum(production_runs.planned_qty) AS target \nFROM production_runs \nWHERE production_runs.production_date >= ? AND production_runs.production_date <= ? GROUP BY production_runs.production_date ORDER BY production_runs.production_date', ('2025-12-30', '2026-01-05'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E910C537C0>, 'SELECT production_runs.production_date AS production_date, sum(production_runs.actual_qty) AS actual, sum(production_runs.planned_qty) AS target \nFROM production_runs \nWHERE production_runs.production_date >= ? AND production_runs.production_date <= ? GROUP BY production_runs.production_date ORDER BY production_runs.production_date', ('2025-12-30', '2026-01-05')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C537C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E910C537C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C537C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E910C537C0>) completed
INFO     httpx:_client.py:1740 HTTP Request: GET http://test/api/v1/analytics/production-chart "HTTP/1.1 200 OK"
---------------------------- Captured log teardown ----------------------------
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2740>, 'PRAGMA foreign_keys=OFF', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A2740>, 'PRAGMA foreign_keys=OFF', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A2740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0840>, "SELECT name FROM sqlite_master WHERE type='table'", ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0840>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001E9346A0840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0440>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9346A0440>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9346A0440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22C40>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22C40>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A237C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A237C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A237C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A237C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A20640>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A20640>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A20640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A20640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22340>, 'DROP TABLE IF EXISTS "traceability_records"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22340>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21BC0>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21BC0>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21AC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21AC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21840>, 'DROP TABLE IF EXISTS "dashboards"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21840>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22940>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A22940>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A22940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A23C40>, 'DROP TABLE IF EXISTS "data_sources"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A23C40>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A23C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A23C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A233C0>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A233C0>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A233C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A233C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A234C0>, 'DROP TABLE IF EXISTS "production_events"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A234C0>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A234C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A234C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21EC0>, 'DROP TABLE IF EXISTS "factories"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21EC0>, 'DROP TABLE IF EXISTS "factories"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21D40>, 'DROP TABLE IF EXISTS "production_lines"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21D40>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21CC0>, 'DROP TABLE IF EXISTS "styles"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E933A21CC0>, 'DROP TABLE IF EXISTS "styles"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E933A21CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB840>, 'DROP TABLE IF EXISTS "orders"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB840>, 'DROP TABLE IF EXISTS "orders"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339E9DC0>, 'DROP TABLE IF EXISTS "production_runs"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339E9DC0>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339E9DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339E9DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA740>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA740>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA8C0>, 'DROP TABLE IF EXISTS "defects"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA8C0>, 'DROP TABLE IF EXISTS "defects"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAA40>, 'DROP TABLE IF EXISTS "raw_imports"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAA40>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAA40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAB40>, 'DROP TABLE IF EXISTS "staging_records"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAB40>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAE40>, 'DROP TABLE IF EXISTS "packing_lists"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAE40>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAEC0>, 'DROP TABLE IF EXISTS "cartons"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAEC0>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAFC0>, 'DROP TABLE IF EXISTS "organizations"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EAFC0>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAFC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EAFC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB040>, 'DROP TABLE IF EXISTS "users"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB040>, 'DROP TABLE IF EXISTS "users"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB4C0>, 'DROP TABLE IF EXISTS "user_scopes"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EB4C0>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EB4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EABC0>, 'DROP TABLE IF EXISTS "workers"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EABC0>, 'DROP TABLE IF EXISTS "workers"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EABC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EABC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA9C0>, 'DROP TABLE IF EXISTS "worker_skills"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA9C0>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA7C0>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA7C0>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA940>, 'DROP TABLE IF EXISTS "production_outputs"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EA940>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EA940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EBF40>, 'PRAGMA foreign_keys=ON', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001E9339EBF40>, 'PRAGMA foreign_keys=ON', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EBF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001E9339EBF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001E9339DD6C0>) completed
=========================== short test summary info ===========================
FAILED tests/test_api/test_analytics_real.py::test_get_overview_stats_real - NameError: name 'analytics_service' is not defined
FAILED tests/test_api/test_analytics_real.py::test_get_production_chart_real - assert 0 == 450
========================= 2 failed, 2 passed in 4.66s =========================
