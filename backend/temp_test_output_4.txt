2026-01-05 00:56:21 | DEBUG    | passlib.utils.compat | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2026-01-05 00:56:21 | DEBUG    | passlib.utils.compat | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2026-01-05 00:56:21 | DEBUG    | passlib.utils.compat | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2026-01-05 00:56:21 | DEBUG    | passlib.registry | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
============================= test session starts =============================
platform win32 -- Python 3.13.5, pytest-9.0.2, pluggy-1.6.0 -- C:\Python313\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\19803\business\FactoryExcelManager\backend
configfile: pytest.ini
plugins: anyio-4.12.0, Faker-40.1.0, langsmith-0.5.1, asyncio-1.3.0, cov-7.0.0, mock-3.15.1
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 4 items

tests/test_api/test_analytics_real.py::test_get_overview_stats_real 2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.address`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.address` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.automotive`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.automotive` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.bank`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Specified locale `en_US` is not available for provider `faker.providers.bank`. Locale reset to `en_GB` for this provider.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.barcode`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.barcode` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.color`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.color` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.company`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.company` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.credit_card`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.credit_card` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.currency`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.currency` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.date_time`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.date_time` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.doi` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.emoji` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.file` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.geo`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.geo` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.internet`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.internet` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.isbn`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.isbn` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.job`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.job` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.lorem`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.lorem` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.misc`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.misc` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.passport`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.passport` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.person`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.person` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.phone_number`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.phone_number` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.profile` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.python` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.sbn` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.ssn`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.ssn` has been localized to `en_US`.
2026-01-05 00:56:22 | DEBUG    | faker.factory | Provider `faker.providers.user_agent` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:56:22 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:56:22 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:56:24 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing <function connect.<locals>.connector at 0x000001552701ED40>
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation <function connect.<locals>.connector at 0x000001552701ED40> completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000015526FED8A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000155043A8540>, deterministic=True)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000015526FED8A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000155043A8540>, deterministic=True) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000015526FED8A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000015526FED8A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270406C0>, 'PRAGMA read_uncommitted', [])
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270406C0>, 'PRAGMA read_uncommitted', []) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270406C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270406C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270406C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270406C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270409C0>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270409C0>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270409C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270409C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040A40>, 'PRAGMA main.table_info("ai_decisions")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040A40>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040A40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040A40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040A40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040A40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040B40>, 'PRAGMA temp.table_info("ai_decisions")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040B40>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040B40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040B40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040B40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040B40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527042F40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527042F40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527042F40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527042F40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527042FC0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527042FC0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527042FC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527042FC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040FC0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040FC0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040FC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040FC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040740>, 'PRAGMA main.table_info("alias_mappings")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040740>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040740>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040740>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040740>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040740>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270405C0>, 'PRAGMA temp.table_info("alias_mappings")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270405C0>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270405C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270405C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270405C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270405C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043540>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043540>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043540>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043540>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043940>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043940>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270437C0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270437C0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270437C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270437C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270433C0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270433C0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270433C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270433C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270438C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270438C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270438C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270438C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058CC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058CC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043840>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043840>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040240>, 'PRAGMA main.table_info("efficiency_metrics")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040240>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043340>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043340>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527043340>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527043340>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043340>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043340>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043740>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043740>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043740>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043740>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270597C0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270597C0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270597C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270597C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058640>, 'PRAGMA main.table_info("dhu_reports")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058640>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527058640>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527058640>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058640>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058640>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058E40>, 'PRAGMA temp.table_info("dhu_reports")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058E40>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527058E40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527058E40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058E40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058E40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059540>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059540>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059540>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059540>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059040>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059040>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059040>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059040>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A240>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A240>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059340>, 'PRAGMA main.table_info("traceability_records")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059340>, 'PRAGMA main.table_info("traceability_records")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059340>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059340>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059340>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059340>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A2C0>, 'PRAGMA temp.table_info("traceability_records")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A2C0>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A2C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A2C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A2C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A2C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705ACC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705ACC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705ACC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705ACC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705B040>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705B040>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705B040>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705B040>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705B5C0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705B5C0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705B5C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705B5C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705B940>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705B940>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705B940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705B940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A540>, 'PRAGMA main.table_info("fabric_lots")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A540>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A540>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A540>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A540>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A540>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A9C0>, 'PRAGMA temp.table_info("fabric_lots")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A9C0>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A9C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A9C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A9C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A9C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AE40>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AE40>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AE40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AE40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059C40>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059C40>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059C40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059C40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AA40>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AA40>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AA40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AA40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094840>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094840>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094A40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094A40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094A40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094A40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059640>, 'PRAGMA main.table_info("cut_tickets")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059640>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059640>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059640>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059640>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059640>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A8C0>, 'PRAGMA temp.table_info("cut_tickets")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A8C0>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A8C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A8C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A8C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A8C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094440>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094440>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094440>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094440>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095140>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095140>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095140>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095140>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270954C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270954C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270954C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270954C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094140>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094140>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094140>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094140>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094340>, 'PRAGMA main.table_info("dashboards")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094340>, 'PRAGMA main.table_info("dashboards")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094340>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094340>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094340>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094340>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094040>, 'PRAGMA temp.table_info("dashboards")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094040>, 'PRAGMA temp.table_info("dashboards")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094040>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094040>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094040>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094040>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270946C0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270946C0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270946C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270946C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094F40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094F40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094F40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094F40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096240>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096240>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270955C0>, 'PRAGMA main.table_info("data_quality_issues")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270955C0>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270955C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270955C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270955C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270955C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094D40>, 'PRAGMA temp.table_info("data_quality_issues")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094D40>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094D40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094D40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094D40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094D40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095840>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095840>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094BC0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094BC0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094BC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094BC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270973C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270973C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270973C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270973C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096BC0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096BC0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096BC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096BC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096440>, 'PRAGMA main.table_info("data_sources")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096440>, 'PRAGMA main.table_info("data_sources")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096440>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096440>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096440>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096440>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095AC0>, 'PRAGMA temp.table_info("data_sources")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095AC0>, 'PRAGMA temp.table_info("data_sources")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095AC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095AC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095AC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095AC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270969C0>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270969C0>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270969C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270969C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097B40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097B40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097B40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097B40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270953C0>, 'PRAGMA main.table_info("schema_mappings")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270953C0>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270953C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270953C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270953C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270953C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097840>, 'PRAGMA temp.table_info("schema_mappings")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097840>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270970C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270970C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270970C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270970C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097A40>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097A40>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097A40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097A40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095CC0>, 'PRAGMA main.table_info("production_events")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095CC0>, 'PRAGMA main.table_info("production_events")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097CC0>, 'PRAGMA temp.table_info("production_events")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097CC0>, 'PRAGMA temp.table_info("production_events")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096940>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096940>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1440>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1440>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1440>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1440>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1CC0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1CC0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0CC0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0CC0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2040>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2040>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2040>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2040>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2440>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2440>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2440>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2440>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C17C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C17C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C17C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C17C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0140>, 'PRAGMA main.table_info("factories")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0140>, 'PRAGMA main.table_info("factories")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C0140>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C0140>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0140>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0140>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2240>, 'PRAGMA temp.table_info("factories")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2240>, 'PRAGMA temp.table_info("factories")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C2240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C2240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0A40>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0A40>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0A40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0A40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1240>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1240>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2840>, 'PRAGMA main.table_info("production_lines")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2840>, 'PRAGMA main.table_info("production_lines")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C2840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C2840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0EC0>, 'PRAGMA temp.table_info("production_lines")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0EC0>, 'PRAGMA temp.table_info("production_lines")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C0EC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C0EC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0EC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0EC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3440>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3440>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3440>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3440>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3AC0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3AC0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3AC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3AC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3640>, 'PRAGMA main.table_info("styles")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3640>, 'PRAGMA main.table_info("styles")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3640>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3640>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3640>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3640>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3940>, 'PRAGMA temp.table_info("styles")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3940>, 'PRAGMA temp.table_info("styles")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1B40>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1B40>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1B40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1B40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4540>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4540>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4540>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4540>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3CC0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3CC0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5140>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5140>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5140>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5140>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1DC0>, 'PRAGMA main.table_info("orders")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1DC0>, 'PRAGMA main.table_info("orders")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C1DC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C1DC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1DC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1DC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C29C0>, 'PRAGMA temp.table_info("orders")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C29C0>, 'PRAGMA temp.table_info("orders")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C29C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C29C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C29C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C29C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4240>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4240>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5440>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5440>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5440>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5440>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4CC0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4CC0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F67C0>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F67C0>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F67C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F67C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4FC0>, 'PRAGMA main.table_info("production_runs")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4FC0>, 'PRAGMA main.table_info("production_runs")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4FC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4FC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4FC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4FC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F61C0>, 'PRAGMA temp.table_info("production_runs")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F61C0>, 'PRAGMA temp.table_info("production_runs")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F61C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F61C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F61C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F61C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F6740>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F6740>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F6740>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F6740>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7C40>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7C40>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7C40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7C40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F62C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F62C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F62C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F62C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5BC0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5BC0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5BC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5BC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7740>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7740>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7740>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7740>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7DC0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7DC0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7DC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7DC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4640>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4640>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4640>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4640>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7A40>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7A40>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7A40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7A40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120940>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120940>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F65C0>, 'PRAGMA main.table_info("quality_inspections")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F65C0>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F65C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F65C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F65C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F65C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7B40>, 'PRAGMA temp.table_info("quality_inspections")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7B40>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F7B40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F7B40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7B40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7B40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7EC0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7EC0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7EC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7EC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271213C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271213C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271213C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271213C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7840>, 'PRAGMA main.table_info("defects")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7840>, 'PRAGMA main.table_info("defects")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F7840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F7840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120140>, 'PRAGMA temp.table_info("defects")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120140>, 'PRAGMA temp.table_info("defects")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527120140>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527120140>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120140>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120140>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121AC0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121AC0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121AC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121AC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271220C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271220C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271220C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271220C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122AC0>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122AC0>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122AC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122AC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122E40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122E40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122E40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122E40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120D40>, 'PRAGMA main.table_info("raw_imports")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120D40>, 'PRAGMA main.table_info("raw_imports")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527120D40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527120D40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120D40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120D40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121CC0>, 'PRAGMA temp.table_info("raw_imports")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121CC0>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527121CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527121CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121440>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121440>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121440>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121440>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271227C0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271227C0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271227C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271227C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122CC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122CC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122340>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122340>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122340>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122340>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271232C0>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271232C0>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271232C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271232C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271201C0>, 'PRAGMA main.table_info("staging_records")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271201C0>, 'PRAGMA main.table_info("staging_records")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271201C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271201C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271201C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271201C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123CC0>, 'PRAGMA temp.table_info("staging_records")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123CC0>, 'PRAGMA temp.table_info("staging_records")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527123CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527123CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271206C0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271206C0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271206C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271206C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123340>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123340>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123340>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123340>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271239C0>, 'PRAGMA main.table_info("packing_lists")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271239C0>, 'PRAGMA main.table_info("packing_lists")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271239C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271239C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271239C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271239C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271236C0>, 'PRAGMA temp.table_info("packing_lists")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271236C0>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271236C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271236C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271236C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271236C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154D40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154D40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154D40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154D40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271556C0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271556C0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271556C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271556C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155240>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155240>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154240>, 'PRAGMA main.table_info("cartons")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154240>, 'PRAGMA main.table_info("cartons")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155040>, 'PRAGMA temp.table_info("cartons")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155040>, 'PRAGMA temp.table_info("cartons")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155040>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155040>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155040>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155040>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271545C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271545C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271545C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271545C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155E40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155E40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155E40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155E40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154E40>, 'PRAGMA main.table_info("organizations")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154E40>, 'PRAGMA main.table_info("organizations")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154E40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154E40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154E40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154E40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271560C0>, 'PRAGMA temp.table_info("organizations")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271560C0>, 'PRAGMA temp.table_info("organizations")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271560C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271560C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271560C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271560C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156240>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156240>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155A40>, 'PRAGMA main.table_info("users")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155A40>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155A40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155A40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155A40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155A40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156840>, 'PRAGMA temp.table_info("users")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156840>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527156840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527156840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271574C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271574C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271574C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271574C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156040>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156040>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156040>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156040>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155B40>, 'PRAGMA main.table_info("user_scopes")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155B40>, 'PRAGMA main.table_info("user_scopes")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155B40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155B40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155B40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155B40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271561C0>, 'PRAGMA temp.table_info("user_scopes")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271561C0>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271561C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271561C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271561C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271561C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156440>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156440>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156440>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156440>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271571C0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271571C0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271571C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271571C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527157CC0>, 'PRAGMA main.table_info("workers")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527157CC0>, 'PRAGMA main.table_info("workers")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527157CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527157CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527157CC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527157CC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154F40>, 'PRAGMA temp.table_info("workers")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154F40>, 'PRAGMA temp.table_info("workers")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154F40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154F40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154F40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154F40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271894C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271894C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271894C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271894C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271896C0>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271896C0>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271896C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271896C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271891C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271891C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271891C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271891C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527188940>, 'PRAGMA main.table_info("worker_skills")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527188940>, 'PRAGMA main.table_info("worker_skills")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527188940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527188940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527188940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527188940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189F40>, 'PRAGMA temp.table_info("worker_skills")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189F40>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527189F40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527189F40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189F40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189F40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271887C0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271887C0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271887C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271887C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A740>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A740>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A740>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A740>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AEC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AEC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AEC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AEC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A140>, 'PRAGMA main.table_info("worker_attendances")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A140>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A140>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A140>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A140>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A140>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189840>, 'PRAGMA temp.table_info("worker_attendances")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189840>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527189840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527189840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A240>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A240>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B440>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B440>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B440>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B440>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B9C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B9C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B9C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B9C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A6C0>, 'PRAGMA main.table_info("production_outputs")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A6C0>, 'PRAGMA main.table_info("production_outputs")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A6C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A6C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A6C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A6C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AFC0>, 'PRAGMA temp.table_info("production_outputs")', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AFC0>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718AFC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718AFC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AFC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AFC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BCC0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BCC0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BCC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BCC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BDC0>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BDC0>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BDC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BDC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC740>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC740>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC740>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC740>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD0C0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD0C0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD0C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD0C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B96C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '4f7222a0-d1dc-435f-a639-42d62cfafbac', '2026-01-05 05:56:24.541530', '2026-01-05 05:56:24.541535', 0, None))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B96C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '4f7222a0-d1dc-435f-a639-42d62cfafbac', '2026-01-05 05:56:24.541530', '2026-01-05 05:56:24.541535', 0, None)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B96C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B96C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274B58C0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('4f7222a0-d1dc-435f-a639-42d62cfafbac',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274B58C0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('4f7222a0-d1dc-435f-a639-42d62cfafbac',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274B58C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274B58C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274B58C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274B58C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DB940>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('4f7222a0-d1dc-435f-a639-42d62cfafbac',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DB940>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('4f7222a0-d1dc-435f-a639-42d62cfafbac',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274DB940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274DB940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DB940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DB940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F57C0>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('4f7222a0-d1dc-435f-a639-42d62cfafbac',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F57C0>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('4f7222a0-d1dc-435f-a639-42d62cfafbac',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274F57C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274F57C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F57C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F57C0>) completed
2026-01-05 00:56:24 | DEBUG    | passlib.handlers.bcrypt | detected 'bcrypt' backend, version '4.0.1'
2026-01-05 00:56:24 | DEBUG    | passlib.handlers.bcrypt | 'bcrypt' backend lacks $2$ support, enabling workaround
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274D99C0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4f7222a0-d1dc-435f-a639-42d62cfafbac', 'test@example.com', '$2b$12$jE/uCYLkbvMxuMDK0QsK8OAMM1pW.pJp70/Lli4DdIZOeTzfv6r0y', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'aadbeb4f-c29a-4959-aa52-782005548e7d', '2026-01-05 05:56:24.801267', '2026-01-05 05:56:24.801273', 0, None))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274D99C0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4f7222a0-d1dc-435f-a639-42d62cfafbac', 'test@example.com', '$2b$12$jE/uCYLkbvMxuMDK0QsK8OAMM1pW.pJp70/Lli4DdIZOeTzfv6r0y', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'aadbeb4f-c29a-4959-aa52-782005548e7d', '2026-01-05 05:56:24.801267', '2026-01-05 05:56:24.801273', 0, None)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274D99C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274D99C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DA940>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('aadbeb4f-c29a-4959-aa52-782005548e7d',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DA940>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('aadbeb4f-c29a-4959-aa52-782005548e7d',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274DA940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274DA940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DA940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DA940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F5EC0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('aadbeb4f-c29a-4959-aa52-782005548e7d',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F5EC0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('aadbeb4f-c29a-4959-aa52-782005548e7d',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274F5EC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274F5EC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F5EC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F5EC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275298C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('aadbeb4f-c29a-4959-aa52-782005548e7d',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275298C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('aadbeb4f-c29a-4959-aa52-782005548e7d',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275298C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275298C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275298C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275298C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756CEC0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4f7222a0-d1dc-435f-a639-42d62cfafbac', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '4d765857-f2ea-43aa-b763-e117f1bc387f', '2026-01-05 05:56:24.831519', '2026-01-05 05:56:24.831522'))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756CEC0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4f7222a0-d1dc-435f-a639-42d62cfafbac', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '4d765857-f2ea-43aa-b763-e117f1bc387f', '2026-01-05 05:56:24.831519', '2026-01-05 05:56:24.831522')) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756CEC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756CEC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756D5C0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('4d765857-f2ea-43aa-b763-e117f1bc387f',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756D5C0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('4d765857-f2ea-43aa-b763-e117f1bc387f',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756D5C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756D5C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756D5C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756D5C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756DC40>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756DC40>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756DC40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756DC40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756DC40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756DC40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756F440>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756F440>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756F440>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756F440>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756F440>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756F440>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759A840>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759A840>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759A840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759A840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759A840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759A840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C45C0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C45C0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C45C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C45C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C45C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C45C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6740>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6740>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C6740>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C6740>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6740>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6740>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552752ABC0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '6de60d80-de06-4d20-9edc-7ed20a1fe891', '2026-01-05 05:56:24.867135', '2026-01-05 05:56:24.867139'))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552752ABC0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '6de60d80-de06-4d20-9edc-7ed20a1fe891', '2026-01-05 05:56:24.867135', '2026-01-05 05:56:24.867139')) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552752ABC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552752ABC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759B240>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('6de60d80-de06-4d20-9edc-7ed20a1fe891',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759B240>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('6de60d80-de06-4d20-9edc-7ed20a1fe891',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759B240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759B240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759B240>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759B240>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C5F40>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('6de60d80-de06-4d20-9edc-7ed20a1fe891',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C5F40>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('6de60d80-de06-4d20-9edc-7ed20a1fe891',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C5F40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C5F40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C5F40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C5F40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F3B40>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('6de60d80-de06-4d20-9edc-7ed20a1fe891',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F3B40>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('6de60d80-de06-4d20-9edc-7ed20a1fe891',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275F3B40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275F3B40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F3B40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F3B40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756E440>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '41d1bfb3-672d-4b90-bfe4-bcf2b09eb3e4', '2026-01-05 05:56:24.890185', '2026-01-05 05:56:24.890188'))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756E440>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '41d1bfb3-672d-4b90-bfe4-bcf2b09eb3e4', '2026-01-05 05:56:24.890185', '2026-01-05 05:56:24.890188')) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756E440>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756E440>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6140>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('41d1bfb3-672d-4b90-bfe4-bcf2b09eb3e4', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'fa55ec7e-f4c8-4548-baf9-960e8ed8c17f', '2026-01-05 05:56:24.893696', '2026-01-05 05:56:24.893698'))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6140>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('41d1bfb3-672d-4b90-bfe4-bcf2b09eb3e4', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'fa55ec7e-f4c8-4548-baf9-960e8ed8c17f', '2026-01-05 05:56:24.893696', '2026-01-05 05:56:24.893698')) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6140>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6140>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527598E40>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'fa55ec7e-f4c8-4548-baf9-960e8ed8c17f', '6de60d80-de06-4d20-9edc-7ed20a1fe891', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '42897cef-0e03-4ed5-8ecd-f81e8378259d', '2026-01-05 05:56:24.896304', '2026-01-05 05:56:24.896306'))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527598E40>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'fa55ec7e-f4c8-4548-baf9-960e8ed8c17f', '6de60d80-de06-4d20-9edc-7ed20a1fe891', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '42897cef-0e03-4ed5-8ecd-f81e8378259d', '2026-01-05 05:56:24.896304', '2026-01-05 05:56:24.896306')) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527598E40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527598E40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527598E40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527598E40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527625F40>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:56:24.897929', '2c4684ff-fba7-4e33-af25-a736c64e8c2b', '2026-01-05 05:56:24.899107', '2026-01-05 05:56:24.899110'))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527625F40>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:56:24.897929', '2c4684ff-fba7-4e33-af25-a736c64e8c2b', '2026-01-05 05:56:24.899107', '2026-01-05 05:56:24.899110')) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527625F40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527625F40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527626AC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'WK-001', 'High Performer', None, None, None, '6de60d80-de06-4d20-9edc-7ed20a1fe891', None, None, None, 'USD', 1, 'b9119291-a163-42fd-af51-742cb311f11a', '2026-01-05 05:56:24.901312', '2026-01-05 05:56:24.901316', 0, None, '4d765857-f2ea-43aa-b763-e117f1bc387f', 'WK-002', 'Low Performer', None, None, None, '6de60d80-de06-4d20-9edc-7ed20a1fe891', None, None, None, 'USD', 1, 'e750d585-7c83-44a6-9ea5-e6fa6d887050', '2026-01-05 05:56:24.901323', '2026-01-05 05:56:24.901324', 0, None))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527626AC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'WK-001', 'High Performer', None, None, None, '6de60d80-de06-4d20-9edc-7ed20a1fe891', None, None, None, 'USD', 1, 'b9119291-a163-42fd-af51-742cb311f11a', '2026-01-05 05:56:24.901312', '2026-01-05 05:56:24.901316', 0, None, '4d765857-f2ea-43aa-b763-e117f1bc387f', 'WK-002', 'Low Performer', None, None, None, '6de60d80-de06-4d20-9edc-7ed20a1fe891', None, None, None, 'USD', 1, 'e750d585-7c83-44a6-9ea5-e6fa6d887050', '2026-01-05 05:56:24.901323', '2026-01-05 05:56:24.901324', 0, None)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527626AC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527626AC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276267C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '42897cef-0e03-4ed5-8ecd-f81e8378259d', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'a8e1c159-17ca-452c-ae5e-b61789cbfd2e', '2026-01-05 05:56:24.905433', '2026-01-05 05:56:24.905446'))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276267C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '42897cef-0e03-4ed5-8ecd-f81e8378259d', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'a8e1c159-17ca-452c-ae5e-b61789cbfd2e', '2026-01-05 05:56:24.905433', '2026-01-05 05:56:24.905446')) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276267C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276267C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276780C0>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('b9119291-a163-42fd-af51-742cb311f11a', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'a451f8b9-fc39-46eb-8985-7ca2b536c84b', '2026-01-05 05:56:24.911463', '2026-01-05 05:56:24.911470', 'e750d585-7c83-44a6-9ea5-e6fa6d887050', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '14f0760e-067c-4991-9b2b-80bc7ca68f57', '2026-01-05 05:56:24.911476', '2026-01-05 05:56:24.911477'))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276780C0>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('b9119291-a163-42fd-af51-742cb311f11a', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'a451f8b9-fc39-46eb-8985-7ca2b536c84b', '2026-01-05 05:56:24.911463', '2026-01-05 05:56:24.911470', 'e750d585-7c83-44a6-9ea5-e6fa6d887050', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '14f0760e-067c-4991-9b2b-80bc7ca68f57', '2026-01-05 05:56:24.911476', '2026-01-05 05:56:24.911477')) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276780C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276780C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155273BE840>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('aadbeb4f-c29a-4959-aa52-782005548e7d',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155273BE840>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('aadbeb4f-c29a-4959-aa52-782005548e7d',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155273BE840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155273BE840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155273BE840>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155273BE840>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B2C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('aadbeb4f-c29a-4959-aa52-782005548e7d',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B2C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('aadbeb4f-c29a-4959-aa52-782005548e7d',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B2C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B2C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B2C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B2C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BBC0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('aadbeb4f-c29a-4959-aa52-782005548e7d',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BBC0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('aadbeb4f-c29a-4959-aa52-782005548e7d',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767BBC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767BBC0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BBC0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BBC0>) completed
2026-01-05 00:56:24 | INFO     | app.api.v1.endpoints.analytics | [DIAG] get_overview_stats called with line_id=None
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276B91C0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000'))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276B91C0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000')) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276B91C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276B91C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276B91C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276B91C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276B9140>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276B9140>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276B9140>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276B9140>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276B9140>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276B9140>) completed
2026-01-05 00:56:24 | INFO     | app.api.v1.endpoints.analytics | [DIAG] Resolved effective_date=2026-01-05 (tz=UTC)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B5C0>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE production_runs.production_date = ?', ('2026-01-05',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B5C0>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE production_runs.production_date = ?', ('2026-01-05',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B5C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B5C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B5C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B5C0>) completed
2026-01-05 00:56:24 | INFO     | app.api.v1.endpoints.analytics | [DIAG] Found 0 ProductionRuns for effective_date=2026-01-05, line_id=None
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1154, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode characters in position 73-74: character maps to <undefined>
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pytest\__main__.py", line 9, in <module>
    raise SystemExit(pytest.console_main())
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py", line 469, in runtest
    super().runtest()
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py", line 716, in inner
    runner.run(coro, context=context)
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python313\Lib\asyncio\base_events.py", line 712, in run_until_complete
    self.run_forever()
  File "C:\Python313\Lib\asyncio\base_events.py", line 683, in run_forever
    self._run_once()
  File "C:\Python313\Lib\asyncio\base_events.py", line 2042, in _run_once
    handle._run()
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 119, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 105, in app
    response = await f(request)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 426, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 312, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\19803\business\FactoryExcelManager\backend\app\api\v1\endpoints\analytics.py", line 118, in get_overview_stats
    logger.warning(f"[DIAG] \u26a0\ufe0f NO PRODUCTION RUNS FOUND for date={effective_date}, line_id={line_id}. Dashboard widgets may show empty/mock data.")
Message: '[DIAG] \u26a0\ufe0f NO PRODUCTION RUNS FOUND for date=2026-01-05, line_id=None. Dashboard widgets may show empty/mock data.'
Arguments: ()
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BC40>, 'SELECT production_runs.factory_id, production_runs.order_id, production_runs.line_id, production_runs.cut_ticket_id, production_runs.source_import_id, production_runs.production_date, production_runs.inspection_date, production_runs.shift, production_runs.planned_qty, production_runs.actual_qty, production_runs.wip_start, production_runs.wip_end, production_runs.lot_number, production_runs.shade_band, production_runs.batch_number, production_runs.downtime_minutes, production_runs.downtime_reason, production_runs.sam, production_runs.operators_present, production_runs.helpers_present, production_runs.worked_minutes, production_runs.earned_minutes, production_runs.efficiency, production_runs.notes, production_runs.id, production_runs.created_at, production_runs.updated_at \nFROM production_runs \nWHERE date(production_runs.production_date) >= ? AND date(production_runs.production_date) <= ?', ('2026-01-05', '2026-01-05'))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BC40>, 'SELECT production_runs.factory_id, production_runs.order_id, production_runs.line_id, production_runs.cut_ticket_id, production_runs.source_import_id, production_runs.production_date, production_runs.inspection_date, production_runs.shift, production_runs.planned_qty, production_runs.actual_qty, production_runs.wip_start, production_runs.wip_end, production_runs.lot_number, production_runs.shade_band, production_runs.batch_number, production_runs.downtime_minutes, production_runs.downtime_reason, production_runs.sam, production_runs.operators_present, production_runs.helpers_present, production_runs.worked_minutes, production_runs.earned_minutes, production_runs.efficiency, production_runs.notes, production_runs.id, production_runs.created_at, production_runs.updated_at \nFROM production_runs \nWHERE date(production_runs.production_date) >= ? AND date(production_runs.production_date) <= ?', ('2026-01-05', '2026-01-05')) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767BC40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767BC40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BC40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BC40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B3C0>, 'SELECT quality_inspections.production_run_id AS quality_inspections_production_run_id, quality_inspections.inspector_id AS quality_inspections_inspector_id, quality_inspections.inspection_type AS quality_inspections_inspection_type, quality_inspections.units_checked AS quality_inspections_units_checked, quality_inspections.defects_found AS quality_inspections_defects_found, quality_inspections.units_rejected AS quality_inspections_units_rejected, quality_inspections.units_reworked AS quality_inspections_units_reworked, quality_inspections.dhu AS quality_inspections_dhu, quality_inspections.defect_rate_pct AS quality_inspections_defect_rate_pct, quality_inspections.aql_level AS quality_inspections_aql_level, quality_inspections.aql_result AS quality_inspections_aql_result, quality_inspections.inspected_at AS quality_inspections_inspected_at, quality_inspections.notes AS quality_inspections_notes, quality_inspections.id AS quality_inspections_id, quality_inspections.created_at AS quality_inspections_created_at, quality_inspections.updated_at AS quality_inspections_updated_at \nFROM quality_inspections \nWHERE quality_inspections.production_run_id IN (?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B3C0>, 'SELECT quality_inspections.production_run_id AS quality_inspections_production_run_id, quality_inspections.inspector_id AS quality_inspections_inspector_id, quality_inspections.inspection_type AS quality_inspections_inspection_type, quality_inspections.units_checked AS quality_inspections_units_checked, quality_inspections.defects_found AS quality_inspections_defects_found, quality_inspections.units_rejected AS quality_inspections_units_rejected, quality_inspections.units_reworked AS quality_inspections_units_reworked, quality_inspections.dhu AS quality_inspections_dhu, quality_inspections.defect_rate_pct AS quality_inspections_defect_rate_pct, quality_inspections.aql_level AS quality_inspections_aql_level, quality_inspections.aql_result AS quality_inspections_aql_result, quality_inspections.inspected_at AS quality_inspections_inspected_at, quality_inspections.notes AS quality_inspections_notes, quality_inspections.id AS quality_inspections_id, quality_inspections.created_at AS quality_inspections_created_at, quality_inspections.updated_at AS quality_inspections_updated_at \nFROM quality_inspections \nWHERE quality_inspections.production_run_id IN (?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B3C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B3C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B3C0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B3C0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277FF940>, 'SELECT production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.worker_id AS production_outputs_worker_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \nFROM production_outputs \nWHERE production_outputs.production_run_id IN (?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277FF940>, 'SELECT production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.worker_id AS production_outputs_worker_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \nFROM production_outputs \nWHERE production_outputs.production_run_id IN (?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155277FF940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155277FF940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277FF940>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277FF940>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552781AE40>, 'SELECT production_events.production_run_id AS production_events_production_run_id, production_events.timestamp AS production_events_timestamp, production_events.event_type AS production_events_event_type, production_events.quantity AS production_events_quantity, production_events.line_id AS production_events_line_id, production_events.order_id AS production_events_order_id, production_events.style_id AS production_events_style_id, production_events.source_import_id AS production_events_source_import_id, production_events.raw_data AS production_events_raw_data, production_events.id AS production_events_id, production_events.created_at AS production_events_created_at, production_events.updated_at AS production_events_updated_at \nFROM production_events \nWHERE production_events.production_run_id IN (?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d',))
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552781AE40>, 'SELECT production_events.production_run_id AS production_events_production_run_id, production_events.timestamp AS production_events_timestamp, production_events.event_type AS production_events_event_type, production_events.quantity AS production_events_quantity, production_events.line_id AS production_events_line_id, production_events.order_id AS production_events_order_id, production_events.style_id AS production_events_style_id, production_events.source_import_id AS production_events_source_import_id, production_events.raw_data AS production_events_raw_data, production_events.id AS production_events_id, production_events.created_at AS production_events_created_at, production_events.updated_at AS production_events_updated_at \nFROM production_events \nWHERE production_events.production_run_id IN (?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d',)) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552781AE40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552781AE40>) completed
2026-01-05 00:56:24 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552781AE40>)
2026-01-05 00:56:24 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552781AE40>) completed
2026-01-05 00:56:24 | ERROR    | app.main | Unhandled exception: float() argument must be a string or a real number, not 'NoneType'
Traceback (most recent call last):
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_utils.py", line 85, in collapse_excgroups
    raise exc
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\debug_toolbar\middleware.py", line 72, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 119, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 105, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 426, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 312, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\business\FactoryExcelManager\backend\app\api\v1\endpoints\analytics.py", line 122, in get_overview_stats
    current_stats = await analytics_service.get_aggregated_stats(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\19803\business\FactoryExcelManager\backend\app\services\analytics_service.py", line 145, in get_aggregated_stats
    stats = self.aggregate_production_stats(logs)
  File "C:\Users\19803\business\FactoryExcelManager\backend\app\services\analytics_service.py", line 68, in aggregate_production_stats
    earned = cls.calculate_earned_minutes(qty, sam)
  File "C:\Users\19803\business\FactoryExcelManager\backend\app\services\analytics_service.py", line 32, in calculate_earned_minutes
    return float(produced_qty) * float(sam)
                                 ~~~~~^^^^^
TypeError: float() argument must be a string or a real number, not 'NoneType'
FAILED2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B90C0>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B90C0>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B90C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B90C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527528340>, "SELECT name FROM sqlite_master WHERE type='table'", ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527528340>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527528340>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527528340>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527528340>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527528340>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3DC0>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3DC0>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3DC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3DC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23B40>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23B40>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23B40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23B40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D235C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D235C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D235C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D235C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23940>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23940>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23940>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23940>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23BC0>, 'DROP TABLE IF EXISTS "traceability_records"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23BC0>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23BC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23BC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23DC0>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23DC0>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23DC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23DC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23EC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23EC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23EC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23EC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D238C0>, 'DROP TABLE IF EXISTS "dashboards"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D238C0>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D238C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D238C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21240>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21240>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D212C0>, 'DROP TABLE IF EXISTS "data_sources"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D212C0>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D212C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D212C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21340>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21340>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21340>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21340>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D215C0>, 'DROP TABLE IF EXISTS "production_events"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D215C0>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D215C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D215C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D214C0>, 'DROP TABLE IF EXISTS "factories"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D214C0>, 'DROP TABLE IF EXISTS "factories"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D214C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D214C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D218C0>, 'DROP TABLE IF EXISTS "production_lines"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D218C0>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D218C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D218C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D217C0>, 'DROP TABLE IF EXISTS "styles"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D217C0>, 'DROP TABLE IF EXISTS "styles"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D217C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D217C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21640>, 'DROP TABLE IF EXISTS "orders"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21640>, 'DROP TABLE IF EXISTS "orders"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21640>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21640>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D219C0>, 'DROP TABLE IF EXISTS "production_runs"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D219C0>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D219C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D219C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21DC0>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21DC0>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21DC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21DC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21E40>, 'DROP TABLE IF EXISTS "defects"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21E40>, 'DROP TABLE IF EXISTS "defects"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21E40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21E40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21F40>, 'DROP TABLE IF EXISTS "raw_imports"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21F40>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21F40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21F40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21EC0>, 'DROP TABLE IF EXISTS "staging_records"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21EC0>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21EC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21EC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21C40>, 'DROP TABLE IF EXISTS "packing_lists"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21C40>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21C40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21C40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21FC0>, 'DROP TABLE IF EXISTS "cartons"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21FC0>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21FC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21FC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22340>, 'DROP TABLE IF EXISTS "organizations"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22340>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22340>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22340>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D222C0>, 'DROP TABLE IF EXISTS "users"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D222C0>, 'DROP TABLE IF EXISTS "users"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D222C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D222C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D225C0>, 'DROP TABLE IF EXISTS "user_scopes"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D225C0>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D225C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D225C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D224C0>, 'DROP TABLE IF EXISTS "workers"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D224C0>, 'DROP TABLE IF EXISTS "workers"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D224C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D224C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22640>, 'DROP TABLE IF EXISTS "worker_skills"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22640>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22640>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22640>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D227C0>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D227C0>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D227C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D227C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22840>, 'DROP TABLE IF EXISTS "production_outputs"', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22840>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22940>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22940>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22940>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22940>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed

tests/test_api/test_analytics_real.py::test_get_production_chart_real 2026-01-05 00:56:25 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A8C0>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A8C0>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A8C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A8C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094940>, 'PRAGMA main.table_info("ai_decisions")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094940>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094940>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094940>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094940>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094940>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094440>, 'PRAGMA temp.table_info("ai_decisions")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094440>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AA40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AA40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AA40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AA40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A2C0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A2C0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A2C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A2C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059640>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059640>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059640>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059640>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059C40>, 'PRAGMA main.table_info("alias_mappings")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059C40>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059C40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059C40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059C40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059C40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A240>, 'PRAGMA temp.table_info("alias_mappings")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A240>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705BA40>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705BA40>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705BA40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705BA40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058F40>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058F40>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058F40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058F40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095940>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095940>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095940>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095940>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270975C0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270975C0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270975C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270975C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096240>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096240>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095DC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095DC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095DC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095DC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094840>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094840>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270597C0>, 'PRAGMA main.table_info("efficiency_metrics")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270597C0>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270597C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270597C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270597C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270597C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094A40>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094A40>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094A40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094A40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094A40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094A40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095BC0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095BC0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095BC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095BC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095840>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095840>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270973C0>, 'PRAGMA main.table_info("dhu_reports")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270973C0>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270973C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270973C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270973C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270973C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097B40>, 'PRAGMA temp.table_info("dhu_reports")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097B40>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097B40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097B40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097B40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097B40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094140>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094140>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094140>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094140>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270955C0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270955C0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270955C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270955C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270970C0>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270970C0>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270970C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270970C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094BC0>, 'PRAGMA main.table_info("traceability_records")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094BC0>, 'PRAGMA main.table_info("traceability_records")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094BC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094BC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094BC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094BC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095140>, 'PRAGMA temp.table_info("traceability_records")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095140>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095140>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095140>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095140>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095140>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270969C0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270969C0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270969C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270969C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094D40>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094D40>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094D40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094D40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270953C0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270953C0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270953C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270953C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097A40>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097A40>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097A40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097A40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270946C0>, 'PRAGMA main.table_info("fabric_lots")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270946C0>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270946C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270946C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270946C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270946C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096940>, 'PRAGMA temp.table_info("fabric_lots")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096940>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096940>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096940>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096940>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096940>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094040>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094040>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094040>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094040>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097CC0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097CC0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097CC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097CC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097840>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097840>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095CC0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095CC0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095CC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095CC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2040>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2040>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2040>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2040>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096440>, 'PRAGMA main.table_info("cut_tickets")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096440>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0140>, 'PRAGMA temp.table_info("cut_tickets")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0140>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C0140>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C0140>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0140>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0140>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0CC0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0CC0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0CC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0CC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2840>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2840>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1240>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1240>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0A40>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0A40>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0A40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0A40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2440>, 'PRAGMA main.table_info("dashboards")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2440>, 'PRAGMA main.table_info("dashboards")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C2440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C2440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1B40>, 'PRAGMA temp.table_info("dashboards")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1B40>, 'PRAGMA temp.table_info("dashboards")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C1B40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C1B40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1B40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1B40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3940>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3940>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3940>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3940>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2240>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2240>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1140>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1140>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1140>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1140>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1440>, 'PRAGMA main.table_info("data_quality_issues")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1440>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C1440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C1440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3440>, 'PRAGMA temp.table_info("data_quality_issues")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3440>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2540>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2540>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2540>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2540>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C17C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C17C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C17C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C17C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1CC0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1CC0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1CC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1CC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2340>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2340>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2340>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2340>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1DC0>, 'PRAGMA main.table_info("data_sources")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1DC0>, 'PRAGMA main.table_info("data_sources")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C1DC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C1DC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1DC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1DC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3640>, 'PRAGMA temp.table_info("data_sources")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3640>, 'PRAGMA temp.table_info("data_sources")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3640>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3640>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3640>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3640>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C29C0>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C29C0>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C29C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C29C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7C40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7C40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7C40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7C40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3840>, 'PRAGMA main.table_info("schema_mappings")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3840>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5140>, 'PRAGMA temp.table_info("schema_mappings")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5140>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F5140>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F5140>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5140>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5140>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F67C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F67C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F67C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F67C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7B40>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7B40>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7B40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7B40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4540>, 'PRAGMA main.table_info("production_events")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4540>, 'PRAGMA main.table_info("production_events")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4540>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4540>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4540>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4540>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F62C0>, 'PRAGMA temp.table_info("production_events")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F62C0>, 'PRAGMA temp.table_info("production_events")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F62C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F62C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F62C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F62C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7740>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7740>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7740>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7740>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4440>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4440>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F65C0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F65C0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F65C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F65C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7DC0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7DC0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7DC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7DC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7A40>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7A40>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7A40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7A40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7840>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7840>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4640>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4640>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4640>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4640>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F6740>, 'PRAGMA main.table_info("factories")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F6740>, 'PRAGMA main.table_info("factories")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F6740>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F6740>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F6740>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F6740>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F61C0>, 'PRAGMA temp.table_info("factories")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F61C0>, 'PRAGMA temp.table_info("factories")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F61C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F61C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F61C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F61C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7EC0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7EC0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7EC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7EC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5BC0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5BC0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5BC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5BC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270974C0>, 'PRAGMA main.table_info("production_lines")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270974C0>, 'PRAGMA main.table_info("production_lines")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270974C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270974C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270974C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270974C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4240>, 'PRAGMA temp.table_info("production_lines")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4240>, 'PRAGMA temp.table_info("production_lines")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122340>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122340>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122340>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122340>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122E40>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122E40>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122E40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122E40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271201C0>, 'PRAGMA main.table_info("styles")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271201C0>, 'PRAGMA main.table_info("styles")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271201C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271201C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271201C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271201C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271232C0>, 'PRAGMA temp.table_info("styles")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271232C0>, 'PRAGMA temp.table_info("styles")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271232C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271232C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271232C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271232C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120940>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120940>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120940>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120940>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271200C0>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271200C0>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271200C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271200C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271205C0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271205C0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271205C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271205C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271227C0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271227C0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271227C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271227C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271206C0>, 'PRAGMA main.table_info("orders")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271206C0>, 'PRAGMA main.table_info("orders")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271206C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271206C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271206C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271206C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121CC0>, 'PRAGMA temp.table_info("orders")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121CC0>, 'PRAGMA temp.table_info("orders")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527121CC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527121CC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121CC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121CC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120DC0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120DC0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120DC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120DC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271239C0>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271239C0>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271239C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271239C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123CC0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123CC0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123CC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123CC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271213C0>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271213C0>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271213C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271213C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271220C0>, 'PRAGMA main.table_info("production_runs")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271220C0>, 'PRAGMA main.table_info("production_runs")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271220C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271220C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271220C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271220C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271236C0>, 'PRAGMA temp.table_info("production_runs")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271236C0>, 'PRAGMA temp.table_info("production_runs")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271236C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271236C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271236C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271236C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123340>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123340>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123340>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123340>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121440>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121440>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271574C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271574C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271574C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271574C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156840>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156840>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271545C0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271545C0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271545C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271545C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155A40>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155A40>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155A40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155A40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155240>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155240>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156240>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156240>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155040>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155040>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155040>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155040>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122CC0>, 'PRAGMA main.table_info("quality_inspections")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122CC0>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527122CC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527122CC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122CC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122CC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271571C0>, 'PRAGMA temp.table_info("quality_inspections")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271571C0>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271571C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271571C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271571C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271571C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156040>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156040>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156040>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156040>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154240>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154240>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271556C0>, 'PRAGMA main.table_info("defects")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271556C0>, 'PRAGMA main.table_info("defects")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271556C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271556C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271556C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271556C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527157CC0>, 'PRAGMA temp.table_info("defects")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527157CC0>, 'PRAGMA temp.table_info("defects")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527157CC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527157CC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527157CC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527157CC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271540C0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271540C0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271540C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271540C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271544C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271544C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271544C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271544C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155E40>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155E40>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155E40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155E40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156440>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156440>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154E40>, 'PRAGMA main.table_info("raw_imports")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154E40>, 'PRAGMA main.table_info("raw_imports")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154E40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154E40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154E40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154E40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154D40>, 'PRAGMA temp.table_info("raw_imports")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154D40>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154D40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154D40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154D40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154D40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155140>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155140>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155140>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155140>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527188940>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527188940>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527188940>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527188940>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B440>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B440>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271891C0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271891C0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271891C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271891C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A6C0>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A6C0>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A6C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A6C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274B58C0>, 'PRAGMA main.table_info("staging_records")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274B58C0>, 'PRAGMA main.table_info("staging_records")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274B58C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274B58C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274B58C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274B58C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AEC0>, 'PRAGMA temp.table_info("staging_records")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AEC0>, 'PRAGMA temp.table_info("staging_records")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718AEC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718AEC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AEC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AEC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F3B40>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F3B40>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F3B40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F3B40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DA940>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DA940>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DA940>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DA940>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274D99C0>, 'PRAGMA main.table_info("packing_lists")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274D99C0>, 'PRAGMA main.table_info("packing_lists")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274D99C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274D99C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274D99C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274D99C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189F40>, 'PRAGMA temp.table_info("packing_lists")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189F40>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527189F40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527189F40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189F40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189F40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BCC0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BCC0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BCC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BCC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275298C0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275298C0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275298C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275298C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552752ABC0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552752ABC0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552752ABC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552752ABC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A9C0>, 'PRAGMA main.table_info("cartons")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A9C0>, 'PRAGMA main.table_info("cartons")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A9C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A9C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A9C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A9C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A240>, 'PRAGMA temp.table_info("cartons")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A240>, 'PRAGMA temp.table_info("cartons")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527528340>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527528340>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527528340>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527528340>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527625F40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527625F40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527625F40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527625F40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189840>, 'PRAGMA main.table_info("organizations")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189840>, 'PRAGMA main.table_info("organizations")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527189840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527189840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AFC0>, 'PRAGMA temp.table_info("organizations")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AFC0>, 'PRAGMA temp.table_info("organizations")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718AFC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718AFC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AFC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AFC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BDC0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BDC0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BDC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BDC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B9C0>, 'PRAGMA main.table_info("users")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B9C0>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718B9C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718B9C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B9C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B9C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A740>, 'PRAGMA temp.table_info("users")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A740>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A740>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A740>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A740>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A740>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276267C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276267C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276267C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276267C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527598E40>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527598E40>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527598E40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527598E40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F5EC0>, 'PRAGMA main.table_info("user_scopes")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F5EC0>, 'PRAGMA main.table_info("user_scopes")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274F5EC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274F5EC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F5EC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F5EC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120B40>, 'PRAGMA temp.table_info("user_scopes")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120B40>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527120B40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527120B40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120B40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120B40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527626AC0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527626AC0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527626AC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527626AC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3AC0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3AC0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3AC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3AC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759B240>, 'PRAGMA main.table_info("workers")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759B240>, 'PRAGMA main.table_info("workers")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759B240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759B240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759B240>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759B240>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759A840>, 'PRAGMA temp.table_info("workers")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759A840>, 'PRAGMA temp.table_info("workers")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759A840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759A840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759A840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759A840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015504F20D40>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015504F20D40>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015504F20D40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015504F20D40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3C40>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3C40>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3C40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3C40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756CEC0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756CEC0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756CEC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756CEC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3DC0>, 'PRAGMA main.table_info("worker_skills")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3DC0>, 'PRAGMA main.table_info("worker_skills")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527BF3DC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527BF3DC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3DC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3DC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF38C0>, 'PRAGMA temp.table_info("worker_skills")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF38C0>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527BF38C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527BF38C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF38C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF38C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271887C0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271887C0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271887C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271887C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B96C0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B96C0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B96C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B96C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756F440>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756F440>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756F440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756F440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756DC40>, 'PRAGMA main.table_info("worker_attendances")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756DC40>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756DC40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756DC40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756DC40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756DC40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B9840>, 'PRAGMA temp.table_info("worker_attendances")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B9840>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155043B9840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155043B9840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B9840>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B9840>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756E440>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756E440>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756E440>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756E440>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277D57C0>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277D57C0>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277D57C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277D57C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276780C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276780C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276780C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276780C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BBC0>, 'PRAGMA main.table_info("production_outputs")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BBC0>, 'PRAGMA main.table_info("production_outputs")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767BBC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767BBC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BBC0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BBC0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756D5C0>, 'PRAGMA temp.table_info("production_outputs")', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756D5C0>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756D5C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756D5C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756D5C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756D5C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B90C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B90C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B90C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B90C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC0C0>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC0C0>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC0C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC0C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD1C0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD1C0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD1C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD1C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD0C0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD0C0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD0C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD0C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23940>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '19b38812-48ae-42f5-b46c-31000e1837c6', '2026-01-05 05:56:25.913111', '2026-01-05 05:56:25.913115', 0, None))
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23940>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '19b38812-48ae-42f5-b46c-31000e1837c6', '2026-01-05 05:56:25.913111', '2026-01-05 05:56:25.913115', 0, None)) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23940>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23940>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D214C0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('19b38812-48ae-42f5-b46c-31000e1837c6',))
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D214C0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('19b38812-48ae-42f5-b46c-31000e1837c6',)) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D214C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D214C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D214C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D214C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D225C0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('19b38812-48ae-42f5-b46c-31000e1837c6',))
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D225C0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('19b38812-48ae-42f5-b46c-31000e1837c6',)) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D225C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D225C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D225C0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D225C0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22C40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('19b38812-48ae-42f5-b46c-31000e1837c6',))
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22C40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('19b38812-48ae-42f5-b46c-31000e1837c6',)) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22C40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22C40>) completed
2026-01-05 00:56:25 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22C40>)
2026-01-05 00:56:25 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22C40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C66C0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('19b38812-48ae-42f5-b46c-31000e1837c6', 'test@example.com', '$2b$12$w6KdbujJXLjYo1D4D6uuQOsacZc9rzebU1rqlv45j9ohIx65yKGaq', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'd9b2eca4-022e-4e5e-b6c4-ae538366c761', '2026-01-05 05:56:26.163183', '2026-01-05 05:56:26.163187', 0, None))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C66C0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('19b38812-48ae-42f5-b46c-31000e1837c6', 'test@example.com', '$2b$12$w6KdbujJXLjYo1D4D6uuQOsacZc9rzebU1rqlv45j9ohIx65yKGaq', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'd9b2eca4-022e-4e5e-b6c4-ae538366c761', '2026-01-05 05:56:26.163183', '2026-01-05 05:56:26.163187', 0, None)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C66C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C66C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AE40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('d9b2eca4-022e-4e5e-b6c4-ae538366c761',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AE40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('d9b2eca4-022e-4e5e-b6c4-ae538366c761',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705AE40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705AE40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AE40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AE40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D224C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('d9b2eca4-022e-4e5e-b6c4-ae538366c761',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D224C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('d9b2eca4-022e-4e5e-b6c4-ae538366c761',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D224C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D224C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D224C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D224C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21F40>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('d9b2eca4-022e-4e5e-b6c4-ae538366c761',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21F40>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('d9b2eca4-022e-4e5e-b6c4-ae538366c761',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D21F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D21F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D215C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('19b38812-48ae-42f5-b46c-31000e1837c6', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '698255d4-ce2f-4361-8814-4596d6048563', '2026-01-05 05:56:26.172497', '2026-01-05 05:56:26.172498'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D215C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('19b38812-48ae-42f5-b46c-31000e1837c6', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '698255d4-ce2f-4361-8814-4596d6048563', '2026-01-05 05:56:26.172497', '2026-01-05 05:56:26.172498')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D215C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D215C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D217C0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('698255d4-ce2f-4361-8814-4596d6048563',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D217C0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('698255d4-ce2f-4361-8814-4596d6048563',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D217C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D217C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D217C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D217C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23BC0>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('698255d4-ce2f-4361-8814-4596d6048563',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23BC0>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('698255d4-ce2f-4361-8814-4596d6048563',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23040>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('698255d4-ce2f-4361-8814-4596d6048563',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23040>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('698255d4-ce2f-4361-8814-4596d6048563',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21EC0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('698255d4-ce2f-4361-8814-4596d6048563',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21EC0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('698255d4-ce2f-4361-8814-4596d6048563',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D21EC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D21EC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21EC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21EC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22D40>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('698255d4-ce2f-4361-8814-4596d6048563',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22D40>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('698255d4-ce2f-4361-8814-4596d6048563',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20340>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('698255d4-ce2f-4361-8814-4596d6048563',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20340>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('698255d4-ce2f-4361-8814-4596d6048563',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22B40>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('698255d4-ce2f-4361-8814-4596d6048563', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, 'c17eda2f-bdd0-492d-a83d-f1d5165cd361', '2026-01-05 05:56:26.184040', '2026-01-05 05:56:26.184044'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22B40>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('698255d4-ce2f-4361-8814-4596d6048563', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, 'c17eda2f-bdd0-492d-a83d-f1d5165cd361', '2026-01-05 05:56:26.184040', '2026-01-05 05:56:26.184044')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20040>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('c17eda2f-bdd0-492d-a83d-f1d5165cd361',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20040>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('c17eda2f-bdd0-492d-a83d-f1d5165cd361',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23140>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('c17eda2f-bdd0-492d-a83d-f1d5165cd361',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23140>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('c17eda2f-bdd0-492d-a83d-f1d5165cd361',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D219C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('c17eda2f-bdd0-492d-a83d-f1d5165cd361',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D219C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('c17eda2f-bdd0-492d-a83d-f1d5165cd361',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D219C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D219C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D219C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D219C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22340>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('698255d4-ce2f-4361-8814-4596d6048563', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '4ae01969-0ed8-4728-af36-07f6721fe794', '2026-01-05 05:56:26.191667', '2026-01-05 05:56:26.191670'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22340>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('698255d4-ce2f-4361-8814-4596d6048563', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '4ae01969-0ed8-4728-af36-07f6721fe794', '2026-01-05 05:56:26.191667', '2026-01-05 05:56:26.191670')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21FC0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4ae01969-0ed8-4728-af36-07f6721fe794', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '252522ec-7794-43ca-bb0c-0febf82fd99a', '2026-01-05 05:56:26.192985', '2026-01-05 05:56:26.192987'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21FC0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4ae01969-0ed8-4728-af36-07f6721fe794', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '252522ec-7794-43ca-bb0c-0febf82fd99a', '2026-01-05 05:56:26.192985', '2026-01-05 05:56:26.192987')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21FC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21FC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20440>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('698255d4-ce2f-4361-8814-4596d6048563', '252522ec-7794-43ca-bb0c-0febf82fd99a', 'c17eda2f-bdd0-492d-a83d-f1d5165cd361', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '6efad0db-28b2-46d4-9a77-1dbe49e60358', '2026-01-05 05:56:26.194268', '2026-01-05 05:56:26.194270'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20440>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('698255d4-ce2f-4361-8814-4596d6048563', '252522ec-7794-43ca-bb0c-0febf82fd99a', 'c17eda2f-bdd0-492d-a83d-f1d5165cd361', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '6efad0db-28b2-46d4-9a77-1dbe49e60358', '2026-01-05 05:56:26.194268', '2026-01-05 05:56:26.194270')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21340>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('6efad0db-28b2-46d4-9a77-1dbe49e60358', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:56:26.195463', '74e0cd95-2c85-4d2a-a9ce-f73b2c04df58', '2026-01-05 05:56:26.195815', '2026-01-05 05:56:26.195817'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21340>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('6efad0db-28b2-46d4-9a77-1dbe49e60358', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:56:26.195463', '74e0cd95-2c85-4d2a-a9ce-f73b2c04df58', '2026-01-05 05:56:26.195815', '2026-01-05 05:56:26.195817')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22BC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('698255d4-ce2f-4361-8814-4596d6048563', 'WK-001', 'High Performer', None, None, None, 'c17eda2f-bdd0-492d-a83d-f1d5165cd361', None, None, None, 'USD', 1, 'ec4216b6-28d0-45f8-bb26-575a7f3fac29', '2026-01-05 05:56:26.196849', '2026-01-05 05:56:26.196851', 0, None, '698255d4-ce2f-4361-8814-4596d6048563', 'WK-002', 'Low Performer', None, None, None, 'c17eda2f-bdd0-492d-a83d-f1d5165cd361', None, None, None, 'USD', 1, 'a789d1ec-4e6c-4fe7-95f2-82e5b03502cc', '2026-01-05 05:56:26.196856', '2026-01-05 05:56:26.196856', 0, None))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22BC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('698255d4-ce2f-4361-8814-4596d6048563', 'WK-001', 'High Performer', None, None, None, 'c17eda2f-bdd0-492d-a83d-f1d5165cd361', None, None, None, 'USD', 1, 'ec4216b6-28d0-45f8-bb26-575a7f3fac29', '2026-01-05 05:56:26.196849', '2026-01-05 05:56:26.196851', 0, None, '698255d4-ce2f-4361-8814-4596d6048563', 'WK-002', 'Low Performer', None, None, None, 'c17eda2f-bdd0-492d-a83d-f1d5165cd361', None, None, None, 'USD', 1, 'a789d1ec-4e6c-4fe7-95f2-82e5b03502cc', '2026-01-05 05:56:26.196856', '2026-01-05 05:56:26.196856', 0, None)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D211C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '6efad0db-28b2-46d4-9a77-1dbe49e60358', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '219969f9-2ffe-44a2-8278-e83cd0bac866', '2026-01-05 05:56:26.198098', '2026-01-05 05:56:26.198099'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D211C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '6efad0db-28b2-46d4-9a77-1dbe49e60358', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '219969f9-2ffe-44a2-8278-e83cd0bac866', '2026-01-05 05:56:26.198098', '2026-01-05 05:56:26.198099')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D211C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D211C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22FC0>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('ec4216b6-28d0-45f8-bb26-575a7f3fac29', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'bfec8a3e-5c97-4ec2-bd1b-397a60eb37f6', '2026-01-05 05:56:26.199698', '2026-01-05 05:56:26.199700', 'a789d1ec-4e6c-4fe7-95f2-82e5b03502cc', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '4e35768d-2eb5-4b5c-b22c-14464c3ce8c0', '2026-01-05 05:56:26.199705', '2026-01-05 05:56:26.199705'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22FC0>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('ec4216b6-28d0-45f8-bb26-575a7f3fac29', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'bfec8a3e-5c97-4ec2-bd1b-397a60eb37f6', '2026-01-05 05:56:26.199698', '2026-01-05 05:56:26.199700', 'a789d1ec-4e6c-4fe7-95f2-82e5b03502cc', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '4e35768d-2eb5-4b5c-b22c-14464c3ce8c0', '2026-01-05 05:56:26.199705', '2026-01-05 05:56:26.199705')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22FC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22FC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D201C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('d9b2eca4-022e-4e5e-b6c4-ae538366c761',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D201C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('d9b2eca4-022e-4e5e-b6c4-ae538366c761',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D201C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D201C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D201C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D201C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20640>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('d9b2eca4-022e-4e5e-b6c4-ae538366c761',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20640>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('d9b2eca4-022e-4e5e-b6c4-ae538366c761',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D227C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('d9b2eca4-022e-4e5e-b6c4-ae538366c761',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D227C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('d9b2eca4-022e-4e5e-b6c4-ae538366c761',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D227C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D227C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D227C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D227C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D235C0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D235C0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D235C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D235C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D235C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D235C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22E40>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22E40>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552781AA40>, 'SELECT date(production_runs.production_date) AS production_date, sum(production_runs.actual_qty) AS actual, sum(production_runs.planned_qty) AS target \nFROM production_runs \nWHERE date(production_runs.production_date) >= ? AND date(production_runs.production_date) <= ? GROUP BY date(production_runs.production_date) ORDER BY date(production_runs.production_date)', ('2025-12-30', '2026-01-05'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552781AA40>, 'SELECT date(production_runs.production_date) AS production_date, sum(production_runs.actual_qty) AS actual, sum(production_runs.planned_qty) AS target \nFROM production_runs \nWHERE date(production_runs.production_date) >= ? AND date(production_runs.production_date) <= ? GROUP BY date(production_runs.production_date) ORDER BY date(production_runs.production_date)', ('2025-12-30', '2026-01-05')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552781AA40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552781AA40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552781AA40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552781AA40>) completed
2026-01-05 00:56:26 | INFO     | httpx | HTTP Request: GET http://test/api/v1/analytics/production-chart "HTTP/1.1 200 OK"
PASSED2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22540>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22540>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22540>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22540>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20D40>, "SELECT name FROM sqlite_master WHERE type='table'", ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20D40>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22CC0>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22CC0>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D203C0>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D203C0>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D203C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D203C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D223C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D223C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D223C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D223C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23EC0>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23EC0>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23EC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23EC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22440>, 'DROP TABLE IF EXISTS "traceability_records"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22440>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21240>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21240>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D204C0>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D204C0>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D204C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D204C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22640>, 'DROP TABLE IF EXISTS "dashboards"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22640>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20140>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20140>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21DC0>, 'DROP TABLE IF EXISTS "data_sources"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21DC0>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20940>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20940>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D213C0>, 'DROP TABLE IF EXISTS "production_events"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D213C0>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D213C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D213C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D222C0>, 'DROP TABLE IF EXISTS "factories"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D222C0>, 'DROP TABLE IF EXISTS "factories"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D222C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D222C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20CC0>, 'DROP TABLE IF EXISTS "production_lines"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20CC0>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20AC0>, 'DROP TABLE IF EXISTS "styles"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20AC0>, 'DROP TABLE IF EXISTS "styles"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20AC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20AC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20C40>, 'DROP TABLE IF EXISTS "orders"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20C40>, 'DROP TABLE IF EXISTS "orders"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20C40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20C40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20F40>, 'DROP TABLE IF EXISTS "production_runs"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20F40>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20B40>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20B40>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48540>, 'DROP TABLE IF EXISTS "defects"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48540>, 'DROP TABLE IF EXISTS "defects"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48540>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48540>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AA40>, 'DROP TABLE IF EXISTS "raw_imports"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AA40>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AA40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AA40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AB40>, 'DROP TABLE IF EXISTS "staging_records"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AB40>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AB40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AB40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48040>, 'DROP TABLE IF EXISTS "packing_lists"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48040>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A940>, 'DROP TABLE IF EXISTS "cartons"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A940>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A740>, 'DROP TABLE IF EXISTS "organizations"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A740>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AC40>, 'DROP TABLE IF EXISTS "users"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AC40>, 'DROP TABLE IF EXISTS "users"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AC40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AC40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AFC0>, 'DROP TABLE IF EXISTS "user_scopes"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AFC0>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AFC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AFC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C481C0>, 'DROP TABLE IF EXISTS "workers"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C481C0>, 'DROP TABLE IF EXISTS "workers"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C481C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C481C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48440>, 'DROP TABLE IF EXISTS "worker_skills"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48440>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A840>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A840>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48140>, 'DROP TABLE IF EXISTS "production_outputs"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48140>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48EC0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48EC0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48EC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48EC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed

tests/test_api/test_analytics_real.py::test_get_lowest_performers_real 2026-01-05 00:56:26 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270954C0>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270954C0>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270954C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270954C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094340>, 'PRAGMA main.table_info("ai_decisions")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094340>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094F40>, 'PRAGMA temp.table_info("ai_decisions")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094F40>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277FF940>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277FF940>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277FF940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277FF940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2240>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2240>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1140>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1140>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3840>, 'PRAGMA main.table_info("alias_mappings")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3840>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3440>, 'PRAGMA temp.table_info("alias_mappings")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3440>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0EC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0EC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0EC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0EC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270969C0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270969C0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270969C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270969C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094A40>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094A40>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094A40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094A40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096BC0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096BC0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094440>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094440>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094940>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094940>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270953C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270953C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270953C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270953C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270970C0>, 'PRAGMA main.table_info("efficiency_metrics")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270970C0>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270970C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270970C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270970C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270970C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095940>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095940>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270955C0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270955C0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270955C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270955C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270975C0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270975C0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270975C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270975C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097A40>, 'PRAGMA main.table_info("dhu_reports")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097A40>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097A40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097A40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097A40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097A40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097CC0>, 'PRAGMA temp.table_info("dhu_reports")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097CC0>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095840>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095840>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094840>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094840>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094BC0>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094BC0>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270974C0>, 'PRAGMA main.table_info("traceability_records")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270974C0>, 'PRAGMA main.table_info("traceability_records")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270974C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270974C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270974C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270974C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097840>, 'PRAGMA temp.table_info("traceability_records")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097840>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270973C0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270973C0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270973C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270973C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095CC0>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095CC0>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094040>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094040>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095DC0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095DC0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096240>, 'PRAGMA main.table_info("fabric_lots")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096240>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096440>, 'PRAGMA temp.table_info("fabric_lots")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096440>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094140>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094140>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7740>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7740>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F62C0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F62C0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F62C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F62C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4FC0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4FC0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4FC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4FC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7C40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7C40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7C40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7C40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097B40>, 'PRAGMA main.table_info("cut_tickets")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097B40>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F67C0>, 'PRAGMA temp.table_info("cut_tickets")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F67C0>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F67C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F67C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F67C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F67C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7B40>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7B40>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7DC0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7DC0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4240>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4240>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F65C0>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F65C0>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F65C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F65C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4540>, 'PRAGMA main.table_info("dashboards")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4540>, 'PRAGMA main.table_info("dashboards")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4540>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4540>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4540>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4540>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7EC0>, 'PRAGMA temp.table_info("dashboards")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7EC0>, 'PRAGMA temp.table_info("dashboards")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F7EC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F7EC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7EC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7EC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F61C0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F61C0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F61C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F61C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F6740>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F6740>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F6740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F6740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7A40>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7A40>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7A40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7A40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7840>, 'PRAGMA main.table_info("data_quality_issues")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7840>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F7840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F7840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5140>, 'PRAGMA temp.table_info("data_quality_issues")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5140>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F5140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F5140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5440>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5440>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271561C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271561C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271561C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271561C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155040>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155040>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271571C0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271571C0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271571C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271571C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5BC0>, 'PRAGMA main.table_info("data_sources")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5BC0>, 'PRAGMA main.table_info("data_sources")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F5BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F5BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4440>, 'PRAGMA temp.table_info("data_sources")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4440>, 'PRAGMA temp.table_info("data_sources")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274B58C0>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274B58C0>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274B58C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274B58C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F3B40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F3B40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F3B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F3B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F0440>, 'PRAGMA main.table_info("schema_mappings")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F0440>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275F0440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275F0440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F0440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F0440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154D40>, 'PRAGMA temp.table_info("schema_mappings")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154D40>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DA940>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DA940>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DA940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DA940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DB940>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DB940>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DB940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DB940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274D99C0>, 'PRAGMA main.table_info("production_events")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274D99C0>, 'PRAGMA main.table_info("production_events")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274D99C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274D99C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274D99C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274D99C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156040>, 'PRAGMA temp.table_info("production_events")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156040>, 'PRAGMA temp.table_info("production_events")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527156040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527156040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155140>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155140>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156840>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156840>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155240>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155240>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271545C0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271545C0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271545C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271545C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275298C0>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275298C0>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275298C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275298C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271556C0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271556C0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271556C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271556C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552752ABC0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552752ABC0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552752ABC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552752ABC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527528340>, 'PRAGMA main.table_info("factories")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527528340>, 'PRAGMA main.table_info("factories")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527528340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527528340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527528340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527528340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271540C0>, 'PRAGMA temp.table_info("factories")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271540C0>, 'PRAGMA temp.table_info("factories")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271540C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271540C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271540C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271540C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095140>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095140>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271544C0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271544C0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271544C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271544C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156440>, 'PRAGMA main.table_info("production_lines")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156440>, 'PRAGMA main.table_info("production_lines")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527156440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527156440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155E40>, 'PRAGMA temp.table_info("production_lines")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155E40>, 'PRAGMA temp.table_info("production_lines")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527157CC0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527157CC0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527157CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527157CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156240>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156240>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154F40>, 'PRAGMA main.table_info("styles")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154F40>, 'PRAGMA main.table_info("styles")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154240>, 'PRAGMA temp.table_info("styles")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154240>, 'PRAGMA temp.table_info("styles")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271201C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271201C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271201C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271201C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122E40>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122E40>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123CC0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123CC0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123340>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123340>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271232C0>, 'PRAGMA main.table_info("orders")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271232C0>, 'PRAGMA main.table_info("orders")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271232C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271232C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271232C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271232C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271206C0>, 'PRAGMA temp.table_info("orders")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271206C0>, 'PRAGMA temp.table_info("orders")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271206C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271206C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271206C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271206C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121AC0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121AC0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121AC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121AC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527626AC0>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527626AC0>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527626AC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527626AC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271200C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271200C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271200C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271200C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122CC0>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122CC0>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276267C0>, 'PRAGMA main.table_info("production_runs")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276267C0>, 'PRAGMA main.table_info("production_runs")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276267C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276267C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276267C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276267C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271205C0>, 'PRAGMA temp.table_info("production_runs")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271205C0>, 'PRAGMA temp.table_info("production_runs")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271205C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271205C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271205C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271205C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015504F20D40>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015504F20D40>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015504F20D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015504F20D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120B40>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120B40>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120D40>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120D40>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527625F40>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527625F40>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527625F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527625F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271213C0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271213C0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271213C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271213C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120940>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120940>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271239C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271239C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271239C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271239C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120DC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120DC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121440>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121440>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759B240>, 'PRAGMA main.table_info("quality_inspections")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759B240>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759B240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759B240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759B240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759B240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271227C0>, 'PRAGMA temp.table_info("quality_inspections")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271227C0>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271227C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271227C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271227C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271227C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121CC0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121CC0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271894C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271894C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271894C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271894C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271220C0>, 'PRAGMA main.table_info("defects")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271220C0>, 'PRAGMA main.table_info("defects")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271220C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271220C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271220C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271220C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AFC0>, 'PRAGMA temp.table_info("defects")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AFC0>, 'PRAGMA temp.table_info("defects")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718AFC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718AFC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AFC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AFC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189F40>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189F40>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AEC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AEC0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AEC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AEC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277D57C0>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277D57C0>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277D57C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277D57C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B440>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B440>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759A840>, 'PRAGMA main.table_info("raw_imports")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759A840>, 'PRAGMA main.table_info("raw_imports")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759A840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759A840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759A840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759A840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B9C0>, 'PRAGMA temp.table_info("raw_imports")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B9C0>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718B9C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718B9C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B9C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B9C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A240>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A240>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271896C0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271896C0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271896C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271896C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271887C0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271887C0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271887C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271887C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756F440>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756F440>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756F440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756F440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC2C0>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC2C0>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC2C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC2C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756E440>, 'PRAGMA main.table_info("staging_records")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756E440>, 'PRAGMA main.table_info("staging_records")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756E440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756E440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756E440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756E440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756CEC0>, 'PRAGMA temp.table_info("staging_records")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756CEC0>, 'PRAGMA temp.table_info("staging_records")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756CEC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756CEC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756CEC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756CEC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC740>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC740>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277C8B40>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277C8B40>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277C8B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277C8B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC0C0>, 'PRAGMA main.table_info("packing_lists")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC0C0>, 'PRAGMA main.table_info("packing_lists")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271BC0C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271BC0C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC0C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC0C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD140>, 'PRAGMA temp.table_info("packing_lists")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD140>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271BD140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271BD140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C66C0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C66C0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C66C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C66C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A140>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A140>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B90C0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B90C0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B90C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B90C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756D5C0>, 'PRAGMA main.table_info("cartons")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756D5C0>, 'PRAGMA main.table_info("cartons")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756D5C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756D5C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756D5C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756D5C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A740>, 'PRAGMA temp.table_info("cartons")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A740>, 'PRAGMA temp.table_info("cartons")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6740>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6740>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BDC0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BDC0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BDC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BDC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3640>, 'PRAGMA main.table_info("organizations")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3640>, 'PRAGMA main.table_info("organizations")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6140>, 'PRAGMA temp.table_info("organizations")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6140>, 'PRAGMA temp.table_info("organizations")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C6140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C6140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B9840>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B9840>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B9840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B9840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B96C0>, 'PRAGMA main.table_info("users")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B96C0>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155043B96C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155043B96C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B96C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B96C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B2C0>, 'PRAGMA temp.table_info("users")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B2C0>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B2C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B2C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B2C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B2C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F57C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F57C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F57C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F57C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527678940>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527678940>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527678940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527678940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BBC0>, 'PRAGMA main.table_info("user_scopes")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BBC0>, 'PRAGMA main.table_info("user_scopes")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767BBC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767BBC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BBC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BBC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B5C0>, 'PRAGMA temp.table_info("user_scopes")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B5C0>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B5C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B5C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B5C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B5C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3DC0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3DC0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3E40>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3E40>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3AC0>, 'PRAGMA main.table_info("workers")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3AC0>, 'PRAGMA main.table_info("workers")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527BF3AC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527BF3AC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3AC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3AC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3C40>, 'PRAGMA temp.table_info("workers")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3C40>, 'PRAGMA temp.table_info("workers")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527BF3C40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527BF3C40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3C40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3C40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF38C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF38C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF38C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF38C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276780C0>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276780C0>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276780C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276780C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BC40>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BC40>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BC40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BC40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527679040>, 'PRAGMA main.table_info("worker_skills")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527679040>, 'PRAGMA main.table_info("worker_skills")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527679040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527679040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527679040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527679040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B240>, 'PRAGMA temp.table_info("worker_skills")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B240>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A2C0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A2C0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A2C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A2C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058F40>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058F40>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270597C0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270597C0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270597C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270597C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A240>, 'PRAGMA main.table_info("worker_attendances")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A240>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A540>, 'PRAGMA temp.table_info("worker_attendances")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A540>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A540>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A540>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A540>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A540>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059040>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059040>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059540>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059540>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059540>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059540>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AA40>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AA40>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AA40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AA40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705BA40>, 'PRAGMA main.table_info("production_outputs")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705BA40>, 'PRAGMA main.table_info("production_outputs")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705BA40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705BA40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705BA40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705BA40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059640>, 'PRAGMA temp.table_info("production_outputs")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059640>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270593C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270593C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270593C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270593C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A9C0>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A9C0>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A9C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A9C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059C40>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059C40>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059C40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059C40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D223C0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D223C0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D223C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D223C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22440>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, 'f1feb824-7d4d-42b2-933f-ed4ee644197a', '2026-01-05 05:56:26.438697', '2026-01-05 05:56:26.438700', 0, None))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22440>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, 'f1feb824-7d4d-42b2-933f-ed4ee644197a', '2026-01-05 05:56:26.438697', '2026-01-05 05:56:26.438700', 0, None)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23CC0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('f1feb824-7d4d-42b2-933f-ed4ee644197a',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23CC0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('f1feb824-7d4d-42b2-933f-ed4ee644197a',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20B40>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('f1feb824-7d4d-42b2-933f-ed4ee644197a',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20B40>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('f1feb824-7d4d-42b2-933f-ed4ee644197a',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20340>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('f1feb824-7d4d-42b2-933f-ed4ee644197a',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20340>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('f1feb824-7d4d-42b2-933f-ed4ee644197a',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D238C0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('f1feb824-7d4d-42b2-933f-ed4ee644197a', 'test@example.com', '$2b$12$T2TCSgj95E/D6bisWYrdkuJtsIEX4tre4ZvuP5qZttu5isuQGrABu', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c', '2026-01-05 05:56:26.665751', '2026-01-05 05:56:26.665756', 0, None))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D238C0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('f1feb824-7d4d-42b2-933f-ed4ee644197a', 'test@example.com', '$2b$12$T2TCSgj95E/D6bisWYrdkuJtsIEX4tre4ZvuP5qZttu5isuQGrABu', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c', '2026-01-05 05:56:26.665751', '2026-01-05 05:56:26.665756', 0, None)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D238C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D238C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D225C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D225C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D225C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D225C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D225C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D225C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D212C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D212C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D212C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D212C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D212C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D212C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22E40>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22E40>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20140>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('f1feb824-7d4d-42b2-933f-ed4ee644197a', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '4c21dce5-8f19-4359-a1c3-a124aa4db801', '2026-01-05 05:56:26.675671', '2026-01-05 05:56:26.675673'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20140>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('f1feb824-7d4d-42b2-933f-ed4ee644197a', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '4c21dce5-8f19-4359-a1c3-a124aa4db801', '2026-01-05 05:56:26.675671', '2026-01-05 05:56:26.675673')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23040>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('4c21dce5-8f19-4359-a1c3-a124aa4db801',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23040>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('4c21dce5-8f19-4359-a1c3-a124aa4db801',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21EC0>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('4c21dce5-8f19-4359-a1c3-a124aa4db801',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21EC0>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('4c21dce5-8f19-4359-a1c3-a124aa4db801',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D21EC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D21EC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21EC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21EC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D206C0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('4c21dce5-8f19-4359-a1c3-a124aa4db801',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D206C0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('4c21dce5-8f19-4359-a1c3-a124aa4db801',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D206C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D206C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D206C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D206C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22FC0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('4c21dce5-8f19-4359-a1c3-a124aa4db801',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22FC0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('4c21dce5-8f19-4359-a1c3-a124aa4db801',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22FC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22FC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22FC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22FC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AFC0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('4c21dce5-8f19-4359-a1c3-a124aa4db801',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AFC0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('4c21dce5-8f19-4359-a1c3-a124aa4db801',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C4AFC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C4AFC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AFC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AFC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C481C0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('4c21dce5-8f19-4359-a1c3-a124aa4db801',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C481C0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('4c21dce5-8f19-4359-a1c3-a124aa4db801',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C481C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C481C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C481C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C481C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D226C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c21dce5-8f19-4359-a1c3-a124aa4db801', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, 'cb78a737-966b-4d8d-95f2-ee2331f67ba8', '2026-01-05 05:56:26.687512', '2026-01-05 05:56:26.687514'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D226C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c21dce5-8f19-4359-a1c3-a124aa4db801', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, 'cb78a737-966b-4d8d-95f2-ee2331f67ba8', '2026-01-05 05:56:26.687512', '2026-01-05 05:56:26.687514')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D226C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D226C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22D40>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('cb78a737-966b-4d8d-95f2-ee2331f67ba8',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22D40>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('cb78a737-966b-4d8d-95f2-ee2331f67ba8',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20440>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('cb78a737-966b-4d8d-95f2-ee2331f67ba8',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20440>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('cb78a737-966b-4d8d-95f2-ee2331f67ba8',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D228C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('cb78a737-966b-4d8d-95f2-ee2331f67ba8',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D228C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('cb78a737-966b-4d8d-95f2-ee2331f67ba8',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D228C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D228C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D228C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D228C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20F40>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c21dce5-8f19-4359-a1c3-a124aa4db801', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, 'faca5be4-553f-4be9-a4b1-fbc5a69d257d', '2026-01-05 05:56:26.693825', '2026-01-05 05:56:26.693828'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20F40>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c21dce5-8f19-4359-a1c3-a124aa4db801', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, 'faca5be4-553f-4be9-a4b1-fbc5a69d257d', '2026-01-05 05:56:26.693825', '2026-01-05 05:56:26.693828')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20AC0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('faca5be4-553f-4be9-a4b1-fbc5a69d257d', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '687ee6b6-28a9-4f18-9294-9de65fdeb2d6', '2026-01-05 05:56:26.695064', '2026-01-05 05:56:26.695066'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20AC0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('faca5be4-553f-4be9-a4b1-fbc5a69d257d', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '687ee6b6-28a9-4f18-9294-9de65fdeb2d6', '2026-01-05 05:56:26.695064', '2026-01-05 05:56:26.695066')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20AC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20AC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23B40>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('4c21dce5-8f19-4359-a1c3-a124aa4db801', '687ee6b6-28a9-4f18-9294-9de65fdeb2d6', 'cb78a737-966b-4d8d-95f2-ee2331f67ba8', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, 'a247dd3f-5620-43b3-957a-c5c5be198483', '2026-01-05 05:56:26.696353', '2026-01-05 05:56:26.696355'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23B40>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('4c21dce5-8f19-4359-a1c3-a124aa4db801', '687ee6b6-28a9-4f18-9294-9de65fdeb2d6', 'cb78a737-966b-4d8d-95f2-ee2331f67ba8', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, 'a247dd3f-5620-43b3-957a-c5c5be198483', '2026-01-05 05:56:26.696353', '2026-01-05 05:56:26.696355')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D211C0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a247dd3f-5620-43b3-957a-c5c5be198483', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:56:26.698597', 'dca94b2f-7040-47dd-90a5-a1b18b88b7bc', '2026-01-05 05:56:26.699267', '2026-01-05 05:56:26.699271'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D211C0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a247dd3f-5620-43b3-957a-c5c5be198483', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:56:26.698597', 'dca94b2f-7040-47dd-90a5-a1b18b88b7bc', '2026-01-05 05:56:26.699267', '2026-01-05 05:56:26.699271')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D211C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D211C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20040>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c21dce5-8f19-4359-a1c3-a124aa4db801', 'WK-001', 'High Performer', None, None, None, 'cb78a737-966b-4d8d-95f2-ee2331f67ba8', None, None, None, 'USD', 1, '0abbe65e-d612-4a5c-9105-98214c442476', '2026-01-05 05:56:26.701312', '2026-01-05 05:56:26.701314', 0, None, '4c21dce5-8f19-4359-a1c3-a124aa4db801', 'WK-002', 'Low Performer', None, None, None, 'cb78a737-966b-4d8d-95f2-ee2331f67ba8', None, None, None, 'USD', 1, 'b97470ad-daf7-4c9d-aa1c-e9c8f1e47145', '2026-01-05 05:56:26.701320', '2026-01-05 05:56:26.701320', 0, None))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20040>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4c21dce5-8f19-4359-a1c3-a124aa4db801', 'WK-001', 'High Performer', None, None, None, 'cb78a737-966b-4d8d-95f2-ee2331f67ba8', None, None, None, 'USD', 1, '0abbe65e-d612-4a5c-9105-98214c442476', '2026-01-05 05:56:26.701312', '2026-01-05 05:56:26.701314', 0, None, '4c21dce5-8f19-4359-a1c3-a124aa4db801', 'WK-002', 'Low Performer', None, None, None, 'cb78a737-966b-4d8d-95f2-ee2331f67ba8', None, None, None, 'USD', 1, 'b97470ad-daf7-4c9d-aa1c-e9c8f1e47145', '2026-01-05 05:56:26.701320', '2026-01-05 05:56:26.701320', 0, None)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23940>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 'a247dd3f-5620-43b3-957a-c5c5be198483', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '8248116c-c9ee-4c72-8a29-f0f160505b81', '2026-01-05 05:56:26.703349', '2026-01-05 05:56:26.703350'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23940>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 'a247dd3f-5620-43b3-957a-c5c5be198483', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '8248116c-c9ee-4c72-8a29-f0f160505b81', '2026-01-05 05:56:26.703349', '2026-01-05 05:56:26.703350')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21F40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('0abbe65e-d612-4a5c-9105-98214c442476', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'eddf7ce0-cc20-4a2b-8c08-3a6becc57365', '2026-01-05 05:56:26.704490', '2026-01-05 05:56:26.704491', 'b97470ad-daf7-4c9d-aa1c-e9c8f1e47145', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '233cd2a4-f2a2-4701-98c2-62d2f373c806', '2026-01-05 05:56:26.704495', '2026-01-05 05:56:26.704496'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21F40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('0abbe65e-d612-4a5c-9105-98214c442476', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'eddf7ce0-cc20-4a2b-8c08-3a6becc57365', '2026-01-05 05:56:26.704490', '2026-01-05 05:56:26.704491', 'b97470ad-daf7-4c9d-aa1c-e9c8f1e47145', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '233cd2a4-f2a2-4701-98c2-62d2f373c806', '2026-01-05 05:56:26.704495', '2026-01-05 05:56:26.704496')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D219C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D219C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D219C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D219C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D219C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D219C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48640>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48640>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C48640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C48640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48140>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48140>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('f0c71b8f-f7cb-463d-8c5e-2cc3ac5ff59c',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C48140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C48140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22640>, 'SELECT workers.factory_id, workers.employee_id, workers.full_name, workers.department, workers.job_title, workers.primary_skill, workers.line_id, workers.hire_date, workers.termination_date, workers.hourly_rate, workers.currency, workers.is_active, workers.id, workers.created_at, workers.updated_at, workers.is_deleted, workers.deleted_at, worker_skills.worker_id, worker_skills.operation, worker_skills.operation_category, worker_skills.proficiency_pct, worker_skills.sam_achieved, worker_skills.efficiency_pct, worker_skills.defect_rate_pct, worker_skills.pieces_lifetime, worker_skills.pieces_30d, worker_skills.is_certified, worker_skills.certification_date, worker_skills.last_assessed, worker_skills.id AS id_1, worker_skills.created_at AS created_at_1, worker_skills.updated_at AS updated_at_1, production_lines.name AS line_name \nFROM workers JOIN worker_skills ON workers.id = worker_skills.worker_id LEFT OUTER JOIN production_lines ON workers.line_id = production_lines.id \nWHERE workers.is_active = 1 ORDER BY worker_skills.efficiency_pct ASC\n LIMIT ? OFFSET ?', (5, 0))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22640>, 'SELECT workers.factory_id, workers.employee_id, workers.full_name, workers.department, workers.job_title, workers.primary_skill, workers.line_id, workers.hire_date, workers.termination_date, workers.hourly_rate, workers.currency, workers.is_active, workers.id, workers.created_at, workers.updated_at, workers.is_deleted, workers.deleted_at, worker_skills.worker_id, worker_skills.operation, worker_skills.operation_category, worker_skills.proficiency_pct, worker_skills.sam_achieved, worker_skills.efficiency_pct, worker_skills.defect_rate_pct, worker_skills.pieces_lifetime, worker_skills.pieces_30d, worker_skills.is_certified, worker_skills.certification_date, worker_skills.last_assessed, worker_skills.id AS id_1, worker_skills.created_at AS created_at_1, worker_skills.updated_at AS updated_at_1, production_lines.name AS line_name \nFROM workers JOIN worker_skills ON workers.id = worker_skills.worker_id LEFT OUTER JOIN production_lines ON workers.line_id = production_lines.id \nWHERE workers.is_active = 1 ORDER BY worker_skills.efficiency_pct ASC\n LIMIT ? OFFSET ?', (5, 0)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49D40>, 'SELECT worker_skills.worker_id AS worker_skills_worker_id, worker_skills.operation AS worker_skills_operation, worker_skills.operation_category AS worker_skills_operation_category, worker_skills.proficiency_pct AS worker_skills_proficiency_pct, worker_skills.sam_achieved AS worker_skills_sam_achieved, worker_skills.efficiency_pct AS worker_skills_efficiency_pct, worker_skills.defect_rate_pct AS worker_skills_defect_rate_pct, worker_skills.pieces_lifetime AS worker_skills_pieces_lifetime, worker_skills.pieces_30d AS worker_skills_pieces_30d, worker_skills.is_certified AS worker_skills_is_certified, worker_skills.certification_date AS worker_skills_certification_date, worker_skills.last_assessed AS worker_skills_last_assessed, worker_skills.id AS worker_skills_id, worker_skills.created_at AS worker_skills_created_at, worker_skills.updated_at AS worker_skills_updated_at \nFROM worker_skills \nWHERE worker_skills.worker_id IN (?, ?)', ('b97470ad-daf7-4c9d-aa1c-e9c8f1e47145', '0abbe65e-d612-4a5c-9105-98214c442476'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49D40>, 'SELECT worker_skills.worker_id AS worker_skills_worker_id, worker_skills.operation AS worker_skills_operation, worker_skills.operation_category AS worker_skills_operation_category, worker_skills.proficiency_pct AS worker_skills_proficiency_pct, worker_skills.sam_achieved AS worker_skills_sam_achieved, worker_skills.efficiency_pct AS worker_skills_efficiency_pct, worker_skills.defect_rate_pct AS worker_skills_defect_rate_pct, worker_skills.pieces_lifetime AS worker_skills_pieces_lifetime, worker_skills.pieces_30d AS worker_skills_pieces_30d, worker_skills.is_certified AS worker_skills_is_certified, worker_skills.certification_date AS worker_skills_certification_date, worker_skills.last_assessed AS worker_skills_last_assessed, worker_skills.id AS worker_skills_id, worker_skills.created_at AS worker_skills_created_at, worker_skills.updated_at AS worker_skills_updated_at \nFROM worker_skills \nWHERE worker_skills.worker_id IN (?, ?)', ('b97470ad-daf7-4c9d-aa1c-e9c8f1e47145', '0abbe65e-d612-4a5c-9105-98214c442476')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C49D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C49D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49DC0>, 'SELECT worker_attendances.worker_id AS worker_attendances_worker_id, worker_attendances.work_date AS worker_attendances_work_date, worker_attendances.clock_in AS worker_attendances_clock_in, worker_attendances.clock_out AS worker_attendances_clock_out, worker_attendances.hours_regular AS worker_attendances_hours_regular, worker_attendances.hours_overtime AS worker_attendances_hours_overtime, worker_attendances.hours_total AS worker_attendances_hours_total, worker_attendances.is_present AS worker_attendances_is_present, worker_attendances.absence_reason AS worker_attendances_absence_reason, worker_attendances.is_approved AS worker_attendances_is_approved, worker_attendances.id AS worker_attendances_id, worker_attendances.created_at AS worker_attendances_created_at, worker_attendances.updated_at AS worker_attendances_updated_at \nFROM worker_attendances \nWHERE worker_attendances.worker_id IN (?, ?)', ('b97470ad-daf7-4c9d-aa1c-e9c8f1e47145', '0abbe65e-d612-4a5c-9105-98214c442476'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49DC0>, 'SELECT worker_attendances.worker_id AS worker_attendances_worker_id, worker_attendances.work_date AS worker_attendances_work_date, worker_attendances.clock_in AS worker_attendances_clock_in, worker_attendances.clock_out AS worker_attendances_clock_out, worker_attendances.hours_regular AS worker_attendances_hours_regular, worker_attendances.hours_overtime AS worker_attendances_hours_overtime, worker_attendances.hours_total AS worker_attendances_hours_total, worker_attendances.is_present AS worker_attendances_is_present, worker_attendances.absence_reason AS worker_attendances_absence_reason, worker_attendances.is_approved AS worker_attendances_is_approved, worker_attendances.id AS worker_attendances_id, worker_attendances.created_at AS worker_attendances_created_at, worker_attendances.updated_at AS worker_attendances_updated_at \nFROM worker_attendances \nWHERE worker_attendances.worker_id IN (?, ?)', ('b97470ad-daf7-4c9d-aa1c-e9c8f1e47145', '0abbe65e-d612-4a5c-9105-98214c442476')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C49DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C49DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48F40>, 'SELECT production_outputs.worker_id AS production_outputs_worker_id, production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \nFROM production_outputs \nWHERE production_outputs.worker_id IN (?, ?)', ('b97470ad-daf7-4c9d-aa1c-e9c8f1e47145', '0abbe65e-d612-4a5c-9105-98214c442476'))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48F40>, 'SELECT production_outputs.worker_id AS production_outputs_worker_id, production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \nFROM production_outputs \nWHERE production_outputs.worker_id IN (?, ?)', ('b97470ad-daf7-4c9d-aa1c-e9c8f1e47145', '0abbe65e-d612-4a5c-9105-98214c442476')) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C48F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C48F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48F40>)
2026-01-05 00:56:26 | INFO     | httpx | HTTP Request: GET http://test/api/v1/analytics/workers/lowest-performers?limit=5 "HTTP/1.1 200 OK"
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48F40>) completed
PASSED2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21FC0>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21FC0>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21FC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21FC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20CC0>, "SELECT name FROM sqlite_master WHERE type='table'", ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20CC0>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D217C0>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D217C0>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D217C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D217C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23EC0>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23EC0>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23EC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23EC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22B40>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22B40>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21DC0>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21DC0>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D222C0>, 'DROP TABLE IF EXISTS "traceability_records"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D222C0>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D222C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D222C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20D40>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20D40>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20640>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20640>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D201C0>, 'DROP TABLE IF EXISTS "dashboards"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D201C0>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D201C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D201C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D215C0>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D215C0>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D215C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D215C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20BC0>, 'DROP TABLE IF EXISTS "data_sources"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20BC0>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D235C0>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D235C0>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D235C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D235C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48740>, 'DROP TABLE IF EXISTS "production_events"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48740>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AC40>, 'DROP TABLE IF EXISTS "factories"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AC40>, 'DROP TABLE IF EXISTS "factories"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AC40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AC40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AE40>, 'DROP TABLE IF EXISTS "production_lines"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AE40>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AE40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AE40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49E40>, 'DROP TABLE IF EXISTS "styles"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49E40>, 'DROP TABLE IF EXISTS "styles"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4B9C0>, 'DROP TABLE IF EXISTS "orders"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4B9C0>, 'DROP TABLE IF EXISTS "orders"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4B9C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4B9C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49BC0>, 'DROP TABLE IF EXISTS "production_runs"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49BC0>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A6C0>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A6C0>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A6C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A6C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C488C0>, 'DROP TABLE IF EXISTS "defects"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C488C0>, 'DROP TABLE IF EXISTS "defects"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C488C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C488C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49140>, 'DROP TABLE IF EXISTS "raw_imports"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49140>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4BDC0>, 'DROP TABLE IF EXISTS "staging_records"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4BDC0>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4BDC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4BDC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4B240>, 'DROP TABLE IF EXISTS "packing_lists"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4B240>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4B240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4B240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A140>, 'DROP TABLE IF EXISTS "cartons"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A140>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527943C40>, 'DROP TABLE IF EXISTS "organizations"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527943C40>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527943C40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527943C40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527943EC0>, 'DROP TABLE IF EXISTS "users"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527943EC0>, 'DROP TABLE IF EXISTS "users"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527943EC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527943EC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527943CC0>, 'DROP TABLE IF EXISTS "user_scopes"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527943CC0>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527943CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527943CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFE440>, 'DROP TABLE IF EXISTS "workers"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFE440>, 'DROP TABLE IF EXISTS "workers"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFE440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFE440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFFB40>, 'DROP TABLE IF EXISTS "worker_skills"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFFB40>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFFB40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFFB40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFF5C0>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFF5C0>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFF5C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFF5C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFFBC0>, 'DROP TABLE IF EXISTS "production_outputs"', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFFBC0>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFFBC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFFBC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270402C0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270402C0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270402C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270402C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed

tests/test_api/test_analytics_real.py::test_get_discrepancies_real 2026-01-05 00:56:26 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4440>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4440>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274B58C0>, 'PRAGMA main.table_info("ai_decisions")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274B58C0>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274B58C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274B58C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274B58C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274B58C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DA940>, 'PRAGMA temp.table_info("ai_decisions")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DA940>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274DA940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274DA940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DA940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DA940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F3B40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F3B40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F3B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F3B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F0440>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F0440>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F0440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F0440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527528340>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527528340>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527528340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527528340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5140>, 'PRAGMA main.table_info("alias_mappings")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5140>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F5140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F5140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DB940>, 'PRAGMA temp.table_info("alias_mappings")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DB940>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274DB940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274DB940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DB940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DB940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274D99C0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274D99C0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274D99C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274D99C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552752ABC0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552752ABC0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552752ABC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552752ABC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFF940>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFF940>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFF940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFF940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFF6C0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFF6C0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFF6C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFF6C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275298C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275298C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275298C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275298C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5BC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5BC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7DC0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7DC0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4540>, 'PRAGMA main.table_info("efficiency_metrics")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4540>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4540>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4540>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4540>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4540>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4FC0>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4FC0>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4FC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4FC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4FC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4FC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5440>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5440>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094440>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094440>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096940>, 'PRAGMA main.table_info("dhu_reports")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096940>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097A40>, 'PRAGMA temp.table_info("dhu_reports")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097A40>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097A40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097A40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097A40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097A40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270946C0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270946C0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270946C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270946C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094BC0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094BC0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095CC0>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095CC0>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095840>, 'PRAGMA main.table_info("traceability_records")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095840>, 'PRAGMA main.table_info("traceability_records")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270969C0>, 'PRAGMA temp.table_info("traceability_records")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270969C0>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270969C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270969C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270969C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270969C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270974C0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270974C0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270974C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270974C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094F40>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094F40>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270973C0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270973C0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270973C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270973C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094A40>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094A40>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094A40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094A40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094840>, 'PRAGMA main.table_info("fabric_lots")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094840>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097B40>, 'PRAGMA temp.table_info("fabric_lots")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097B40>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270970C0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270970C0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270970C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270970C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095140>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095140>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097CC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097CC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094040>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094040>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094140>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094140>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096BC0>, 'PRAGMA main.table_info("cut_tickets")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096BC0>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095DC0>, 'PRAGMA temp.table_info("cut_tickets")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095DC0>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096440>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096440>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094D40>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094D40>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270975C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270975C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270975C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270975C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270955C0>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270955C0>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270955C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270955C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095BC0>, 'PRAGMA main.table_info("dashboards")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095BC0>, 'PRAGMA main.table_info("dashboards")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270954C0>, 'PRAGMA temp.table_info("dashboards")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270954C0>, 'PRAGMA temp.table_info("dashboards")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270954C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270954C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270954C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270954C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096240>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096240>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154E40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154E40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156040>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156040>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155B40>, 'PRAGMA main.table_info("data_quality_issues")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155B40>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527157CC0>, 'PRAGMA temp.table_info("data_quality_issues")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527157CC0>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527157CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527157CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527157CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527157CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015504F20D40>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015504F20D40>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015504F20D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015504F20D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271560C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271560C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271560C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271560C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155E40>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155E40>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155140>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155140>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271556C0>, 'PRAGMA main.table_info("data_sources")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271556C0>, 'PRAGMA main.table_info("data_sources")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271556C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271556C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271556C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271556C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156840>, 'PRAGMA temp.table_info("data_sources")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156840>, 'PRAGMA temp.table_info("data_sources")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527156840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527156840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527625F40>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527625F40>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527625F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527625F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276267C0>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276267C0>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276267C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276267C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527626AC0>, 'PRAGMA main.table_info("schema_mappings")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527626AC0>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527626AC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527626AC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527626AC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527626AC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154340>, 'PRAGMA temp.table_info("schema_mappings")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154340>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155240>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155240>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271574C0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271574C0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271574C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271574C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271571C0>, 'PRAGMA main.table_info("production_events")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271571C0>, 'PRAGMA main.table_info("production_events")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271571C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271571C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271571C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271571C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271544C0>, 'PRAGMA temp.table_info("production_events")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271544C0>, 'PRAGMA temp.table_info("production_events")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271544C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271544C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271544C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271544C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155A40>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155A40>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155A40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155A40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271540C0>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271540C0>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271540C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271540C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154240>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154240>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122340>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122340>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271207C0>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271207C0>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271207C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271207C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123CC0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123CC0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271202C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271202C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271202C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271202C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156440>, 'PRAGMA main.table_info("factories")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156440>, 'PRAGMA main.table_info("factories")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527156440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527156440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271200C0>, 'PRAGMA temp.table_info("factories")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271200C0>, 'PRAGMA temp.table_info("factories")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271200C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271200C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271200C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271200C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527598E40>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527598E40>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527598E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527598E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759B240>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759B240>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759B240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759B240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120D40>, 'PRAGMA main.table_info("production_lines")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120D40>, 'PRAGMA main.table_info("production_lines")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527120D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527120D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121AC0>, 'PRAGMA temp.table_info("production_lines")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121AC0>, 'PRAGMA temp.table_info("production_lines")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527121AC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527121AC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121AC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121AC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277C8B40>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277C8B40>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277C8B40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277C8B40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271220C0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271220C0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271220C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271220C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFFBC0>, 'PRAGMA main.table_info("styles")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015526FFFBC0>, 'PRAGMA main.table_info("styles")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015526FFFBC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015526FFFBC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFFBC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015526FFFBC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277D57C0>, 'PRAGMA temp.table_info("styles")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277D57C0>, 'PRAGMA temp.table_info("styles")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155277D57C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155277D57C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277D57C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277D57C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC2C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC2C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC2C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC2C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD1C0>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD1C0>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD1C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD1C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC0C0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC0C0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC0C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC0C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC740>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC740>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD0C0>, 'PRAGMA main.table_info("orders")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD0C0>, 'PRAGMA main.table_info("orders")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271BD0C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271BD0C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD0C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD0C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121CC0>, 'PRAGMA temp.table_info("orders")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121CC0>, 'PRAGMA temp.table_info("orders")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527121CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527121CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122AC0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122AC0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122AC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122AC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120DC0>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120DC0>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271206C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271206C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271206C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271206C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756F440>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756F440>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756F440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756F440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756DC40>, 'PRAGMA main.table_info("production_runs")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756DC40>, 'PRAGMA main.table_info("production_runs")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756DC40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756DC40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756DC40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756DC40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123340>, 'PRAGMA temp.table_info("production_runs")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123340>, 'PRAGMA temp.table_info("production_runs")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527123340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527123340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756E440>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756E440>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756E440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756E440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD140>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD140>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120940>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120940>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271227C0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271227C0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271227C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271227C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271201C0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271201C0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271201C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271201C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121440>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121440>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271232C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271232C0>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271232C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271232C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AEC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AEC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AEC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AEC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AFC0>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AFC0>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AFC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AFC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756D5C0>, 'PRAGMA main.table_info("quality_inspections")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756D5C0>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756D5C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756D5C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756D5C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756D5C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756CEC0>, 'PRAGMA temp.table_info("quality_inspections")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756CEC0>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756CEC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756CEC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756CEC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756CEC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F5EC0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F5EC0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F5EC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F5EC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F57C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F57C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F57C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F57C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B96C0>, 'PRAGMA main.table_info("defects")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B96C0>, 'PRAGMA main.table_info("defects")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155043B96C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155043B96C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B96C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B96C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B90C0>, 'PRAGMA temp.table_info("defects")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B90C0>, 'PRAGMA temp.table_info("defects")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155043B90C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155043B90C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B90C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B90C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A740>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A740>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271891C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271891C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271891C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271891C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B440>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B440>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF38C0>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF38C0>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF38C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF38C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759A840>, 'PRAGMA main.table_info("raw_imports")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759A840>, 'PRAGMA main.table_info("raw_imports")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759A840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759A840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759A840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759A840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B9C0>, 'PRAGMA temp.table_info("raw_imports")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B9C0>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718B9C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718B9C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B9C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B9C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189840>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189840>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271887C0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271887C0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271887C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271887C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189F40>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189F40>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271896C0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271896C0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271896C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271896C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527188940>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527188940>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527188940>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527188940>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3C40>, 'PRAGMA main.table_info("staging_records")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3C40>, 'PRAGMA main.table_info("staging_records")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527BF3C40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527BF3C40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3C40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3C40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271894C0>, 'PRAGMA temp.table_info("staging_records")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271894C0>, 'PRAGMA temp.table_info("staging_records")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271894C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271894C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271894C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271894C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B240>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B240>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B5C0>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B5C0>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B5C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B5C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3DC0>, 'PRAGMA main.table_info("packing_lists")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3DC0>, 'PRAGMA main.table_info("packing_lists")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527BF3DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527BF3DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276780C0>, 'PRAGMA temp.table_info("packing_lists")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276780C0>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276780C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276780C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276780C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276780C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B2C0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B2C0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B2C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B2C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BBC0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BBC0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BBC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BBC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527679040>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527679040>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527679040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527679040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B3C0>, 'PRAGMA main.table_info("cartons")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B3C0>, 'PRAGMA main.table_info("cartons")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B3C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B3C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B3C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B3C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4B240>, 'PRAGMA temp.table_info("cartons")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4B240>, 'PRAGMA temp.table_info("cartons")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C4B240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C4B240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4B240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4B240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49140>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49140>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49DC0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49DC0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4B9C0>, 'PRAGMA main.table_info("organizations")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4B9C0>, 'PRAGMA main.table_info("organizations")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C4B9C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C4B9C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4B9C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4B9C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4BE40>, 'PRAGMA temp.table_info("organizations")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4BE40>, 'PRAGMA temp.table_info("organizations")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C4BE40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C4BE40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4BE40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4BE40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155273BE840>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155273BE840>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155273BE840>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155273BE840>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276B91C0>, 'PRAGMA main.table_info("users")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276B91C0>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276B91C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276B91C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276B91C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276B91C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A740>, 'PRAGMA temp.table_info("users")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A740>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C4A740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C4A740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276B9140>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276B9140>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276B9140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276B9140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48640>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48640>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122CC0>, 'PRAGMA main.table_info("user_scopes")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122CC0>, 'PRAGMA main.table_info("user_scopes")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527122CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527122CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49340>, 'PRAGMA temp.table_info("user_scopes")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49340>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C49340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C49340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49340>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49340>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6140>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6140>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49BC0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49BC0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49BC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49BC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6740>, 'PRAGMA main.table_info("workers")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6740>, 'PRAGMA main.table_info("workers")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C6740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C6740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48F40>, 'PRAGMA temp.table_info("workers")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48F40>, 'PRAGMA temp.table_info("workers")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C48F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C48F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C5F40>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C5F40>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C5F40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C5F40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A140>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A140>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48740>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48740>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48740>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48740>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C66C0>, 'PRAGMA main.table_info("worker_skills")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C66C0>, 'PRAGMA main.table_info("worker_skills")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C66C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C66C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C66C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C66C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C488C0>, 'PRAGMA temp.table_info("worker_skills")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C488C0>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C488C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C488C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C488C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C488C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4BDC0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4BDC0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4BDC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4BDC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49D40>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49D40>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49D40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49D40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AC40>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AC40>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AC40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AC40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48140>, 'PRAGMA main.table_info("worker_attendances")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C48140>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C48140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C48140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48140>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C48140>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49AC0>, 'PRAGMA temp.table_info("worker_attendances")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C49AC0>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C49AC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C49AC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49AC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C49AC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A6C0>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4A6C0>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A6C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4A6C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AE40>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AE40>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AE40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AE40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3440>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3440>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3440>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3440>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AFC0>, 'PRAGMA main.table_info("production_outputs")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527C4AFC0>, 'PRAGMA main.table_info("production_outputs")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C4AFC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527C4AFC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AFC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527C4AFC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2240>, 'PRAGMA temp.table_info("production_outputs")', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2240>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C2240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C2240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2240>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2240>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C29C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C29C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C29C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C29C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3640>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3640>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1CC0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1CC0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1CC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1CC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1DC0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1DC0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1DC0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1DC0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059040>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '69c79d6f-fe2f-400b-9b40-c5d98c82ee9f', '2026-01-05 05:56:26.944787', '2026-01-05 05:56:26.944790', 0, None))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059040>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '69c79d6f-fe2f-400b-9b40-c5d98c82ee9f', '2026-01-05 05:56:26.944787', '2026-01-05 05:56:26.944790', 0, None)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059040>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059040>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058E40>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('69c79d6f-fe2f-400b-9b40-c5d98c82ee9f',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058E40>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('69c79d6f-fe2f-400b-9b40-c5d98c82ee9f',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527058E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527058E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058E40>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058E40>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A8C0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('69c79d6f-fe2f-400b-9b40-c5d98c82ee9f',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A8C0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('69c79d6f-fe2f-400b-9b40-c5d98c82ee9f',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A8C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A8C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A8C0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A8C0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22640>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('69c79d6f-fe2f-400b-9b40-c5d98c82ee9f',))
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22640>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('69c79d6f-fe2f-400b-9b40-c5d98c82ee9f',)) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22640>) completed
2026-01-05 00:56:26 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22640>)
2026-01-05 00:56:26 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22640>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3CC0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('69c79d6f-fe2f-400b-9b40-c5d98c82ee9f', 'test@example.com', '$2b$12$gA9GH0kzRWZBh47Y6XxisOMUGjqLTYpCI2cUbmaaiABCZ9seh.6Du', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '95dca519-70e8-44b5-ab7a-c22ad2bc9ad5', '2026-01-05 05:56:27.174498', '2026-01-05 05:56:27.174501', 0, None))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3CC0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('69c79d6f-fe2f-400b-9b40-c5d98c82ee9f', 'test@example.com', '$2b$12$gA9GH0kzRWZBh47Y6XxisOMUGjqLTYpCI2cUbmaaiABCZ9seh.6Du', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '95dca519-70e8-44b5-ab7a-c22ad2bc9ad5', '2026-01-05 05:56:27.174498', '2026-01-05 05:56:27.174501', 0, None)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3CC0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3CC0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3AC0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('95dca519-70e8-44b5-ab7a-c22ad2bc9ad5',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3AC0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('95dca519-70e8-44b5-ab7a-c22ad2bc9ad5',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3AC0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3AC0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3AC0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3AC0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059640>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('95dca519-70e8-44b5-ab7a-c22ad2bc9ad5',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059640>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('95dca519-70e8-44b5-ab7a-c22ad2bc9ad5',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059640>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059640>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059640>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059640>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21240>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('95dca519-70e8-44b5-ab7a-c22ad2bc9ad5',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21240>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('95dca519-70e8-44b5-ab7a-c22ad2bc9ad5',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D21240>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D21240>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21240>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21240>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058F40>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('69c79d6f-fe2f-400b-9b40-c5d98c82ee9f', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '972e3ad3-1c18-4fe1-92dc-3ab3922ca749', '2026-01-05 05:56:27.183684', '2026-01-05 05:56:27.183687'))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058F40>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('69c79d6f-fe2f-400b-9b40-c5d98c82ee9f', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '972e3ad3-1c18-4fe1-92dc-3ab3922ca749', '2026-01-05 05:56:27.183684', '2026-01-05 05:56:27.183687')) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058F40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058F40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D201C0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D201C0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D201C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D201C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D201C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D201C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22540>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22540>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22540>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22540>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22540>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22540>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22FC0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22FC0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22FC0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22FC0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22FC0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22FC0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D227C0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D227C0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D227C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D227C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D227C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D227C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23940>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23940>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23940>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D23940>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23940>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23940>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270402C0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270402C0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270402C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270402C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270402C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270402C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AA40>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '879cecf1-ccbf-4f25-8ade-0a7fc8b7528d', '2026-01-05 05:56:27.196737', '2026-01-05 05:56:27.196743'))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AA40>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '879cecf1-ccbf-4f25-8ade-0a7fc8b7528d', '2026-01-05 05:56:27.196737', '2026-01-05 05:56:27.196743')) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AA40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AA40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1140>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('879cecf1-ccbf-4f25-8ade-0a7fc8b7528d',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1140>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('879cecf1-ccbf-4f25-8ade-0a7fc8b7528d',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C1140>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C1140>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1140>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1140>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D226C0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('879cecf1-ccbf-4f25-8ade-0a7fc8b7528d',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D226C0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('879cecf1-ccbf-4f25-8ade-0a7fc8b7528d',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D226C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D226C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D226C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D226C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D219C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('879cecf1-ccbf-4f25-8ade-0a7fc8b7528d',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D219C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('879cecf1-ccbf-4f25-8ade-0a7fc8b7528d',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D219C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D219C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D219C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D219C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059C40>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '9602a7e2-97de-43b9-a4e9-6ac153ac9602', '2026-01-05 05:56:27.205736', '2026-01-05 05:56:27.205738'))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059C40>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '9602a7e2-97de-43b9-a4e9-6ac153ac9602', '2026-01-05 05:56:27.205736', '2026-01-05 05:56:27.205738')) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059C40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059C40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23B40>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('9602a7e2-97de-43b9-a4e9-6ac153ac9602', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '42655cb9-1671-46d0-b4d1-21aede63ebf4', '2026-01-05 05:56:27.207134', '2026-01-05 05:56:27.207136'))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23B40>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('9602a7e2-97de-43b9-a4e9-6ac153ac9602', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '42655cb9-1671-46d0-b4d1-21aede63ebf4', '2026-01-05 05:56:27.207134', '2026-01-05 05:56:27.207136')) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23B40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23B40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20D40>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749', '42655cb9-1671-46d0-b4d1-21aede63ebf4', '879cecf1-ccbf-4f25-8ade-0a7fc8b7528d', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '1c5d1da5-4730-4af6-8fd2-e95b471d1c74', '2026-01-05 05:56:27.208423', '2026-01-05 05:56:27.208425'))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20D40>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749', '42655cb9-1671-46d0-b4d1-21aede63ebf4', '879cecf1-ccbf-4f25-8ade-0a7fc8b7528d', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '1c5d1da5-4730-4af6-8fd2-e95b471d1c74', '2026-01-05 05:56:27.208423', '2026-01-05 05:56:27.208425')) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20D40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20D40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20D40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20D40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22CC0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1c5d1da5-4730-4af6-8fd2-e95b471d1c74', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:56:27.210102', '3c0c757a-503d-4cd9-aa05-70092144f101', '2026-01-05 05:56:27.210664', '2026-01-05 05:56:27.210666'))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22CC0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1c5d1da5-4730-4af6-8fd2-e95b471d1c74', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:56:27.210102', '3c0c757a-503d-4cd9-aa05-70092144f101', '2026-01-05 05:56:27.210664', '2026-01-05 05:56:27.210666')) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22CC0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22CC0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D223C0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749', 'WK-001', 'High Performer', None, None, None, '879cecf1-ccbf-4f25-8ade-0a7fc8b7528d', None, None, None, 'USD', 1, '283de63d-d867-479c-97db-92ce77ec4cf7', '2026-01-05 05:56:27.212134', '2026-01-05 05:56:27.212137', 0, None, '972e3ad3-1c18-4fe1-92dc-3ab3922ca749', 'WK-002', 'Low Performer', None, None, None, '879cecf1-ccbf-4f25-8ade-0a7fc8b7528d', None, None, None, 'USD', 1, 'dff7b058-c36a-4180-9714-bc1686571003', '2026-01-05 05:56:27.212144', '2026-01-05 05:56:27.212145', 0, None))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D223C0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('972e3ad3-1c18-4fe1-92dc-3ab3922ca749', 'WK-001', 'High Performer', None, None, None, '879cecf1-ccbf-4f25-8ade-0a7fc8b7528d', None, None, None, 'USD', 1, '283de63d-d867-479c-97db-92ce77ec4cf7', '2026-01-05 05:56:27.212134', '2026-01-05 05:56:27.212137', 0, None, '972e3ad3-1c18-4fe1-92dc-3ab3922ca749', 'WK-002', 'Low Performer', None, None, None, '879cecf1-ccbf-4f25-8ade-0a7fc8b7528d', None, None, None, 'USD', 1, 'dff7b058-c36a-4180-9714-bc1686571003', '2026-01-05 05:56:27.212144', '2026-01-05 05:56:27.212145', 0, None)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D223C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D223C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D212C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '1c5d1da5-4730-4af6-8fd2-e95b471d1c74', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'b5ba7165-2be3-4b4d-bd54-60e55c63718a', '2026-01-05 05:56:27.215060', '2026-01-05 05:56:27.215068'))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D212C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '1c5d1da5-4730-4af6-8fd2-e95b471d1c74', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'b5ba7165-2be3-4b4d-bd54-60e55c63718a', '2026-01-05 05:56:27.215060', '2026-01-05 05:56:27.215068')) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D212C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D212C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23040>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('283de63d-d867-479c-97db-92ce77ec4cf7', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'a95c5f67-1dad-4cc1-94bc-a89f7425f972', '2026-01-05 05:56:27.217395', '2026-01-05 05:56:27.217398', 'dff7b058-c36a-4180-9714-bc1686571003', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '5316208e-51b4-4b1a-83cb-dd5be1e2045c', '2026-01-05 05:56:27.217404', '2026-01-05 05:56:27.217404'))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23040>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('283de63d-d867-479c-97db-92ce77ec4cf7', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'a95c5f67-1dad-4cc1-94bc-a89f7425f972', '2026-01-05 05:56:27.217395', '2026-01-05 05:56:27.217398', 'dff7b058-c36a-4180-9714-bc1686571003', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '5316208e-51b4-4b1a-83cb-dd5be1e2045c', '2026-01-05 05:56:27.217404', '2026-01-05 05:56:27.217404')) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23040>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23040>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20440>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('95dca519-70e8-44b5-ab7a-c22ad2bc9ad5',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20440>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('95dca519-70e8-44b5-ab7a-c22ad2bc9ad5',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20440>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D20440>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20440>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20440>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040B40>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('95dca519-70e8-44b5-ab7a-c22ad2bc9ad5',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040B40>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('95dca519-70e8-44b5-ab7a-c22ad2bc9ad5',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040B40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040B40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040B40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040B40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527042F40>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('95dca519-70e8-44b5-ab7a-c22ad2bc9ad5',))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527042F40>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('95dca519-70e8-44b5-ab7a-c22ad2bc9ad5',)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527042F40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527042F40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527042F40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527042F40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22E40>, 'SELECT traceability_records.carton_id, traceability_records.fabric_lot_id, traceability_records.cut_ticket_id, traceability_records.production_run_id, traceability_records.compliance_standard, traceability_records.chain_of_custody, traceability_records.supporting_documents, traceability_records.verification_status, traceability_records.verified_by_id, traceability_records.verified_at, traceability_records.risk_score, traceability_records.risk_notes, traceability_records.notes, traceability_records.id, traceability_records.created_at, traceability_records.updated_at \nFROM traceability_records \nWHERE traceability_records.verification_status IN (?, ?, ?) ORDER BY traceability_records.created_at DESC\n LIMIT ? OFFSET ?', ('FLAGGED', 'REJECTED', 'PENDING', 20, 0))
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22E40>, 'SELECT traceability_records.carton_id, traceability_records.fabric_lot_id, traceability_records.cut_ticket_id, traceability_records.production_run_id, traceability_records.compliance_standard, traceability_records.chain_of_custody, traceability_records.supporting_documents, traceability_records.verification_status, traceability_records.verified_by_id, traceability_records.verified_at, traceability_records.risk_score, traceability_records.risk_notes, traceability_records.notes, traceability_records.id, traceability_records.created_at, traceability_records.updated_at \nFROM traceability_records \nWHERE traceability_records.verification_status IN (?, ?, ?) ORDER BY traceability_records.created_at DESC\n LIMIT ? OFFSET ?', ('FLAGGED', 'REJECTED', 'PENDING', 20, 0)) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22E40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D22E40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22E40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22E40>) completed
2026-01-05 00:56:27 | INFO     | httpx | HTTP Request: GET http://test/api/v1/analytics/discrepancies "HTTP/1.1 200 OK"
PASSED2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4CC0>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4CC0>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4CC0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4CC0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D217C0>, "SELECT name FROM sqlite_master WHERE type='table'", ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D217C0>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D217C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527D217C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D217C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D217C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20B40>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20B40>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20B40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20B40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D233C0>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D233C0>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D233C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D233C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D206C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D206C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D206C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D206C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23CC0>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23CC0>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23CC0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23CC0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21FC0>, 'DROP TABLE IF EXISTS "traceability_records"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21FC0>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21FC0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21FC0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20640>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20640>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20640>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20640>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21DC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21DC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21DC0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21DC0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D222C0>, 'DROP TABLE IF EXISTS "dashboards"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D222C0>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D222C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D222C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20BC0>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D20BC0>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20BC0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D20BC0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23540>, 'DROP TABLE IF EXISTS "data_sources"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23540>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23540>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23540>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058CC0>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058CC0>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058CC0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058CC0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A540>, 'DROP TABLE IF EXISTS "production_events"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A540>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A540>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A540>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AE40>, 'DROP TABLE IF EXISTS "factories"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AE40>, 'DROP TABLE IF EXISTS "factories"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AE40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AE40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A9C0>, 'DROP TABLE IF EXISTS "production_lines"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A9C0>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A9C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A9C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270593C0>, 'DROP TABLE IF EXISTS "styles"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270593C0>, 'DROP TABLE IF EXISTS "styles"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270593C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270593C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043640>, 'DROP TABLE IF EXISTS "orders"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043640>, 'DROP TABLE IF EXISTS "orders"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043640>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043640>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040440>, 'DROP TABLE IF EXISTS "production_runs"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040440>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040440>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040440>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040E40>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040E40>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040E40>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040E40>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527041540>, 'DROP TABLE IF EXISTS "defects"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527041540>, 'DROP TABLE IF EXISTS "defects"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527041540>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527041540>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270414C0>, 'DROP TABLE IF EXISTS "raw_imports"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270414C0>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270414C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270414C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040DC0>, 'DROP TABLE IF EXISTS "staging_records"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040DC0>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040DC0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040DC0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043340>, 'DROP TABLE IF EXISTS "packing_lists"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043340>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043340>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043340>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270400C0>, 'DROP TABLE IF EXISTS "cartons"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270400C0>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270400C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270400C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270411C0>, 'DROP TABLE IF EXISTS "organizations"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270411C0>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270411C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270411C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270417C0>, 'DROP TABLE IF EXISTS "users"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270417C0>, 'DROP TABLE IF EXISTS "users"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270417C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270417C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270403C0>, 'DROP TABLE IF EXISTS "user_scopes"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270403C0>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270403C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270403C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270401C0>, 'DROP TABLE IF EXISTS "workers"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270401C0>, 'DROP TABLE IF EXISTS "workers"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270401C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270401C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527B351C0>, 'DROP TABLE IF EXISTS "worker_skills"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527B351C0>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527B351C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527B351C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527B358C0>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527B358C0>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527B358C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527B358C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527B359C0>, 'DROP TABLE IF EXISTS "production_outputs"', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527B359C0>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527B359C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527B359C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527B354C0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527B354C0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527B354C0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527B354C0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000015526FED8A0>)
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000015526FED8A0>) completed
2026-01-05 00:56:27 | DEBUG    | aiosqlite | executing <function Connection.stop.<locals>.close_and_stop at 0x000001552701EFC0>
2026-01-05 00:56:27 | DEBUG    | aiosqlite | operation <function Connection.stop.<locals>.close_and_stop at 0x000001552701EFC0> completed


================================== FAILURES ===================================
________________________ test_get_overview_stats_real _________________________
tests\test_api\test_analytics_real.py:127: in test_get_overview_stats_real
    response = await async_client.get(
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1768: in get
    return await self.request(
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1540: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1629: in send
    response = await self._send_handling_auth(
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1657: in _send_handling_auth
    response = await self._send_handling_redirects(
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1694: in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1730: in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_transports\asgi.py:170: in handle_async_request
    await self.app(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\applications.py:1135: in __call__
    await super().__call__(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\applications.py:107: in __call__
    await self.middleware_stack(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\errors.py:186: in __call__
    raise exc
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\errors.py:164: in __call__
    await self.app(scope, receive, _send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py:191: in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\contextlib.py:162: in __exit__
    self.gen.throw(value)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_utils.py:85: in collapse_excgroups
    raise exc
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py:193: in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\debug_toolbar\middleware.py:72: in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py:168: in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py:144: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\cors.py:85: in __call__
    await self.app(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\exceptions.py:63: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\middleware\asyncexitstack.py:18: in __call__
    await self.app(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py:716: in __call__
    await self.middleware_stack(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py:736: in app
    await route.handle(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py:290: in handle
    await self.app(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py:119: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py:105: in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py:426: in app
    raw_response = await run_endpoint_function(
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py:312: in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app\api\v1\endpoints\analytics.py:122: in get_overview_stats
    current_stats = await analytics_service.get_aggregated_stats(
app\services\analytics_service.py:145: in get_aggregated_stats
    stats = self.aggregate_production_stats(logs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app\services\analytics_service.py:68: in aggregate_production_stats
    earned = cls.calculate_earned_minutes(qty, sam)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app\services\analytics_service.py:32: in calculate_earned_minutes
    return float(produced_qty) * float(sam)
                                 ^^^^^^^^^^
E   TypeError: float() argument must be a string or a real number, not 'NoneType'
----------------------------- Captured log setup ------------------------------
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.address`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.address` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.automotive`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.automotive` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.bank`.
DEBUG    faker.factory:factory.py:88 Specified locale `en_US` is not available for provider `faker.providers.bank`. Locale reset to `en_GB` for this provider.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.barcode`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.barcode` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.color`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.color` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.company`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.company` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.credit_card`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.credit_card` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.currency`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.currency` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.date_time`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.date_time` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.doi` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.emoji` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.file` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.geo`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.geo` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.internet`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.internet` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.isbn`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.isbn` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.job`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.job` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.lorem`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.lorem` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.misc`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.misc` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.passport`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.passport` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.person`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.person` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.phone_number`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.phone_number` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.profile` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.python` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.sbn` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.ssn`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.ssn` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.user_agent` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    asyncio:proactor_events.py:631 Using proactor: IocpProactor
DEBUG    asyncio:proactor_events.py:631 Using proactor: IocpProactor
DEBUG    asyncio:proactor_events.py:631 Using proactor: IocpProactor
DEBUG    aiosqlite:core.py:62 executing <function connect.<locals>.connector at 0x000001552701ED40>
DEBUG    aiosqlite:core.py:67 operation <function connect.<locals>.connector at 0x000001552701ED40> completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000015526FED8A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000155043A8540>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000015526FED8A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000155043A8540>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000015526FED8A0>, 'floor', 1, <built-in function floor>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000015526FED8A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270406C0>, 'PRAGMA read_uncommitted', [])
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270406C0>, 'PRAGMA read_uncommitted', []) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270406C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270406C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270406C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270406C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270409C0>, 'PRAGMA foreign_keys=OFF', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270409C0>, 'PRAGMA foreign_keys=OFF', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270409C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270409C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040A40>, 'PRAGMA main.table_info("ai_decisions")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040A40>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040B40>, 'PRAGMA temp.table_info("ai_decisions")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040B40>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527042F40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527042F40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527042F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527042F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527042FC0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527042FC0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527042FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527042FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040FC0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040FC0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040740>, 'PRAGMA main.table_info("alias_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040740>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270405C0>, 'PRAGMA temp.table_info("alias_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270405C0>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270405C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270405C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270405C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270405C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043540>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043540>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043940>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043940>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270437C0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270437C0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270437C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270437C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270433C0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270433C0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270433C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270433C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270438C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270438C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270438C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270438C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058CC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058CC0>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043840>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043840>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040240>, 'PRAGMA main.table_info("efficiency_metrics")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527040240>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527040240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527040240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043340>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043340>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527043340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527043340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043740>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527043740>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527043740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270597C0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270597C0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270597C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270597C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058640>, 'PRAGMA main.table_info("dhu_reports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058640>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527058640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527058640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058E40>, 'PRAGMA temp.table_info("dhu_reports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527058E40>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527058E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527058E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527058E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059540>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059540>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059040>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059040>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A240>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A240>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059340>, 'PRAGMA main.table_info("traceability_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059340>, 'PRAGMA main.table_info("traceability_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A2C0>, 'PRAGMA temp.table_info("traceability_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A2C0>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A2C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A2C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A2C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A2C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705ACC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705ACC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705ACC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705ACC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705B040>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705B040>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705B040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705B040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705B5C0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705B5C0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705B5C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705B5C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705B940>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705B940>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705B940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705B940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A540>, 'PRAGMA main.table_info("fabric_lots")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A540>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A9C0>, 'PRAGMA temp.table_info("fabric_lots")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A9C0>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AE40>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AE40>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059C40>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059C40>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AA40>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705AA40>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705AA40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094840>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094840>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094A40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094A40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059640>, 'PRAGMA main.table_info("cut_tickets")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527059640>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527059640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527059640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A8C0>, 'PRAGMA temp.table_info("cut_tickets")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552705A8C0>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552705A8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552705A8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094440>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094440>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095140>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095140>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270954C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270954C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270954C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270954C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094140>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094140>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094340>, 'PRAGMA main.table_info("dashboards")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094340>, 'PRAGMA main.table_info("dashboards")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094040>, 'PRAGMA temp.table_info("dashboards")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094040>, 'PRAGMA temp.table_info("dashboards")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270946C0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270946C0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270946C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270946C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094F40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094F40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096240>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096240>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270955C0>, 'PRAGMA main.table_info("data_quality_issues")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270955C0>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270955C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270955C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270955C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270955C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094D40>, 'PRAGMA temp.table_info("data_quality_issues")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094D40>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527094D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095840>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095840>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094BC0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527094BC0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527094BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270973C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270973C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270973C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270973C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096BC0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096BC0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096440>, 'PRAGMA main.table_info("data_sources")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096440>, 'PRAGMA main.table_info("data_sources")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527096440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095AC0>, 'PRAGMA temp.table_info("data_sources")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095AC0>, 'PRAGMA temp.table_info("data_sources")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270969C0>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270969C0>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270969C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270969C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097B40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097B40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270953C0>, 'PRAGMA main.table_info("schema_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270953C0>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270953C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270953C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270953C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270953C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097840>, 'PRAGMA temp.table_info("schema_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097840>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270970C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270970C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270970C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270970C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097A40>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097A40>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095CC0>, 'PRAGMA main.table_info("production_events")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527095CC0>, 'PRAGMA main.table_info("production_events")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527095CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527095CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097CC0>, 'PRAGMA temp.table_info("production_events")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527097CC0>, 'PRAGMA temp.table_info("production_events")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527097CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527097CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096940>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527096940>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527096940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1440>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1440>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1CC0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1CC0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0CC0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0CC0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2040>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2040>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2440>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2440>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C17C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C17C0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C17C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C17C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0140>, 'PRAGMA main.table_info("factories")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0140>, 'PRAGMA main.table_info("factories")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C0140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C0140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2240>, 'PRAGMA temp.table_info("factories")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2240>, 'PRAGMA temp.table_info("factories")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C2240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C2240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0A40>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0A40>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1240>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1240>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2840>, 'PRAGMA main.table_info("production_lines")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C2840>, 'PRAGMA main.table_info("production_lines")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C2840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C2840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C2840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0EC0>, 'PRAGMA temp.table_info("production_lines")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C0EC0>, 'PRAGMA temp.table_info("production_lines")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C0EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C0EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C0EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3440>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3440>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3AC0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3AC0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3640>, 'PRAGMA main.table_info("styles")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3640>, 'PRAGMA main.table_info("styles")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3940>, 'PRAGMA temp.table_info("styles")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3940>, 'PRAGMA temp.table_info("styles")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C3940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1B40>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1B40>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4540>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4540>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3CC0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C3CC0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C3CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5140>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5140>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1DC0>, 'PRAGMA main.table_info("orders")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C1DC0>, 'PRAGMA main.table_info("orders")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C1DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C1DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C1DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C29C0>, 'PRAGMA temp.table_info("orders")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270C29C0>, 'PRAGMA temp.table_info("orders")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C29C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270C29C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C29C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270C29C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4240>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4240>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5440>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5440>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4CC0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4CC0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F67C0>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F67C0>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F67C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F67C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4FC0>, 'PRAGMA main.table_info("production_runs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4FC0>, 'PRAGMA main.table_info("production_runs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F4FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F61C0>, 'PRAGMA temp.table_info("production_runs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F61C0>, 'PRAGMA temp.table_info("production_runs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F61C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F61C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F61C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F61C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F6740>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F6740>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F6740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F6740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7C40>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7C40>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F62C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F62C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F62C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F62C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5BC0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F5BC0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F5BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7740>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7740>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7DC0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7DC0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4640>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F4640>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F4640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7A40>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7A40>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120940>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120940>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F65C0>, 'PRAGMA main.table_info("quality_inspections")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F65C0>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F65C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F65C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F65C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F65C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7B40>, 'PRAGMA temp.table_info("quality_inspections")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7B40>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F7B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F7B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7EC0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7EC0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271213C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271213C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271213C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271213C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7840>, 'PRAGMA main.table_info("defects")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155270F7840>, 'PRAGMA main.table_info("defects")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F7840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155270F7840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155270F7840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120140>, 'PRAGMA temp.table_info("defects")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120140>, 'PRAGMA temp.table_info("defects")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527120140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527120140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121AC0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121AC0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271220C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271220C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271220C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271220C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122AC0>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122AC0>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122E40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122E40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120D40>, 'PRAGMA main.table_info("raw_imports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527120D40>, 'PRAGMA main.table_info("raw_imports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527120D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527120D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527120D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121CC0>, 'PRAGMA temp.table_info("raw_imports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121CC0>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527121CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527121CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121440>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527121440>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527121440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271227C0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271227C0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271227C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271227C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122CC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122CC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122340>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527122340>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527122340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271232C0>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271232C0>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271232C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271232C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271201C0>, 'PRAGMA main.table_info("staging_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271201C0>, 'PRAGMA main.table_info("staging_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271201C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271201C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271201C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271201C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123CC0>, 'PRAGMA temp.table_info("staging_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123CC0>, 'PRAGMA temp.table_info("staging_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527123CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527123CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271206C0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271206C0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271206C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271206C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123340>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527123340>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527123340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271239C0>, 'PRAGMA main.table_info("packing_lists")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271239C0>, 'PRAGMA main.table_info("packing_lists")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271239C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271239C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271239C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271239C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271236C0>, 'PRAGMA temp.table_info("packing_lists")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271236C0>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271236C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271236C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271236C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271236C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154D40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154D40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271556C0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271556C0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271556C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271556C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155240>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155240>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154240>, 'PRAGMA main.table_info("cartons")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154240>, 'PRAGMA main.table_info("cartons")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155040>, 'PRAGMA temp.table_info("cartons")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155040>, 'PRAGMA temp.table_info("cartons")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271545C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271545C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271545C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271545C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155E40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155E40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154E40>, 'PRAGMA main.table_info("organizations")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154E40>, 'PRAGMA main.table_info("organizations")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271560C0>, 'PRAGMA temp.table_info("organizations")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271560C0>, 'PRAGMA temp.table_info("organizations")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271560C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271560C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271560C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271560C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156240>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156240>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155A40>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155A40>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156840>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156840>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527156840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527156840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271574C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271574C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271574C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271574C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156040>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156040>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155B40>, 'PRAGMA main.table_info("user_scopes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527155B40>, 'PRAGMA main.table_info("user_scopes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527155B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527155B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271561C0>, 'PRAGMA temp.table_info("user_scopes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271561C0>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271561C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155271561C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271561C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271561C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156440>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527156440>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527156440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271571C0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271571C0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271571C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271571C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527157CC0>, 'PRAGMA main.table_info("workers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527157CC0>, 'PRAGMA main.table_info("workers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527157CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527157CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527157CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527157CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154F40>, 'PRAGMA temp.table_info("workers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527154F40>, 'PRAGMA temp.table_info("workers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527154F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527154F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271894C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271894C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271894C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271894C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271896C0>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271896C0>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271896C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271896C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271891C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271891C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271891C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271891C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527188940>, 'PRAGMA main.table_info("worker_skills")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527188940>, 'PRAGMA main.table_info("worker_skills")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527188940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527188940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527188940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527188940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189F40>, 'PRAGMA temp.table_info("worker_skills")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189F40>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527189F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527189F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271887C0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271887C0>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271887C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271887C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A740>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A740>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AEC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AEC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A140>, 'PRAGMA main.table_info("worker_attendances")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A140>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189840>, 'PRAGMA temp.table_info("worker_attendances")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527189840>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527189840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527189840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527189840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A240>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A240>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B440>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B440>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B9C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718B9C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718B9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A6C0>, 'PRAGMA main.table_info("production_outputs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718A6C0>, 'PRAGMA main.table_info("production_outputs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718A6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718A6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AFC0>, 'PRAGMA temp.table_info("production_outputs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718AFC0>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718AFC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552718AFC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AFC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718AFC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BCC0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BCC0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BDC0>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552718BDC0>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552718BDC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC740>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BC740>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BC740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD0C0>, 'PRAGMA foreign_keys=ON', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155271BD0C0>, 'PRAGMA foreign_keys=ON', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155271BD0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B96C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '4f7222a0-d1dc-435f-a639-42d62cfafbac', '2026-01-05 05:56:24.541530', '2026-01-05 05:56:24.541535', 0, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B96C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '4f7222a0-d1dc-435f-a639-42d62cfafbac', '2026-01-05 05:56:24.541530', '2026-01-05 05:56:24.541535', 0, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B96C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B96C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274B58C0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('4f7222a0-d1dc-435f-a639-42d62cfafbac',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274B58C0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('4f7222a0-d1dc-435f-a639-42d62cfafbac',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274B58C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274B58C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274B58C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274B58C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DB940>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('4f7222a0-d1dc-435f-a639-42d62cfafbac',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DB940>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('4f7222a0-d1dc-435f-a639-42d62cfafbac',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274DB940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274DB940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DB940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DB940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F57C0>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('4f7222a0-d1dc-435f-a639-42d62cfafbac',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F57C0>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('4f7222a0-d1dc-435f-a639-42d62cfafbac',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274F57C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274F57C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F57C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F57C0>) completed
DEBUG    passlib.handlers.bcrypt:bcrypt.py:625 detected 'bcrypt' backend, version '4.0.1'
DEBUG    passlib.handlers.bcrypt:bcrypt.py:406 'bcrypt' backend lacks $2$ support, enabling workaround
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274D99C0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4f7222a0-d1dc-435f-a639-42d62cfafbac', 'test@example.com', '$2b$12$jE/uCYLkbvMxuMDK0QsK8OAMM1pW.pJp70/Lli4DdIZOeTzfv6r0y', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'aadbeb4f-c29a-4959-aa52-782005548e7d', '2026-01-05 05:56:24.801267', '2026-01-05 05:56:24.801273', 0, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274D99C0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4f7222a0-d1dc-435f-a639-42d62cfafbac', 'test@example.com', '$2b$12$jE/uCYLkbvMxuMDK0QsK8OAMM1pW.pJp70/Lli4DdIZOeTzfv6r0y', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'aadbeb4f-c29a-4959-aa52-782005548e7d', '2026-01-05 05:56:24.801267', '2026-01-05 05:56:24.801273', 0, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274D99C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274D99C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DA940>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('aadbeb4f-c29a-4959-aa52-782005548e7d',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274DA940>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('aadbeb4f-c29a-4959-aa52-782005548e7d',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274DA940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274DA940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DA940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274DA940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F5EC0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('aadbeb4f-c29a-4959-aa52-782005548e7d',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155274F5EC0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('aadbeb4f-c29a-4959-aa52-782005548e7d',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274F5EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155274F5EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F5EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155274F5EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275298C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('aadbeb4f-c29a-4959-aa52-782005548e7d',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275298C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('aadbeb4f-c29a-4959-aa52-782005548e7d',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275298C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275298C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275298C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275298C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756CEC0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4f7222a0-d1dc-435f-a639-42d62cfafbac', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '4d765857-f2ea-43aa-b763-e117f1bc387f', '2026-01-05 05:56:24.831519', '2026-01-05 05:56:24.831522'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756CEC0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4f7222a0-d1dc-435f-a639-42d62cfafbac', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '4d765857-f2ea-43aa-b763-e117f1bc387f', '2026-01-05 05:56:24.831519', '2026-01-05 05:56:24.831522')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756CEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756CEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756D5C0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('4d765857-f2ea-43aa-b763-e117f1bc387f',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756D5C0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('4d765857-f2ea-43aa-b763-e117f1bc387f',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756D5C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756D5C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756D5C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756D5C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756DC40>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756DC40>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756DC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756DC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756DC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756DC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756F440>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756F440>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756F440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552756F440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756F440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756F440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759A840>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759A840>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759A840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759A840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759A840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759A840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C45C0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C45C0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C45C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C45C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C45C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C45C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6740>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6740>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('4d765857-f2ea-43aa-b763-e117f1bc387f',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C6740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C6740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552752ABC0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '6de60d80-de06-4d20-9edc-7ed20a1fe891', '2026-01-05 05:56:24.867135', '2026-01-05 05:56:24.867139'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552752ABC0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '6de60d80-de06-4d20-9edc-7ed20a1fe891', '2026-01-05 05:56:24.867135', '2026-01-05 05:56:24.867139')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552752ABC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552752ABC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759B240>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('6de60d80-de06-4d20-9edc-7ed20a1fe891',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552759B240>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('6de60d80-de06-4d20-9edc-7ed20a1fe891',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759B240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552759B240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759B240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552759B240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C5F40>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('6de60d80-de06-4d20-9edc-7ed20a1fe891',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C5F40>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('6de60d80-de06-4d20-9edc-7ed20a1fe891',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C5F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275C5F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C5F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C5F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F3B40>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('6de60d80-de06-4d20-9edc-7ed20a1fe891',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275F3B40>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('6de60d80-de06-4d20-9edc-7ed20a1fe891',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275F3B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155275F3B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F3B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275F3B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756E440>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '41d1bfb3-672d-4b90-bfe4-bcf2b09eb3e4', '2026-01-05 05:56:24.890185', '2026-01-05 05:56:24.890188'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552756E440>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '41d1bfb3-672d-4b90-bfe4-bcf2b09eb3e4', '2026-01-05 05:56:24.890185', '2026-01-05 05:56:24.890188')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756E440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552756E440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6140>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('41d1bfb3-672d-4b90-bfe4-bcf2b09eb3e4', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'fa55ec7e-f4c8-4548-baf9-960e8ed8c17f', '2026-01-05 05:56:24.893696', '2026-01-05 05:56:24.893698'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155275C6140>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('41d1bfb3-672d-4b90-bfe4-bcf2b09eb3e4', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'fa55ec7e-f4c8-4548-baf9-960e8ed8c17f', '2026-01-05 05:56:24.893696', '2026-01-05 05:56:24.893698')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155275C6140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527598E40>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'fa55ec7e-f4c8-4548-baf9-960e8ed8c17f', '6de60d80-de06-4d20-9edc-7ed20a1fe891', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '42897cef-0e03-4ed5-8ecd-f81e8378259d', '2026-01-05 05:56:24.896304', '2026-01-05 05:56:24.896306'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527598E40>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'fa55ec7e-f4c8-4548-baf9-960e8ed8c17f', '6de60d80-de06-4d20-9edc-7ed20a1fe891', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '42897cef-0e03-4ed5-8ecd-f81e8378259d', '2026-01-05 05:56:24.896304', '2026-01-05 05:56:24.896306')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527598E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527598E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527598E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527598E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527625F40>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:56:24.897929', '2c4684ff-fba7-4e33-af25-a736c64e8c2b', '2026-01-05 05:56:24.899107', '2026-01-05 05:56:24.899110'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527625F40>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:56:24.897929', '2c4684ff-fba7-4e33-af25-a736c64e8c2b', '2026-01-05 05:56:24.899107', '2026-01-05 05:56:24.899110')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527625F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527625F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527626AC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'WK-001', 'High Performer', None, None, None, '6de60d80-de06-4d20-9edc-7ed20a1fe891', None, None, None, 'USD', 1, 'b9119291-a163-42fd-af51-742cb311f11a', '2026-01-05 05:56:24.901312', '2026-01-05 05:56:24.901316', 0, None, '4d765857-f2ea-43aa-b763-e117f1bc387f', 'WK-002', 'Low Performer', None, None, None, '6de60d80-de06-4d20-9edc-7ed20a1fe891', None, None, None, 'USD', 1, 'e750d585-7c83-44a6-9ea5-e6fa6d887050', '2026-01-05 05:56:24.901323', '2026-01-05 05:56:24.901324', 0, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527626AC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4d765857-f2ea-43aa-b763-e117f1bc387f', 'WK-001', 'High Performer', None, None, None, '6de60d80-de06-4d20-9edc-7ed20a1fe891', None, None, None, 'USD', 1, 'b9119291-a163-42fd-af51-742cb311f11a', '2026-01-05 05:56:24.901312', '2026-01-05 05:56:24.901316', 0, None, '4d765857-f2ea-43aa-b763-e117f1bc387f', 'WK-002', 'Low Performer', None, None, None, '6de60d80-de06-4d20-9edc-7ed20a1fe891', None, None, None, 'USD', 1, 'e750d585-7c83-44a6-9ea5-e6fa6d887050', '2026-01-05 05:56:24.901323', '2026-01-05 05:56:24.901324', 0, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527626AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527626AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276267C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '42897cef-0e03-4ed5-8ecd-f81e8378259d', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'a8e1c159-17ca-452c-ae5e-b61789cbfd2e', '2026-01-05 05:56:24.905433', '2026-01-05 05:56:24.905446'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276267C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '42897cef-0e03-4ed5-8ecd-f81e8378259d', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'a8e1c159-17ca-452c-ae5e-b61789cbfd2e', '2026-01-05 05:56:24.905433', '2026-01-05 05:56:24.905446')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276267C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276267C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276780C0>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('b9119291-a163-42fd-af51-742cb311f11a', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'a451f8b9-fc39-46eb-8985-7ca2b536c84b', '2026-01-05 05:56:24.911463', '2026-01-05 05:56:24.911470', 'e750d585-7c83-44a6-9ea5-e6fa6d887050', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '14f0760e-067c-4991-9b2b-80bc7ca68f57', '2026-01-05 05:56:24.911476', '2026-01-05 05:56:24.911477'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276780C0>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('b9119291-a163-42fd-af51-742cb311f11a', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'a451f8b9-fc39-46eb-8985-7ca2b536c84b', '2026-01-05 05:56:24.911463', '2026-01-05 05:56:24.911470', 'e750d585-7c83-44a6-9ea5-e6fa6d887050', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '14f0760e-067c-4991-9b2b-80bc7ca68f57', '2026-01-05 05:56:24.911476', '2026-01-05 05:56:24.911477')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276780C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276780C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
------------------------------ Captured log call ------------------------------
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155273BE840>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \\nFROM users \\nWHERE users.id = ? AND users.is_active = 1', ('aadbeb4f-c29a-4959-aa52-782005548e7d',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155273BE840>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \\nFROM users \\nWHERE users.id = ? AND users.is_active = 1', ('aadbeb4f-c29a-4959-aa52-782005548e7d',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155273BE840>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155273BE840>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155273BE840>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155273BE840>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B2C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \\nFROM dashboards \\nWHERE dashboards.user_id IN (?)', ('aadbeb4f-c29a-4959-aa52-782005548e7d',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B2C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \\nFROM dashboards \\nWHERE dashboards.user_id IN (?)', ('aadbeb4f-c29a-4959-aa52-782005548e7d',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B2C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B2C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B2C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B2C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BBC0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \\nFROM user_scopes \\nWHERE user_scopes.user_id IN (?)', ('aadbeb4f-c29a-4959-aa52-782005548e7d',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BBC0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \\nFROM user_scopes \\nWHERE user_scopes.user_id IN (?)', ('aadbeb4f-c29a-4959-aa52-782005548e7d',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767BBC0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767BBC0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BBC0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BBC0>) completed\nINFO     app.api.v1.endpoints.analytics:analytics.py:71 [DIAG] get_overview_stats called with line_id=None\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276B91C0>, 'SELECT count(production_events.id) AS count_1 \\nFROM production_events \\nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000'))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276B91C0>, 'SELECT count(production_events.id) AS count_1 \\nFROM production_events \\nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000')) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276B91C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276B91C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276B91C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276B91C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276B9140>, 'SELECT count(production_runs.id) AS count_1 \\nFROM production_runs \\nWHERE date(production_runs.production_date) = ?', ('2026-01-05',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155276B9140>, 'SELECT count(production_runs.id) AS count_1 \\nFROM production_runs \\nWHERE date(production_runs.production_date) = ?', ('2026-01-05',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276B9140>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155276B9140>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276B9140>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155276B9140>) completed\nINFO     app.api.v1.endpoints.analytics:analytics.py:103 [DIAG] Resolved effective_date=2026-01-05 (tz=UTC)\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B5C0>, 'SELECT count(production_runs.id) AS count_1 \\nFROM production_runs \\nWHERE production_runs.production_date = ?', ('2026-01-05',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B5C0>, 'SELECT count(production_runs.id) AS count_1 \\nFROM production_runs \\nWHERE production_runs.production_date = ?', ('2026-01-05',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B5C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B5C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B5C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B5C0>) completed\nINFO     app.api.v1.endpoints.analytics:analytics.py:115 [DIAG] Found 0 ProductionRuns for effective_date=2026-01-05, line_id=None\nWARNING  app.api.v1.endpoints.analytics:analytics.py:118 [DIAG] \u26a0\ufe0f NO PRODUCTION RUNS FOUND for date=2026-01-05, line_id=None. Dashboard widgets may show empty/mock data.\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BC40>, 'SELECT production_runs.factory_id, production_runs.order_id, production_runs.line_id, production_runs.cut_ticket_id, production_runs.source_import_id, production_runs.production_date, production_runs.inspection_date, production_runs.shift, production_runs.planned_qty, production_runs.actual_qty, production_runs.wip_start, production_runs.wip_end, production_runs.lot_number, production_runs.shade_band, production_runs.batch_number, production_runs.downtime_minutes, production_runs.downtime_reason, production_runs.sam, production_runs.operators_present, production_runs.helpers_present, production_runs.worked_minutes, production_runs.earned_minutes, production_runs.efficiency, production_runs.notes, production_runs.id, production_runs.created_at, production_runs.updated_at \\nFROM production_runs \\nWHERE date(production_runs.production_date) >= ? AND date(production_runs.production_date) <= ?', ('2026-01-05', '2026-01-05'))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767BC40>, 'SELECT production_runs.factory_id, production_runs.order_id, production_runs.line_id, production_runs.cut_ticket_id, production_runs.source_import_id, production_runs.production_date, production_runs.inspection_date, production_runs.shift, production_runs.planned_qty, production_runs.actual_qty, production_runs.wip_start, production_runs.wip_end, production_runs.lot_number, production_runs.shade_band, production_runs.batch_number, production_runs.downtime_minutes, production_runs.downtime_reason, production_runs.sam, production_runs.operators_present, production_runs.helpers_present, production_runs.worked_minutes, production_runs.earned_minutes, production_runs.efficiency, production_runs.notes, production_runs.id, production_runs.created_at, production_runs.updated_at \\nFROM production_runs \\nWHERE date(production_runs.production_date) >= ? AND date(production_runs.production_date) <= ?', ('2026-01-05', '2026-01-05')) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767BC40>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767BC40>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BC40>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767BC40>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B3C0>, 'SELECT quality_inspections.production_run_id AS quality_inspections_production_run_id, quality_inspections.inspector_id AS quality_inspections_inspector_id, quality_inspections.inspection_type AS quality_inspections_inspection_type, quality_inspections.units_checked AS quality_inspections_units_checked, quality_inspections.defects_found AS quality_inspections_defects_found, quality_inspections.units_rejected AS quality_inspections_units_rejected, quality_inspections.units_reworked AS quality_inspections_units_reworked, quality_inspections.dhu AS quality_inspections_dhu, quality_inspections.defect_rate_pct AS quality_inspections_defect_rate_pct, quality_inspections.aql_level AS quality_inspections_aql_level, quality_inspections.aql_result AS quality_inspections_aql_result, quality_inspections.inspected_at AS quality_inspections_inspected_at, quality_inspections.notes AS quality_inspections_notes, quality_inspections.id AS quality_inspections_id, quality_inspections.created_at AS quality_inspections_created_at, quality_inspections.updated_at AS quality_inspections_updated_at \\nFROM quality_inspections \\nWHERE quality_inspections.production_run_id IN (?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552767B3C0>, 'SELECT quality_inspections.production_run_id AS quality_inspections_production_run_id, quality_inspections.inspector_id AS quality_inspections_inspector_id, quality_inspections.inspection_type AS quality_inspections_inspection_type, quality_inspections.units_checked AS quality_inspections_units_checked, quality_inspections.defects_found AS quality_inspections_defects_found, quality_inspections.units_rejected AS quality_inspections_units_rejected, quality_inspections.units_reworked AS quality_inspections_units_reworked, quality_inspections.dhu AS quality_inspections_dhu, quality_inspections.defect_rate_pct AS quality_inspections_defect_rate_pct, quality_inspections.aql_level AS quality_inspections_aql_level, quality_inspections.aql_result AS quality_inspections_aql_result, quality_inspections.inspected_at AS quality_inspections_inspected_at, quality_inspections.notes AS quality_inspections_notes, quality_inspections.id AS quality_inspections_id, quality_inspections.created_at AS quality_inspections_created_at, quality_inspections.updated_at AS quality_inspections_updated_at \\nFROM quality_inspections \\nWHERE quality_inspections.production_run_id IN (?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B3C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552767B3C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B3C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552767B3C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277FF940>, 'SELECT production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.worker_id AS production_outputs_worker_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \\nFROM production_outputs \\nWHERE production_outputs.production_run_id IN (?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155277FF940>, 'SELECT production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.worker_id AS production_outputs_worker_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \\nFROM production_outputs \\nWHERE production_outputs.production_run_id IN (?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155277FF940>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000155277FF940>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277FF940>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155277FF940>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552781AE40>, 'SELECT production_events.production_run_id AS production_events_production_run_id, production_events.timestamp AS production_events_timestamp, production_events.event_type AS production_events_event_type, production_events.quantity AS production_events_quantity, production_events.line_id AS production_events_line_id, production_events.order_id AS production_events_order_id, production_events.style_id AS production_events_style_id, production_events.source_import_id AS production_events_source_import_id, production_events.raw_data AS production_events_raw_data, production_events.id AS production_events_id, production_events.created_at AS production_events_created_at, production_events.updated_at AS production_events_updated_at \\nFROM production_events \\nWHERE production_events.production_run_id IN (?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001552781AE40>, 'SELECT production_events.production_run_id AS production_events_production_run_id, production_events.timestamp AS production_events_timestamp, production_events.event_type AS production_events_event_type, production_events.quantity AS production_events_quantity, production_events.line_id AS production_events_line_id, production_events.order_id AS production_events_order_id, production_events.style_id AS production_events_style_id, production_events.source_import_id AS production_events_source_import_id, production_events.raw_data AS production_events_raw_data, production_events.id AS production_events_id, production_events.created_at AS production_events_created_at, production_events.updated_at AS production_events_updated_at \\nFROM production_events \\nWHERE production_events.production_run_id IN (?)', ('42897cef-0e03-4ed5-8ecd-f81e8378259d',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552781AE40>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001552781AE40>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552781AE40>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001552781AE40>) completed\nERROR    app.main:main.py:91 Unhandled exception: float() argument must be a string or a real number, not 'NoneType'\nTraceback (most recent call last):\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Python313\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\debug_toolbar\\middleware.py", line 72, in dispatch\n    return await call_next(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py", line 119, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py", line 105, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py", line 426, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py", line 312, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\19803\\business\\FactoryExcelManager\\backend\\app\\api\\v1\\endpoints\\analytics.py", line 122, in get_overview_stats\n    current_stats = await analytics_service.get_aggregated_stats(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\19803\\business\\FactoryExcelManager\\backend\\app\\services\\analytics_service.py", line 145, in get_aggregated_stats\n    stats = self.aggregate_production_stats(logs)\n  File "C:\\Users\\19803\\business\\FactoryExcelManager\\backend\\app\\services\\analytics_service.py", line 68, in aggregate_production_stats\n    earned = cls.calculate_earned_minutes(qty, sam)\n  File "C:\\Users\\19803\\business\\FactoryExcelManager\\backend\\app\\services\\analytics_service.py", line 32, in calculate_earned_minutes\n    return float(produced_qty) * float(sam)\n                                 ~~~~~^^^^^\nTypeError: float() argument must be a string or a real number, not 'NoneType'
---------------------------- Captured log teardown ----------------------------
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B90C0>, 'PRAGMA foreign_keys=OFF', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000155043B90C0>, 'PRAGMA foreign_keys=OFF', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B90C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000155043B90C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527528340>, "SELECT name FROM sqlite_master WHERE type='table'", ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527528340>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527528340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000015527528340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527528340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527528340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3DC0>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527BF3DC0>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527BF3DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23B40>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23B40>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D235C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D235C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D235C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D235C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23940>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23940>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23BC0>, 'DROP TABLE IF EXISTS "traceability_records"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23BC0>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23DC0>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23DC0>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23EC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D23EC0>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D23EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D238C0>, 'DROP TABLE IF EXISTS "dashboards"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D238C0>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D238C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D238C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21240>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21240>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D212C0>, 'DROP TABLE IF EXISTS "data_sources"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D212C0>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D212C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D212C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21340>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21340>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D215C0>, 'DROP TABLE IF EXISTS "production_events"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D215C0>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D215C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D215C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D214C0>, 'DROP TABLE IF EXISTS "factories"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D214C0>, 'DROP TABLE IF EXISTS "factories"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D214C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D214C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D218C0>, 'DROP TABLE IF EXISTS "production_lines"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D218C0>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D218C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D218C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D217C0>, 'DROP TABLE IF EXISTS "styles"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D217C0>, 'DROP TABLE IF EXISTS "styles"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D217C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D217C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21640>, 'DROP TABLE IF EXISTS "orders"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21640>, 'DROP TABLE IF EXISTS "orders"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D219C0>, 'DROP TABLE IF EXISTS "production_runs"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D219C0>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D219C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D219C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21DC0>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21DC0>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21E40>, 'DROP TABLE IF EXISTS "defects"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21E40>, 'DROP TABLE IF EXISTS "defects"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21F40>, 'DROP TABLE IF EXISTS "raw_imports"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21F40>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21EC0>, 'DROP TABLE IF EXISTS "staging_records"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21EC0>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21C40>, 'DROP TABLE IF EXISTS "packing_lists"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21C40>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21FC0>, 'DROP TABLE IF EXISTS "cartons"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D21FC0>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D21FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22340>, 'DROP TABLE IF EXISTS "organizations"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22340>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D222C0>, 'DROP TABLE IF EXISTS "users"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D222C0>, 'DROP TABLE IF EXISTS "users"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D222C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D222C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D225C0>, 'DROP TABLE IF EXISTS "user_scopes"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D225C0>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D225C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D225C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D224C0>, 'DROP TABLE IF EXISTS "workers"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D224C0>, 'DROP TABLE IF EXISTS "workers"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D224C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D224C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22640>, 'DROP TABLE IF EXISTS "worker_skills"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22640>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D227C0>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D227C0>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D227C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D227C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22840>, 'DROP TABLE IF EXISTS "production_outputs"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22840>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22940>, 'PRAGMA foreign_keys=ON', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000015527D22940>, 'PRAGMA foreign_keys=ON', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000015527D22940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000015526FED8A0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000015526FED8A0>) completed
=========================== short test summary info ===========================
FAILED tests/test_api/test_analytics_real.py::test_get_overview_stats_real - TypeError: float() argument must be a string or a real number, not 'NoneType'
========================= 1 failed, 3 passed in 4.77s =========================
