2026-01-05 00:54:17 | DEBUG    | passlib.utils.compat | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2026-01-05 00:54:17 | DEBUG    | passlib.utils.compat | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2026-01-05 00:54:17 | DEBUG    | passlib.utils.compat | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2026-01-05 00:54:17 | DEBUG    | passlib.registry | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
============================= test session starts =============================
platform win32 -- Python 3.13.5, pytest-9.0.2, pluggy-1.6.0 -- C:\Python313\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\19803\business\FactoryExcelManager\backend
configfile: pytest.ini
plugins: anyio-4.12.0, Faker-40.1.0, langsmith-0.5.1, asyncio-1.3.0, cov-7.0.0, mock-3.15.1
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 4 items

tests/test_api/test_analytics_real.py::test_get_overview_stats_real 2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.address`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.address` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.automotive`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.automotive` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.bank`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Specified locale `en_US` is not available for provider `faker.providers.bank`. Locale reset to `en_GB` for this provider.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.barcode`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.barcode` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.color`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.color` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.company`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.company` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.credit_card`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.credit_card` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.currency`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.currency` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.date_time`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.date_time` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.doi` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.emoji` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.file` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.geo`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.geo` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.internet`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.internet` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.isbn`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.isbn` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.job`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.job` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.lorem`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.lorem` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.misc`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.misc` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.passport`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.passport` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.person`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.person` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.phone_number`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.phone_number` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.profile` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.python` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.sbn` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Looking for locale `en_US` in provider `faker.providers.ssn`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.ssn` has been localized to `en_US`.
2026-01-05 00:54:18 | DEBUG    | faker.factory | Provider `faker.providers.user_agent` does not feature localization. Specified locale `en_US` is not used for this provider.
2026-01-05 00:54:18 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:54:18 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:54:20 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing <function connect.<locals>.connector at 0x0000022ED3A52D40>
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation <function connect.<locals>.connector at 0x0000022ED3A52D40> completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000022ED3A3D6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000022EB0CA0540>, deterministic=True)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000022ED3A3D6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000022EB0CA0540>, deterministic=True) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000022ED3A3D6C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000022ED3A3D6C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46BC0>, 'PRAGMA read_uncommitted', [])
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46BC0>, 'PRAGMA read_uncommitted', []) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46BC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46BC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46BC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46BC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46EC0>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46EC0>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46EC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46EC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46FC0>, 'PRAGMA main.table_info("ai_decisions")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46FC0>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46FC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46FC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46FC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46FC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A47040>, 'PRAGMA temp.table_info("ai_decisions")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A47040>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A47040>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A47040>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A47040>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A47040>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D4C0>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D4C0>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D4C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D4C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D840>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D840>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D840>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D840>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A474C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A474C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A474C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A474C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46C40>, 'PRAGMA main.table_info("alias_mappings")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46C40>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46C40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46C40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46C40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46C40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46A40>, 'PRAGMA temp.table_info("alias_mappings")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46A40>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46A40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46A40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46A40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46A40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DAC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DAC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DAC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DAC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DEC0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DEC0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DEC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DEC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7E340>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7E340>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7E340>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7E340>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F040>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F040>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F040>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F040>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F1C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F1C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F1C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F1C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F340>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F340>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F340>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F340>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F540>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F540>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F540>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F540>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46840>, 'PRAGMA main.table_info("efficiency_metrics")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46840>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46840>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46840>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46840>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46840>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D8C0>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D8C0>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7D8C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7D8C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D8C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D8C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DD40>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DD40>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DD40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DD40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7FCC0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7FCC0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7FCC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7FCC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DDC0>, 'PRAGMA main.table_info("dhu_reports")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DDC0>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7DDC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7DDC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DDC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DDC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D940>, 'PRAGMA temp.table_info("dhu_reports")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D940>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7D940>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7D940>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D940>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D940>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7FA40>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7FA40>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7FA40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7FA40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7E940>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7E940>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7E940>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7E940>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D040>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D040>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D040>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D040>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F7C0>, 'PRAGMA main.table_info("traceability_records")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F7C0>, 'PRAGMA main.table_info("traceability_records")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7F7C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7F7C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F7C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F7C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DE40>, 'PRAGMA temp.table_info("traceability_records")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DE40>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7DE40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7DE40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DE40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DE40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D1C0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D1C0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D1C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D1C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D5C0>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D5C0>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D5C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D5C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CFC0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CFC0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CFC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CFC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DB40>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DB40>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DB40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DB40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C540>, 'PRAGMA main.table_info("fabric_lots")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C540>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9C540>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9C540>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C540>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C540>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D3C0>, 'PRAGMA temp.table_info("fabric_lots")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D3C0>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9D3C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9D3C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D3C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D3C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DEC0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DEC0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DEC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DEC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CF40>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CF40>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CF40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CF40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EBC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EBC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EBC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EBC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9ED40>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9ED40>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9ED40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9ED40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EF40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EF40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EF40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EF40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C0C0>, 'PRAGMA main.table_info("cut_tickets")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C0C0>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9C0C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9C0C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C0C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C0C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DF40>, 'PRAGMA temp.table_info("cut_tickets")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DF40>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9DF40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9DF40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DF40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DF40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E940>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E940>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E940>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E940>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F2C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F2C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F2C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F2C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F9C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F9C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F9C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F9C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E640>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E640>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E640>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E640>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CE40>, 'PRAGMA main.table_info("dashboards")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CE40>, 'PRAGMA main.table_info("dashboards")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9CE40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9CE40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CE40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CE40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E5C0>, 'PRAGMA temp.table_info("dashboards")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E5C0>, 'PRAGMA temp.table_info("dashboards")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E5C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E5C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E5C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E5C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F8C0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F8C0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F8C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F8C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FD40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FD40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FD40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FD40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4840>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4840>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4840>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4840>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FAC0>, 'PRAGMA main.table_info("data_quality_issues")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FAC0>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FAC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FAC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FAC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FAC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E840>, 'PRAGMA temp.table_info("data_quality_issues")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E840>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E840>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E840>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E840>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E840>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F240>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F240>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F240>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F240>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4F40>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4F40>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4F40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4F40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD47C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD47C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD47C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD47C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5AC0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5AC0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5AC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5AC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F140>, 'PRAGMA main.table_info("data_sources")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F140>, 'PRAGMA main.table_info("data_sources")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9F140>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9F140>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F140>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F140>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4040>, 'PRAGMA temp.table_info("data_sources")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4040>, 'PRAGMA temp.table_info("data_sources")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD4040>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD4040>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4040>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4040>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4640>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4640>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4640>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4640>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD6140>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD6140>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD6140>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD6140>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5440>, 'PRAGMA main.table_info("schema_mappings")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5440>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD5440>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD5440>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5440>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5440>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4EC0>, 'PRAGMA temp.table_info("schema_mappings")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4EC0>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD4EC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD4EC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4EC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4EC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD66C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD66C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD66C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD66C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD6CC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD6CC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD6CC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD6CC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5640>, 'PRAGMA main.table_info("production_events")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5640>, 'PRAGMA main.table_info("production_events")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD5640>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD5640>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5640>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5640>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD62C0>, 'PRAGMA temp.table_info("production_events")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD62C0>, 'PRAGMA temp.table_info("production_events")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD62C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD62C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD62C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD62C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD73C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD73C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD73C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD73C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5E40>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5E40>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5E40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5E40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD71C0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD71C0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD71C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD71C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7CC0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7CC0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7CC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7CC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7840>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7840>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7840>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7840>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5DC0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5DC0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5DC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5DC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7AC0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7AC0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7AC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7AC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7940>, 'PRAGMA main.table_info("factories")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7940>, 'PRAGMA main.table_info("factories")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD7940>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD7940>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7940>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7940>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD68C0>, 'PRAGMA temp.table_info("factories")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD68C0>, 'PRAGMA temp.table_info("factories")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD68C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD68C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD68C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD68C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7740>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7740>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7740>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7740>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10340>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10340>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10340>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10340>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10740>, 'PRAGMA main.table_info("production_lines")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10740>, 'PRAGMA main.table_info("production_lines")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10740>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10740>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10740>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10740>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10240>, 'PRAGMA temp.table_info("production_lines")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10240>, 'PRAGMA temp.table_info("production_lines")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10240>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10240>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10240>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10240>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10B40>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10B40>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10B40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10B40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B120C0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B120C0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B120C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B120C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10E40>, 'PRAGMA main.table_info("styles")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10E40>, 'PRAGMA main.table_info("styles")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10E40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10E40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10E40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10E40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11F40>, 'PRAGMA temp.table_info("styles")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11F40>, 'PRAGMA temp.table_info("styles")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B11F40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B11F40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11F40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11F40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B127C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B127C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B127C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B127C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11A40>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11A40>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11A40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11A40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B13540>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B13540>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B13540>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B13540>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B12DC0>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B12DC0>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B12DC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B12DC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10FC0>, 'PRAGMA main.table_info("orders")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10FC0>, 'PRAGMA main.table_info("orders")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10FC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10FC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10FC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10FC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B12A40>, 'PRAGMA temp.table_info("orders")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B12A40>, 'PRAGMA temp.table_info("orders")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B12A40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B12A40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B12A40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B12A40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B131C0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B131C0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B131C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B131C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B134C0>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B134C0>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B134C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B134C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11EC0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11EC0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11EC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11EC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CCC0>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CCC0>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CCC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CCC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B122C0>, 'PRAGMA main.table_info("production_runs")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B122C0>, 'PRAGMA main.table_info("production_runs")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B122C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B122C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B122C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B122C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B12AC0>, 'PRAGMA temp.table_info("production_runs")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B12AC0>, 'PRAGMA temp.table_info("production_runs")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B12AC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B12AC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B12AC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B12AC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C6C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C6C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E1C0>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E1C0>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E1C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E1C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E0C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E0C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E0C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E0C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E640>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E640>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E640>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E640>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CAC0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CAC0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CAC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CAC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E840>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E840>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E840>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E840>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3EC40>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3EC40>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3EC40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3EC40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DCC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DCC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DCC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DCC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3EF40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3EF40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3EF40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3EF40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CB40>, 'PRAGMA main.table_info("quality_inspections")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CB40>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3CB40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3CB40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CB40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CB40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C7C0>, 'PRAGMA temp.table_info("quality_inspections")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C7C0>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3C7C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3C7C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C7C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C7C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F1C0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F1C0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F1C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F1C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F8C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F8C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F8C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F8C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DFC0>, 'PRAGMA main.table_info("defects")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DFC0>, 'PRAGMA main.table_info("defects")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3DFC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3DFC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DFC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DFC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E440>, 'PRAGMA temp.table_info("defects")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E440>, 'PRAGMA temp.table_info("defects")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3E440>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3E440>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E440>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E440>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3EA40>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3EA40>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3EA40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3EA40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E9C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E9C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E9C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E9C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70940>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70940>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70940>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70940>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B713C0>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B713C0>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B713C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B713C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DDC0>, 'PRAGMA main.table_info("raw_imports")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DDC0>, 'PRAGMA main.table_info("raw_imports")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3DDC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3DDC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DDC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DDC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F940>, 'PRAGMA temp.table_info("raw_imports")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F940>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3F940>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3F940>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F940>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F940>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70DC0>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70DC0>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70DC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70DC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B704C0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B704C0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B704C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B704C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71BC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71BC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71BC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71BC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B723C0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B723C0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B723C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B723C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72540>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72540>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72540>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72540>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70240>, 'PRAGMA main.table_info("staging_records")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70240>, 'PRAGMA main.table_info("staging_records")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70240>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70240>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70240>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70240>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B706C0>, 'PRAGMA temp.table_info("staging_records")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B706C0>, 'PRAGMA temp.table_info("staging_records")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B706C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B706C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B706C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B706C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B717C0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B717C0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B717C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B717C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72940>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72940>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72940>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72940>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70140>, 'PRAGMA main.table_info("packing_lists")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70140>, 'PRAGMA main.table_info("packing_lists")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70140>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70140>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70140>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70140>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72B40>, 'PRAGMA temp.table_info("packing_lists")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72B40>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72B40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72B40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72B40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72B40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71EC0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71EC0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71EC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71EC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73C40>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73C40>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73C40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73C40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B737C0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B737C0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B737C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B737C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B720C0>, 'PRAGMA main.table_info("cartons")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B720C0>, 'PRAGMA main.table_info("cartons")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B720C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B720C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B720C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B720C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B733C0>, 'PRAGMA temp.table_info("cartons")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B733C0>, 'PRAGMA temp.table_info("cartons")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B733C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B733C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B733C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B733C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B735C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B735C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B735C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B735C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B721C0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B721C0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B721C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B721C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B734C0>, 'PRAGMA main.table_info("organizations")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B734C0>, 'PRAGMA main.table_info("organizations")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B734C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B734C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B734C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B734C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73740>, 'PRAGMA temp.table_info("organizations")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73740>, 'PRAGMA temp.table_info("organizations")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B73740>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B73740>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73740>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73740>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0540>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0540>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0540>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0540>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0140>, 'PRAGMA main.table_info("users")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0140>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0140>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0140>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0140>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0140>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0D40>, 'PRAGMA temp.table_info("users")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0D40>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0D40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0D40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0D40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0D40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1A40>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1A40>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1A40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1A40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0940>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0940>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0940>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0940>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA05C0>, 'PRAGMA main.table_info("user_scopes")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA05C0>, 'PRAGMA main.table_info("user_scopes")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA05C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA05C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA05C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA05C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0740>, 'PRAGMA temp.table_info("user_scopes")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0740>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0740>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0740>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0740>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0740>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2AC0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2AC0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2AC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2AC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2F40>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2F40>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2F40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2F40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA09C0>, 'PRAGMA main.table_info("workers")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA09C0>, 'PRAGMA main.table_info("workers")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA09C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA09C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA09C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA09C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2BC0>, 'PRAGMA temp.table_info("workers")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2BC0>, 'PRAGMA temp.table_info("workers")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA2BC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA2BC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2BC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2BC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2CC0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2CC0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2CC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2CC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3C40>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3C40>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3C40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3C40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA36C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA36C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA36C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA36C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0C40>, 'PRAGMA main.table_info("worker_skills")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0C40>, 'PRAGMA main.table_info("worker_skills")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0C40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0C40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0C40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0C40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3BC0>, 'PRAGMA temp.table_info("worker_skills")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3BC0>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA3BC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA3BC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3BC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3BC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8240>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8240>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8240>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8240>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8C40>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8C40>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8C40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8C40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8FC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8FC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8FC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8FC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA39C0>, 'PRAGMA main.table_info("worker_attendances")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA39C0>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA39C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA39C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA39C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA39C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1740>, 'PRAGMA temp.table_info("worker_attendances")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1740>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA1740>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA1740>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1740>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1740>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8040>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8040>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8040>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8040>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9A40>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9A40>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9A40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9A40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA2C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA2C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA2C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA2C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8BC0>, 'PRAGMA main.table_info("production_outputs")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8BC0>, 'PRAGMA main.table_info("production_outputs")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8BC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8BC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8BC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8BC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD93C0>, 'PRAGMA temp.table_info("production_outputs")', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD93C0>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD93C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD93C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD93C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD93C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8840>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8840>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8840>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8840>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9940>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9940>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9940>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9940>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAA40>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAA40>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAA40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAA40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAAC0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAAC0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAAC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAAC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD99C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '1de3499a-269f-4263-8d05-b195ce27201c', '2026-01-05 05:54:20.338251', '2026-01-05 05:54:20.338254', 0, None))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD99C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '1de3499a-269f-4263-8d05-b195ce27201c', '2026-01-05 05:54:20.338251', '2026-01-05 05:54:20.338254', 0, None)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD99C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD99C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EAE3FBCC0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('1de3499a-269f-4263-8d05-b195ce27201c',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EAE3FBCC0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('1de3499a-269f-4263-8d05-b195ce27201c',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EAE3FBCC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EAE3FBCC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EAE3FBCC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EAE3FBCC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15EC0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('1de3499a-269f-4263-8d05-b195ce27201c',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15EC0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('1de3499a-269f-4263-8d05-b195ce27201c',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F15EC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F15EC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15EC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15EC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F17E40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('1de3499a-269f-4263-8d05-b195ce27201c',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F17E40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('1de3499a-269f-4263-8d05-b195ce27201c',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F17E40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F17E40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F17E40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F17E40>) completed
2026-01-05 00:54:20 | DEBUG    | passlib.handlers.bcrypt | detected 'bcrypt' backend, version '4.0.1'
2026-01-05 00:54:20 | DEBUG    | passlib.handlers.bcrypt | 'bcrypt' backend lacks $2$ support, enabling workaround
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF6EC0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1de3499a-269f-4263-8d05-b195ce27201c', 'test@example.com', '$2b$12$jjeLkzb3bycLPpn7S6cthuI6xL58NiOuQ9sr9Te/2NPGKMCfwAiI6', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'a75d4982-2a21-4fc2-84ff-db270131b145', '2026-01-05 05:54:20.591746', '2026-01-05 05:54:20.591749', 0, None))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF6EC0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1de3499a-269f-4263-8d05-b195ce27201c', 'test@example.com', '$2b$12$jjeLkzb3bycLPpn7S6cthuI6xL58NiOuQ9sr9Te/2NPGKMCfwAiI6', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'a75d4982-2a21-4fc2-84ff-db270131b145', '2026-01-05 05:54:20.591746', '2026-01-05 05:54:20.591749', 0, None)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF6EC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF6EC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF7D40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('a75d4982-2a21-4fc2-84ff-db270131b145',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF7D40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('a75d4982-2a21-4fc2-84ff-db270131b145',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3EF7D40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3EF7D40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF7D40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF7D40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3E0C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('a75d4982-2a21-4fc2-84ff-db270131b145',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3E0C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('a75d4982-2a21-4fc2-84ff-db270131b145',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F3E0C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F3E0C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3E0C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3E0C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3FCC0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('a75d4982-2a21-4fc2-84ff-db270131b145',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3FCC0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('a75d4982-2a21-4fc2-84ff-db270131b145',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F3FCC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F3FCC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3FCC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3FCC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F933C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1de3499a-269f-4263-8d05-b195ce27201c', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, 'a35be751-735e-4246-bd7d-f00882be977d', '2026-01-05 05:54:20.609411', '2026-01-05 05:54:20.609414'))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F933C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1de3499a-269f-4263-8d05-b195ce27201c', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, 'a35be751-735e-4246-bd7d-f00882be977d', '2026-01-05 05:54:20.609411', '2026-01-05 05:54:20.609414')) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F933C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F933C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93AC0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('a35be751-735e-4246-bd7d-f00882be977d',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93AC0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('a35be751-735e-4246-bd7d-f00882be977d',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F93AC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F93AC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93AC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93AC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93740>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93740>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F93740>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F93740>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93740>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93740>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB340>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB340>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBB340>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBB340>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB340>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB340>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB440>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB440>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBB440>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBB440>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB440>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB440>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBBD40>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBBD40>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBBD40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBBD40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBBD40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBBD40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2BC0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2BC0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FE2BC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FE2BC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2BC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2BC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F71140>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a35be751-735e-4246-bd7d-f00882be977d', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '55dd608c-5030-49df-9f56-c4fa8b8d6382', '2026-01-05 05:54:20.627370', '2026-01-05 05:54:20.627373'))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F71140>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a35be751-735e-4246-bd7d-f00882be977d', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '55dd608c-5030-49df-9f56-c4fa8b8d6382', '2026-01-05 05:54:20.627370', '2026-01-05 05:54:20.627373')) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F71140>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F71140>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2EC0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('55dd608c-5030-49df-9f56-c4fa8b8d6382',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2EC0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('55dd608c-5030-49df-9f56-c4fa8b8d6382',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FE2EC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FE2EC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2EC0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2EC0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED400A8C0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('55dd608c-5030-49df-9f56-c4fa8b8d6382',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED400A8C0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('55dd608c-5030-49df-9f56-c4fa8b8d6382',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED400A8C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED400A8C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED400A8C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED400A8C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4042040>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('55dd608c-5030-49df-9f56-c4fa8b8d6382',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4042040>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('55dd608c-5030-49df-9f56-c4fa8b8d6382',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4042040>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4042040>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4042040>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4042040>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB89C0>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a35be751-735e-4246-bd7d-f00882be977d', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '5bfa0b80-ded9-407e-b643-dd47cf8b670f', '2026-01-05 05:54:20.638566', '2026-01-05 05:54:20.638569'))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB89C0>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a35be751-735e-4246-bd7d-f00882be977d', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '5bfa0b80-ded9-407e-b643-dd47cf8b670f', '2026-01-05 05:54:20.638566', '2026-01-05 05:54:20.638569')) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB89C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB89C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F710C0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5bfa0b80-ded9-407e-b643-dd47cf8b670f', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'c6c75e51-67ae-40ed-96c8-850d9a3d1651', '2026-01-05 05:54:20.640526', '2026-01-05 05:54:20.640528'))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F710C0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5bfa0b80-ded9-407e-b643-dd47cf8b670f', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'c6c75e51-67ae-40ed-96c8-850d9a3d1651', '2026-01-05 05:54:20.640526', '2026-01-05 05:54:20.640528')) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F710C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F710C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB85C0>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('a35be751-735e-4246-bd7d-f00882be977d', 'c6c75e51-67ae-40ed-96c8-850d9a3d1651', '55dd608c-5030-49df-9f56-c4fa8b8d6382', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '9e3404ce-e476-4acc-bfbd-2b3e602f1dca', '2026-01-05 05:54:20.642458', '2026-01-05 05:54:20.642460'))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB85C0>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('a35be751-735e-4246-bd7d-f00882be977d', 'c6c75e51-67ae-40ed-96c8-850d9a3d1651', '55dd608c-5030-49df-9f56-c4fa8b8d6382', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '9e3404ce-e476-4acc-bfbd-2b3e602f1dca', '2026-01-05 05:54:20.642458', '2026-01-05 05:54:20.642460')) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FB85C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FB85C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB85C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB85C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40704C0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:54:20.643883', '92b00a8b-e38f-47ea-8f84-df869fc66d28', '2026-01-05 05:54:20.644719', '2026-01-05 05:54:20.644721'))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40704C0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:54:20.643883', '92b00a8b-e38f-47ea-8f84-df869fc66d28', '2026-01-05 05:54:20.644719', '2026-01-05 05:54:20.644721')) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40704C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40704C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071040>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a35be751-735e-4246-bd7d-f00882be977d', 'WK-001', 'High Performer', None, None, None, '55dd608c-5030-49df-9f56-c4fa8b8d6382', None, None, None, 'USD', 1, '04de918b-cd60-4ded-b391-0581e507d74f', '2026-01-05 05:54:20.648746', '2026-01-05 05:54:20.648748', 0, None, 'a35be751-735e-4246-bd7d-f00882be977d', 'WK-002', 'Low Performer', None, None, None, '55dd608c-5030-49df-9f56-c4fa8b8d6382', None, None, None, 'USD', 1, 'af1ae736-9dab-4468-8350-a0c1e95d42a6', '2026-01-05 05:54:20.648753', '2026-01-05 05:54:20.648753', 0, None))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071040>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a35be751-735e-4246-bd7d-f00882be977d', 'WK-001', 'High Performer', None, None, None, '55dd608c-5030-49df-9f56-c4fa8b8d6382', None, None, None, 'USD', 1, '04de918b-cd60-4ded-b391-0581e507d74f', '2026-01-05 05:54:20.648746', '2026-01-05 05:54:20.648748', 0, None, 'a35be751-735e-4246-bd7d-f00882be977d', 'WK-002', 'Low Performer', None, None, None, '55dd608c-5030-49df-9f56-c4fa8b8d6382', None, None, None, 'USD', 1, 'af1ae736-9dab-4468-8350-a0c1e95d42a6', '2026-01-05 05:54:20.648753', '2026-01-05 05:54:20.648753', 0, None)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071040>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071040>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070940>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '9e3404ce-e476-4acc-bfbd-2b3e602f1dca', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'f697ce67-9ad4-47de-8e96-8032eeeda084', '2026-01-05 05:54:20.651104', '2026-01-05 05:54:20.651106'))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070940>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '9e3404ce-e476-4acc-bfbd-2b3e602f1dca', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'f697ce67-9ad4-47de-8e96-8032eeeda084', '2026-01-05 05:54:20.651104', '2026-01-05 05:54:20.651106')) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070940>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070940>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070D40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('04de918b-cd60-4ded-b391-0581e507d74f', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'd7d3da5b-1a73-4895-9799-fbaed9ec3d7b', '2026-01-05 05:54:20.652952', '2026-01-05 05:54:20.652954', 'af1ae736-9dab-4468-8350-a0c1e95d42a6', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, 'dc221a70-0752-44ed-a0fa-467d15212415', '2026-01-05 05:54:20.652958', '2026-01-05 05:54:20.652958'))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070D40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('04de918b-cd60-4ded-b391-0581e507d74f', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'd7d3da5b-1a73-4895-9799-fbaed9ec3d7b', '2026-01-05 05:54:20.652952', '2026-01-05 05:54:20.652954', 'af1ae736-9dab-4468-8350-a0c1e95d42a6', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, 'dc221a70-0752-44ed-a0fa-467d15212415', '2026-01-05 05:54:20.652958', '2026-01-05 05:54:20.652958')) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070D40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070D40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070C40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('a75d4982-2a21-4fc2-84ff-db270131b145',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070C40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('a75d4982-2a21-4fc2-84ff-db270131b145',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070C40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070C40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070C40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070C40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D29C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('a75d4982-2a21-4fc2-84ff-db270131b145',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D29C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('a75d4982-2a21-4fc2-84ff-db270131b145',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D29C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D29C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D29C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D29C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D2140>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('a75d4982-2a21-4fc2-84ff-db270131b145',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D2140>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('a75d4982-2a21-4fc2-84ff-db270131b145',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D2140>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D2140>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D2140>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D2140>) completed
2026-01-05 00:54:20 | INFO     | app.api.v1.endpoints.analytics | [DIAG] get_overview_stats called with line_id=None
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D36C0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000'))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D36C0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000')) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D36C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D36C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D36C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D36C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3640>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3640>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D3640>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D3640>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3640>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3640>) completed
2026-01-05 00:54:20 | INFO     | app.api.v1.endpoints.analytics | [DIAG] Resolved effective_date=2026-01-05 (tz=UTC)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D28C0>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE production_runs.production_date = ?', ('2026-01-05',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D28C0>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE production_runs.production_date = ?', ('2026-01-05',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D28C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D28C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D28C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D28C0>) completed
2026-01-05 00:54:20 | INFO     | app.api.v1.endpoints.analytics | [DIAG] Found 0 ProductionRuns for effective_date=2026-01-05, line_id=None
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1154, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode characters in position 73-74: character maps to <undefined>
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pytest\__main__.py", line 9, in <module>
    raise SystemExit(pytest.console_main())
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py", line 469, in runtest
    super().runtest()
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py", line 716, in inner
    runner.run(coro, context=context)
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python313\Lib\asyncio\base_events.py", line 712, in run_until_complete
    self.run_forever()
  File "C:\Python313\Lib\asyncio\base_events.py", line 683, in run_forever
    self._run_once()
  File "C:\Python313\Lib\asyncio\base_events.py", line 2042, in _run_once
    handle._run()
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 119, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 105, in app
    response = await f(request)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 426, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 312, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\19803\business\FactoryExcelManager\backend\app\api\v1\endpoints\analytics.py", line 118, in get_overview_stats
    logger.warning(f"[DIAG] \u26a0\ufe0f NO PRODUCTION RUNS FOUND for date={effective_date}, line_id={line_id}. Dashboard widgets may show empty/mock data.")
Message: '[DIAG] \u26a0\ufe0f NO PRODUCTION RUNS FOUND for date=2026-01-05, line_id=None. Dashboard widgets may show empty/mock data.'
Arguments: ()
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D1840>, 'SELECT production_runs.factory_id, production_runs.order_id, production_runs.line_id, production_runs.cut_ticket_id, production_runs.source_import_id, production_runs.production_date, production_runs.inspection_date, production_runs.shift, production_runs.planned_qty, production_runs.actual_qty, production_runs.wip_start, production_runs.wip_end, production_runs.lot_number, production_runs.shade_band, production_runs.batch_number, production_runs.downtime_minutes, production_runs.downtime_reason, production_runs.sam, production_runs.operators_present, production_runs.helpers_present, production_runs.worked_minutes, production_runs.earned_minutes, production_runs.efficiency, production_runs.notes, production_runs.id, production_runs.created_at, production_runs.updated_at \nFROM production_runs \nWHERE date(production_runs.production_date) >= ? AND date(production_runs.production_date) <= ?', ('2026-01-05', '2026-01-05'))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D1840>, 'SELECT production_runs.factory_id, production_runs.order_id, production_runs.line_id, production_runs.cut_ticket_id, production_runs.source_import_id, production_runs.production_date, production_runs.inspection_date, production_runs.shift, production_runs.planned_qty, production_runs.actual_qty, production_runs.wip_start, production_runs.wip_end, production_runs.lot_number, production_runs.shade_band, production_runs.batch_number, production_runs.downtime_minutes, production_runs.downtime_reason, production_runs.sam, production_runs.operators_present, production_runs.helpers_present, production_runs.worked_minutes, production_runs.earned_minutes, production_runs.efficiency, production_runs.notes, production_runs.id, production_runs.created_at, production_runs.updated_at \nFROM production_runs \nWHERE date(production_runs.production_date) >= ? AND date(production_runs.production_date) <= ?', ('2026-01-05', '2026-01-05')) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D1840>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D1840>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D1840>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D1840>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41FFD40>, 'SELECT quality_inspections.production_run_id AS quality_inspections_production_run_id, quality_inspections.inspector_id AS quality_inspections_inspector_id, quality_inspections.inspection_type AS quality_inspections_inspection_type, quality_inspections.units_checked AS quality_inspections_units_checked, quality_inspections.defects_found AS quality_inspections_defects_found, quality_inspections.units_rejected AS quality_inspections_units_rejected, quality_inspections.units_reworked AS quality_inspections_units_reworked, quality_inspections.dhu AS quality_inspections_dhu, quality_inspections.defect_rate_pct AS quality_inspections_defect_rate_pct, quality_inspections.aql_level AS quality_inspections_aql_level, quality_inspections.aql_result AS quality_inspections_aql_result, quality_inspections.inspected_at AS quality_inspections_inspected_at, quality_inspections.notes AS quality_inspections_notes, quality_inspections.id AS quality_inspections_id, quality_inspections.created_at AS quality_inspections_created_at, quality_inspections.updated_at AS quality_inspections_updated_at \nFROM quality_inspections \nWHERE quality_inspections.production_run_id IN (?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41FFD40>, 'SELECT quality_inspections.production_run_id AS quality_inspections_production_run_id, quality_inspections.inspector_id AS quality_inspections_inspector_id, quality_inspections.inspection_type AS quality_inspections_inspection_type, quality_inspections.units_checked AS quality_inspections_units_checked, quality_inspections.defects_found AS quality_inspections_defects_found, quality_inspections.units_rejected AS quality_inspections_units_rejected, quality_inspections.units_reworked AS quality_inspections_units_reworked, quality_inspections.dhu AS quality_inspections_dhu, quality_inspections.defect_rate_pct AS quality_inspections_defect_rate_pct, quality_inspections.aql_level AS quality_inspections_aql_level, quality_inspections.aql_result AS quality_inspections_aql_result, quality_inspections.inspected_at AS quality_inspections_inspected_at, quality_inspections.notes AS quality_inspections_notes, quality_inspections.id AS quality_inspections_id, quality_inspections.created_at AS quality_inspections_created_at, quality_inspections.updated_at AS quality_inspections_updated_at \nFROM quality_inspections \nWHERE quality_inspections.production_run_id IN (?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED41FFD40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED41FFD40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41FFD40>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41FFD40>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED42373C0>, 'SELECT production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.worker_id AS production_outputs_worker_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \nFROM production_outputs \nWHERE production_outputs.production_run_id IN (?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED42373C0>, 'SELECT production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.worker_id AS production_outputs_worker_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \nFROM production_outputs \nWHERE production_outputs.production_run_id IN (?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED42373C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED42373C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED42373C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED42373C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED42361C0>, 'SELECT production_events.production_run_id AS production_events_production_run_id, production_events.timestamp AS production_events_timestamp, production_events.event_type AS production_events_event_type, production_events.quantity AS production_events_quantity, production_events.line_id AS production_events_line_id, production_events.order_id AS production_events_order_id, production_events.style_id AS production_events_style_id, production_events.source_import_id AS production_events_source_import_id, production_events.raw_data AS production_events_raw_data, production_events.id AS production_events_id, production_events.created_at AS production_events_created_at, production_events.updated_at AS production_events_updated_at \nFROM production_events \nWHERE production_events.production_run_id IN (?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca',))
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED42361C0>, 'SELECT production_events.production_run_id AS production_events_production_run_id, production_events.timestamp AS production_events_timestamp, production_events.event_type AS production_events_event_type, production_events.quantity AS production_events_quantity, production_events.line_id AS production_events_line_id, production_events.order_id AS production_events_order_id, production_events.style_id AS production_events_style_id, production_events.source_import_id AS production_events_source_import_id, production_events.raw_data AS production_events_raw_data, production_events.id AS production_events_id, production_events.created_at AS production_events_created_at, production_events.updated_at AS production_events_updated_at \nFROM production_events \nWHERE production_events.production_run_id IN (?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca',)) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED42361C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED42361C0>) completed
2026-01-05 00:54:20 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED42361C0>)
2026-01-05 00:54:20 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED42361C0>) completed
2026-01-05 00:54:20 | ERROR    | app.main | Unhandled exception: float() argument must be a string or a real number, not 'NoneType'
Traceback (most recent call last):
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_utils.py", line 85, in collapse_excgroups
    raise exc
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\debug_toolbar\middleware.py", line 72, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 119, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 105, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 426, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\19803\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py", line 312, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\19803\business\FactoryExcelManager\backend\app\api\v1\endpoints\analytics.py", line 122, in get_overview_stats
    current_stats = await analytics_service.get_aggregated_stats(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\19803\business\FactoryExcelManager\backend\app\services\analytics_service.py", line 145, in get_aggregated_stats
    stats = self.aggregate_production_stats(logs)
  File "C:\Users\19803\business\FactoryExcelManager\backend\app\services\analytics_service.py", line 68, in aggregate_production_stats
    earned = cls.calculate_earned_minutes(qty, sam)
  File "C:\Users\19803\business\FactoryExcelManager\backend\app\services\analytics_service.py", line 32, in calculate_earned_minutes
    return float(produced_qty) * float(sam)
                                 ~~~~~^^^^^
TypeError: float() argument must be a string or a real number, not 'NoneType'
FAILED2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F70140>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F70140>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F70140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F70140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC140>, "SELECT name FROM sqlite_master WHERE type='table'", ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC140>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC240>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC240>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC0C0>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC0C0>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC7C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC7C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC7C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC7C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC8C0>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC8C0>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC540>, 'DROP TABLE IF EXISTS "traceability_records"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC540>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC6C0>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC6C0>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC4C0>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC4C0>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC4C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC4C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC5C0>, 'DROP TABLE IF EXISTS "dashboards"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC5C0>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC5C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC5C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC9C0>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC9C0>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED0C0>, 'DROP TABLE IF EXISTS "data_sources"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED0C0>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED040>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED040>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECC40>, 'DROP TABLE IF EXISTS "production_events"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECC40>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECC40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECC40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECF40>, 'DROP TABLE IF EXISTS "factories"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECF40>, 'DROP TABLE IF EXISTS "factories"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECF40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECF40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECDC0>, 'DROP TABLE IF EXISTS "production_lines"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECDC0>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECDC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECDC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECBC0>, 'DROP TABLE IF EXISTS "styles"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECBC0>, 'DROP TABLE IF EXISTS "styles"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECBC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECBC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC440>, 'DROP TABLE IF EXISTS "orders"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC440>, 'DROP TABLE IF EXISTS "orders"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECAC0>, 'DROP TABLE IF EXISTS "production_runs"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECAC0>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECAC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECAC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED340>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED340>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED340>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED340>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED3C0>, 'DROP TABLE IF EXISTS "defects"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED3C0>, 'DROP TABLE IF EXISTS "defects"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED3C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED3C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED4C0>, 'DROP TABLE IF EXISTS "raw_imports"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED4C0>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED4C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED4C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED640>, 'DROP TABLE IF EXISTS "staging_records"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED640>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED6C0>, 'DROP TABLE IF EXISTS "packing_lists"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED6C0>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED840>, 'DROP TABLE IF EXISTS "cartons"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED840>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED8C0>, 'DROP TABLE IF EXISTS "organizations"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED8C0>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED9C0>, 'DROP TABLE IF EXISTS "users"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED9C0>, 'DROP TABLE IF EXISTS "users"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDB40>, 'DROP TABLE IF EXISTS "user_scopes"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDB40>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDB40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDB40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDCC0>, 'DROP TABLE IF EXISTS "workers"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDCC0>, 'DROP TABLE IF EXISTS "workers"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDBC0>, 'DROP TABLE IF EXISTS "worker_skills"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDBC0>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDBC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDBC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDE40>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDE40>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDE40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDE40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDEC0>, 'DROP TABLE IF EXISTS "production_outputs"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDEC0>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDEC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDEC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDFC0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDFC0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDFC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDFC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed

tests/test_api/test_analytics_real.py::test_get_production_chart_real 2026-01-05 00:54:21 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F9C0>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F9C0>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E640>, 'PRAGMA main.table_info("ai_decisions")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E640>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F8C0>, 'PRAGMA temp.table_info("ai_decisions")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F8C0>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9F8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9F8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3C40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3C40>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F140>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F140>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F2C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F2C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F2C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F2C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E940>, 'PRAGMA main.table_info("alias_mappings")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E940>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FE40>, 'PRAGMA temp.table_info("alias_mappings")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FE40>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FE40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FE40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FE40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FE40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D28C0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D28C0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D28C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D28C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C540>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C540>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D040>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D040>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FAC0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FAC0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FAC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FAC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F240>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F240>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CE40>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CE40>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CE40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CE40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E5C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E5C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E5C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E5C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C0C0>, 'PRAGMA main.table_info("efficiency_metrics")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C0C0>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9C0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9C0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FD40>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FD40>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FD40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FD40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FD40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FD40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD47C0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD47C0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD47C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD47C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD6140>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD6140>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD6140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD6140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DB40>, 'PRAGMA main.table_info("dhu_reports")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DB40>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9DB40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9DB40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DB40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DB40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4EC0>, 'PRAGMA temp.table_info("dhu_reports")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4EC0>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD4EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD4EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5AC0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5AC0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5AC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5AC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7CC0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7CC0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7CC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7CC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD68C0>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD68C0>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD68C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD68C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5BC0>, 'PRAGMA main.table_info("traceability_records")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5BC0>, 'PRAGMA main.table_info("traceability_records")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD5BC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD5BC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5BC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5BC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4640>, 'PRAGMA temp.table_info("traceability_records")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4640>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD4640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD4640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7AC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7AC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7AC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7AC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7940>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7940>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7740>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7740>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7740>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7740>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5640>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5640>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD71C0>, 'PRAGMA main.table_info("fabric_lots")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD71C0>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD71C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD71C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD71C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD71C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD73C0>, 'PRAGMA temp.table_info("fabric_lots")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD73C0>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD73C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD73C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD73C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD73C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7840>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7840>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD62C0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD62C0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD62C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD62C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4F40>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4F40>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4F40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4F40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5DC0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5DC0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5DC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5DC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4840>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4840>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7640>, 'PRAGMA main.table_info("cut_tickets")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7640>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD7640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD7640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5E40>, 'PRAGMA temp.table_info("cut_tickets")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5E40>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD5E40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD5E40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5E40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5E40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11DC0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11DC0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11DC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11DC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F8C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F8C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41000C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41000C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41000C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41000C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E9C0>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E9C0>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E01040>, 'PRAGMA main.table_info("dashboards")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E01040>, 'PRAGMA main.table_info("dashboards")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E01040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E01040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E01040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E01040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E00FC0>, 'PRAGMA temp.table_info("dashboards")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E00FC0>, 'PRAGMA temp.table_info("dashboards")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E00FC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E00FC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E00FC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E00FC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E74540>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E74540>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E74540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E74540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54EC0>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54EC0>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F240>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F240>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54AC0>, 'PRAGMA main.table_info("data_quality_issues")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54AC0>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E54AC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E54AC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54AC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54AC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54E40>, 'PRAGMA temp.table_info("data_quality_issues")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54E40>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E54E40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E54E40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54E40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54E40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DDC0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DDC0>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DDC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DDC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70140>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70140>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B737C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B737C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B737C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B737C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72940>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72940>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B735C0>, 'PRAGMA main.table_info("data_sources")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B735C0>, 'PRAGMA main.table_info("data_sources")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B735C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B735C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B735C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B735C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72640>, 'PRAGMA temp.table_info("data_sources")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72640>, 'PRAGMA temp.table_info("data_sources")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B713C0>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B713C0>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B713C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B713C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B717C0>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B717C0>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B717C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B717C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72840>, 'PRAGMA main.table_info("schema_mappings")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72840>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71EC0>, 'PRAGMA temp.table_info("schema_mappings")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71EC0>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B71EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B71EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B721C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B721C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B721C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B721C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71BC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71BC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71BC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71BC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72B40>, 'PRAGMA main.table_info("production_events")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72B40>, 'PRAGMA main.table_info("production_events")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72B40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72B40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72B40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72B40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B706C0>, 'PRAGMA temp.table_info("production_events")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B706C0>, 'PRAGMA temp.table_info("production_events")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B706C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B706C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B706C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B706C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70940>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70940>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B734C0>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B734C0>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B734C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B734C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B720C0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B720C0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B720C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B720C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73740>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73740>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73740>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73740>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3BC0>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3BC0>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3BC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3BC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0140>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0140>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1A40>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1A40>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1A40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1A40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70240>, 'PRAGMA main.table_info("factories")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70240>, 'PRAGMA main.table_info("factories")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2AC0>, 'PRAGMA temp.table_info("factories")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2AC0>, 'PRAGMA temp.table_info("factories")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA2AC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA2AC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2AC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2AC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3E0C0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3E0C0>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3E0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3E0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93AC0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93AC0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93AC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93AC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EAE3FBCC0>, 'PRAGMA main.table_info("production_lines")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EAE3FBCC0>, 'PRAGMA main.table_info("production_lines")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EAE3FBCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EAE3FBCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EAE3FBCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EAE3FBCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3FCC0>, 'PRAGMA temp.table_info("production_lines")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3FCC0>, 'PRAGMA temp.table_info("production_lines")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F3FCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F3FCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3FCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3FCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2BC0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2BC0>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2BC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2BC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2EC0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2EC0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10240>, 'PRAGMA main.table_info("styles")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10240>, 'PRAGMA main.table_info("styles")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA09C0>, 'PRAGMA temp.table_info("styles")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA09C0>, 'PRAGMA temp.table_info("styles")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA09C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA09C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA09C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA09C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF7D40>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF7D40>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF7D40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF7D40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40429C0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40429C0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40429C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40429C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF6EC0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF6EC0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF6EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF6EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2CC0>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2CC0>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2CC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2CC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED400A8C0>, 'PRAGMA main.table_info("orders")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED400A8C0>, 'PRAGMA main.table_info("orders")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED400A8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED400A8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED400A8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED400A8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0C40>, 'PRAGMA temp.table_info("orders")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0C40>, 'PRAGMA temp.table_info("orders")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA39C0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA39C0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA39C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA39C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB340>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB340>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB340>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB340>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB440>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB440>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBBD40>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBBD40>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBBD40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBBD40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB89C0>, 'PRAGMA main.table_info("production_runs")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB89C0>, 'PRAGMA main.table_info("production_runs")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FB89C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FB89C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB89C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB89C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93740>, 'PRAGMA temp.table_info("production_runs")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93740>, 'PRAGMA temp.table_info("production_runs")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F93740>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F93740>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93740>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93740>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F933C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F933C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F933C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F933C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F710C0>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F710C0>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F710C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F710C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3C40>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3C40>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB85C0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB85C0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB85C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB85C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2F40>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2F40>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2F40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2F40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0940>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0940>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AA40>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AA40>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AA40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AA40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D620C0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D620C0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D620C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D620C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0D40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0D40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0D40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0D40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F71140>, 'PRAGMA main.table_info("quality_inspections")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F71140>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F71140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F71140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F71140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F71140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB192F240>, 'PRAGMA temp.table_info("quality_inspections")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB192F240>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB192F240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB192F240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB192F240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB192F240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D62240>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D62240>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D62240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D62240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41EF040>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41EF040>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41EF040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41EF040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070C40>, 'PRAGMA main.table_info("defects")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070C40>, 'PRAGMA main.table_info("defects")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070D40>, 'PRAGMA temp.table_info("defects")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070D40>, 'PRAGMA temp.table_info("defects")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070D40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070D40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070D40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070D40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3D40>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3D40>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3D40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3D40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB36C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB36C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB36C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB36C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3840>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3840>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070940>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070940>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070DC0>, 'PRAGMA main.table_info("raw_imports")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070DC0>, 'PRAGMA main.table_info("raw_imports")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070DC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070DC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070DC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070DC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3CC0>, 'PRAGMA temp.table_info("raw_imports")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3CC0>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0CB3CC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0CB3CC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3CC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3CC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AEC0>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AEC0>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AEC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AEC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F17E40>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F17E40>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F17E40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F17E40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB39C0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB39C0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB39C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB39C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071040>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071040>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071B40>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071B40>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071B40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071B40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AF40>, 'PRAGMA main.table_info("staging_records")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AF40>, 'PRAGMA main.table_info("staging_records")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D7AF40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D7AF40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AF40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AF40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15DC0>, 'PRAGMA temp.table_info("staging_records")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15DC0>, 'PRAGMA temp.table_info("staging_records")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F15DC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F15DC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15DC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15DC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15EC0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15EC0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAAC0>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAAC0>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAAC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAAC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D60B40>, 'PRAGMA main.table_info("packing_lists")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D60B40>, 'PRAGMA main.table_info("packing_lists")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D60B40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D60B40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D60B40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D60B40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8040>, 'PRAGMA temp.table_info("packing_lists")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8040>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDB740>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDB740>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDB740>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDB740>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD99C0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD99C0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD99C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD99C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8C40>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8C40>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8840>, 'PRAGMA main.table_info("cartons")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8840>, 'PRAGMA main.table_info("cartons")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDB6C0>, 'PRAGMA temp.table_info("cartons")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDB6C0>, 'PRAGMA temp.table_info("cartons")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDB6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDB6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDB6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDB6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA2C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA2C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA2C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA2C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9A40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9A40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9A40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9A40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAA40>, 'PRAGMA main.table_info("organizations")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAA40>, 'PRAGMA main.table_info("organizations")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDAA40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDAA40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAA40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAA40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA7C0>, 'PRAGMA temp.table_info("organizations")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA7C0>, 'PRAGMA temp.table_info("organizations")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDA7C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDA7C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA7C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA7C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA5C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA5C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA5C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA5C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8FC0>, 'PRAGMA main.table_info("users")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8FC0>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8FC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8FC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8FC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8FC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC9C0>, 'PRAGMA temp.table_info("users")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC9C0>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA36C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA36C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA36C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA36C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC6C0>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC6C0>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC140>, 'PRAGMA main.table_info("user_scopes")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC140>, 'PRAGMA main.table_info("user_scopes")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECBC0>, 'PRAGMA temp.table_info("user_scopes")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECBC0>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ECBC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ECBC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECBC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECBC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED040>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED040>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC440>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC440>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED340>, 'PRAGMA main.table_info("workers")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED340>, 'PRAGMA main.table_info("workers")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED340>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED340>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED340>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED340>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC240>, 'PRAGMA temp.table_info("workers")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC240>, 'PRAGMA temp.table_info("workers")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED6C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED6C0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED4C0>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED4C0>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED4C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED4C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED840>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED840>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED640>, 'PRAGMA main.table_info("worker_skills")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED640>, 'PRAGMA main.table_info("worker_skills")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED8C0>, 'PRAGMA temp.table_info("worker_skills")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED8C0>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECC40>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECC40>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECC40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECC40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDFC0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDFC0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDFC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDFC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED9C0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED9C0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC0C0>, 'PRAGMA main.table_info("worker_attendances")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC0C0>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECDC0>, 'PRAGMA temp.table_info("worker_attendances")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECDC0>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ECDC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ECDC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECDC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECDC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECAC0>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECAC0>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECAC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECAC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFC40>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFC40>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFC40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFC40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC4C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC4C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC4C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC4C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC540>, 'PRAGMA main.table_info("production_outputs")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC540>, 'PRAGMA main.table_info("production_outputs")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDEC0>, 'PRAGMA temp.table_info("production_outputs")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDEC0>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EDEC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EDEC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDEC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDEC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC5C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC5C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC5C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC5C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE040>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE040>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC3C0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC3C0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC3C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC3C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFF40>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFF40>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFF40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFF40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDA40>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '16253733-7b0a-419f-96de-b46e31e83dde', '2026-01-05 05:54:21.427233', '2026-01-05 05:54:21.427236', 0, None))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDA40>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '16253733-7b0a-419f-96de-b46e31e83dde', '2026-01-05 05:54:21.427233', '2026-01-05 05:54:21.427236', 0, None)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDA40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDA40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEA40>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('16253733-7b0a-419f-96de-b46e31e83dde',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEA40>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('16253733-7b0a-419f-96de-b46e31e83dde',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEA40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEA40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEA40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEA40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEF40>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('16253733-7b0a-419f-96de-b46e31e83dde',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEF40>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('16253733-7b0a-419f-96de-b46e31e83dde',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEF40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEF40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEF40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEF40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF540>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('16253733-7b0a-419f-96de-b46e31e83dde',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF540>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('16253733-7b0a-419f-96de-b46e31e83dde',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDC40>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('16253733-7b0a-419f-96de-b46e31e83dde', 'test@example.com', '$2b$12$6J7DRVMBImI8hWVf0sSb/edQRTxeypw4QwaR5b87D4gD/uUNai8JO', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'f2842555-e5c3-424a-a537-15eba06cf8ac', '2026-01-05 05:54:21.646330', '2026-01-05 05:54:21.646334', 0, None))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDC40>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('16253733-7b0a-419f-96de-b46e31e83dde', 'test@example.com', '$2b$12$6J7DRVMBImI8hWVf0sSb/edQRTxeypw4QwaR5b87D4gD/uUNai8JO', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'f2842555-e5c3-424a-a537-15eba06cf8ac', '2026-01-05 05:54:21.646330', '2026-01-05 05:54:21.646334', 0, None)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDC40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDC40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEEC0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('f2842555-e5c3-424a-a537-15eba06cf8ac',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEEC0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('f2842555-e5c3-424a-a537-15eba06cf8ac',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEEC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEEC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEEC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEEC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF2C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('f2842555-e5c3-424a-a537-15eba06cf8ac',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF2C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('f2842555-e5c3-424a-a537-15eba06cf8ac',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF2C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF2C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF2C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF2C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEC40>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('f2842555-e5c3-424a-a537-15eba06cf8ac',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEC40>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('f2842555-e5c3-424a-a537-15eba06cf8ac',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEC40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEC40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEC40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEC40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE1C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('16253733-7b0a-419f-96de-b46e31e83dde', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '07f8367a-de74-4e1f-829d-4225819f5920', '2026-01-05 05:54:21.655054', '2026-01-05 05:54:21.655055'))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE1C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('16253733-7b0a-419f-96de-b46e31e83dde', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '07f8367a-de74-4e1f-829d-4225819f5920', '2026-01-05 05:54:21.655054', '2026-01-05 05:54:21.655055')) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE1C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE1C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE840>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('07f8367a-de74-4e1f-829d-4225819f5920',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE840>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('07f8367a-de74-4e1f-829d-4225819f5920',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE4C0>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('07f8367a-de74-4e1f-829d-4225819f5920',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE4C0>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('07f8367a-de74-4e1f-829d-4225819f5920',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE4C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE4C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE4C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE4C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFA40>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('07f8367a-de74-4e1f-829d-4225819f5920',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFA40>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('07f8367a-de74-4e1f-829d-4225819f5920',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EFA40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EFA40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFA40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFA40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF7C0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('07f8367a-de74-4e1f-829d-4225819f5920',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF7C0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('07f8367a-de74-4e1f-829d-4225819f5920',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF7C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF7C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF7C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF7C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896D40>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('07f8367a-de74-4e1f-829d-4225819f5920',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896D40>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('07f8367a-de74-4e1f-829d-4225819f5920',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5896D40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5896D40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896D40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896D40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58960C0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('07f8367a-de74-4e1f-829d-4225819f5920',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58960C0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('07f8367a-de74-4e1f-829d-4225819f5920',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58960C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58960C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58960C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58960C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEB40>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('07f8367a-de74-4e1f-829d-4225819f5920', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '1fa04e48-0132-476f-8939-c89a6841f9d0', '2026-01-05 05:54:21.671716', '2026-01-05 05:54:21.671719'))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEB40>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('07f8367a-de74-4e1f-829d-4225819f5920', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '1fa04e48-0132-476f-8939-c89a6841f9d0', '2026-01-05 05:54:21.671716', '2026-01-05 05:54:21.671719')) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEB40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEB40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE5C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('1fa04e48-0132-476f-8939-c89a6841f9d0',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE5C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('1fa04e48-0132-476f-8939-c89a6841f9d0',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE5C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE5C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE5C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE5C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFCC0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('1fa04e48-0132-476f-8939-c89a6841f9d0',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFCC0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('1fa04e48-0132-476f-8939-c89a6841f9d0',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EFCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EFCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF8C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('1fa04e48-0132-476f-8939-c89a6841f9d0',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF8C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('1fa04e48-0132-476f-8939-c89a6841f9d0',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE640>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('07f8367a-de74-4e1f-829d-4225819f5920', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '58456d69-a401-438a-896c-867e7177a0ad', '2026-01-05 05:54:21.685261', '2026-01-05 05:54:21.685265'))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE640>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('07f8367a-de74-4e1f-829d-4225819f5920', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '58456d69-a401-438a-896c-867e7177a0ad', '2026-01-05 05:54:21.685261', '2026-01-05 05:54:21.685265')) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE8C0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('58456d69-a401-438a-896c-867e7177a0ad', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '024c80d4-326a-4cb4-8200-4fd796e895d9', '2026-01-05 05:54:21.688034', '2026-01-05 05:54:21.688036'))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE8C0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('58456d69-a401-438a-896c-867e7177a0ad', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, '024c80d4-326a-4cb4-8200-4fd796e895d9', '2026-01-05 05:54:21.688034', '2026-01-05 05:54:21.688036')) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE3C0>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('07f8367a-de74-4e1f-829d-4225819f5920', '024c80d4-326a-4cb4-8200-4fd796e895d9', '1fa04e48-0132-476f-8939-c89a6841f9d0', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '2af89dae-5c17-4a7e-957f-89ee9aa15d30', '2026-01-05 05:54:21.690977', '2026-01-05 05:54:21.690982'))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE3C0>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('07f8367a-de74-4e1f-829d-4225819f5920', '024c80d4-326a-4cb4-8200-4fd796e895d9', '1fa04e48-0132-476f-8939-c89a6841f9d0', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '2af89dae-5c17-4a7e-957f-89ee9aa15d30', '2026-01-05 05:54:21.690977', '2026-01-05 05:54:21.690982')) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE3C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE3C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE3C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE3C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEBC0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('2af89dae-5c17-4a7e-957f-89ee9aa15d30', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:54:21.694024', '5ae72699-429a-49df-b41e-98146e464ca3', '2026-01-05 05:54:21.694922', '2026-01-05 05:54:21.694924'))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEBC0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('2af89dae-5c17-4a7e-957f-89ee9aa15d30', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:54:21.694024', '5ae72699-429a-49df-b41e-98146e464ca3', '2026-01-05 05:54:21.694922', '2026-01-05 05:54:21.694924')) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEBC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEBC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEFC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('07f8367a-de74-4e1f-829d-4225819f5920', 'WK-001', 'High Performer', None, None, None, '1fa04e48-0132-476f-8939-c89a6841f9d0', None, None, None, 'USD', 1, '18d0b65b-5e90-4646-99a4-b08d762a6fd0', '2026-01-05 05:54:21.696808', '2026-01-05 05:54:21.696810', 0, None, '07f8367a-de74-4e1f-829d-4225819f5920', 'WK-002', 'Low Performer', None, None, None, '1fa04e48-0132-476f-8939-c89a6841f9d0', None, None, None, 'USD', 1, '436e08aa-3e4c-4bab-bb98-d7964ed5481b', '2026-01-05 05:54:21.696815', '2026-01-05 05:54:21.696815', 0, None))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEFC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('07f8367a-de74-4e1f-829d-4225819f5920', 'WK-001', 'High Performer', None, None, None, '1fa04e48-0132-476f-8939-c89a6841f9d0', None, None, None, 'USD', 1, '18d0b65b-5e90-4646-99a4-b08d762a6fd0', '2026-01-05 05:54:21.696808', '2026-01-05 05:54:21.696810', 0, None, '07f8367a-de74-4e1f-829d-4225819f5920', 'WK-002', 'Low Performer', None, None, None, '1fa04e48-0132-476f-8939-c89a6841f9d0', None, None, None, 'USD', 1, '436e08aa-3e4c-4bab-bb98-d7964ed5481b', '2026-01-05 05:54:21.696815', '2026-01-05 05:54:21.696815', 0, None)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEFC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEFC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE7C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '2af89dae-5c17-4a7e-957f-89ee9aa15d30', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'cf31a39f-c58d-4f02-90f1-8d71e206eec6', '2026-01-05 05:54:21.700294', '2026-01-05 05:54:21.700301'))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE7C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '2af89dae-5c17-4a7e-957f-89ee9aa15d30', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'cf31a39f-c58d-4f02-90f1-8d71e206eec6', '2026-01-05 05:54:21.700294', '2026-01-05 05:54:21.700301')) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE7C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE7C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE340>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('18d0b65b-5e90-4646-99a4-b08d762a6fd0', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'c1e24440-a0d4-4859-919e-02d88a2bce62', '2026-01-05 05:54:21.702740', '2026-01-05 05:54:21.702743', '436e08aa-3e4c-4bab-bb98-d7964ed5481b', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '8b3aaf38-9a10-4909-9cfb-d826602189d9', '2026-01-05 05:54:21.702748', '2026-01-05 05:54:21.702749'))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE340>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('18d0b65b-5e90-4646-99a4-b08d762a6fd0', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'c1e24440-a0d4-4859-919e-02d88a2bce62', '2026-01-05 05:54:21.702740', '2026-01-05 05:54:21.702743', '436e08aa-3e4c-4bab-bb98-d7964ed5481b', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '8b3aaf38-9a10-4909-9cfb-d826602189d9', '2026-01-05 05:54:21.702748', '2026-01-05 05:54:21.702749')) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE340>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE340>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF9C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('f2842555-e5c3-424a-a537-15eba06cf8ac',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF9C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('f2842555-e5c3-424a-a537-15eba06cf8ac',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58959C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('f2842555-e5c3-424a-a537-15eba06cf8ac',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58959C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('f2842555-e5c3-424a-a537-15eba06cf8ac',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58959C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58959C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58959C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58959C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58961C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('f2842555-e5c3-424a-a537-15eba06cf8ac',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58961C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('f2842555-e5c3-424a-a537-15eba06cf8ac',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58961C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58961C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58961C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58961C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED0C0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000'))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED0C0>, 'SELECT count(production_events.id) AS count_1 \nFROM production_events \nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000')) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58963C0>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58963C0>, 'SELECT count(production_runs.id) AS count_1 \nFROM production_runs \nWHERE date(production_runs.production_date) = ?', ('2026-01-05',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58963C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58963C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58963C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58963C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE6C0>, 'SELECT date(production_runs.production_date) AS production_date, sum(production_runs.actual_qty) AS actual, sum(production_runs.planned_qty) AS target \nFROM production_runs \nWHERE date(production_runs.production_date) >= ? AND date(production_runs.production_date) <= ? GROUP BY date(production_runs.production_date) ORDER BY date(production_runs.production_date)', ('2025-12-30', '2026-01-05'))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE6C0>, 'SELECT date(production_runs.production_date) AS production_date, sum(production_runs.actual_qty) AS actual, sum(production_runs.planned_qty) AS target \nFROM production_runs \nWHERE date(production_runs.production_date) >= ? AND date(production_runs.production_date) <= ? GROUP BY date(production_runs.production_date) ORDER BY date(production_runs.production_date)', ('2025-12-30', '2026-01-05')) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE6C0>) completed
2026-01-05 00:54:21 | INFO     | httpx | HTTP Request: GET http://test/api/v1/analytics/production-chart "HTTP/1.1 200 OK"
PASSED2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE240>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE240>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEE40>, "SELECT name FROM sqlite_master WHERE type='table'", ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEE40>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEE40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEE40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEE40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEE40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF6C0>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF6C0>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70DC0>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70DC0>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70DC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70DC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71840>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71840>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CCC0>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CCC0>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C7C0>, 'DROP TABLE IF EXISTS "traceability_records"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C7C0>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C7C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C7C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E440>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E440>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E840>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E840>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896240>, 'DROP TABLE IF EXISTS "dashboards"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896240>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895D40>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895D40>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895D40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895D40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58972C0>, 'DROP TABLE IF EXISTS "data_sources"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58972C0>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58972C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58972C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58977C0>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58977C0>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58977C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58977C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896BC0>, 'DROP TABLE IF EXISTS "production_events"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896BC0>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896BC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896BC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58964C0>, 'DROP TABLE IF EXISTS "factories"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58964C0>, 'DROP TABLE IF EXISTS "factories"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58964C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58964C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896B40>, 'DROP TABLE IF EXISTS "production_lines"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896B40>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896B40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896B40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896140>, 'DROP TABLE IF EXISTS "styles"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896140>, 'DROP TABLE IF EXISTS "styles"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896640>, 'DROP TABLE IF EXISTS "orders"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896640>, 'DROP TABLE IF EXISTS "orders"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895C40>, 'DROP TABLE IF EXISTS "production_runs"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895C40>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58967C0>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58967C0>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58967C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58967C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896440>, 'DROP TABLE IF EXISTS "defects"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896440>, 'DROP TABLE IF EXISTS "defects"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895AC0>, 'DROP TABLE IF EXISTS "raw_imports"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895AC0>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895AC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895AC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58975C0>, 'DROP TABLE IF EXISTS "staging_records"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58975C0>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58975C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58975C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58968C0>, 'DROP TABLE IF EXISTS "packing_lists"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58968C0>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58968C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58968C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897540>, 'DROP TABLE IF EXISTS "cartons"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897540>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896840>, 'DROP TABLE IF EXISTS "organizations"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896840>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895FC0>, 'DROP TABLE IF EXISTS "users"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895FC0>, 'DROP TABLE IF EXISTS "users"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895FC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895FC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896A40>, 'DROP TABLE IF EXISTS "user_scopes"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896A40>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896A40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896A40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896AC0>, 'DROP TABLE IF EXISTS "workers"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896AC0>, 'DROP TABLE IF EXISTS "workers"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896AC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896AC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897440>, 'DROP TABLE IF EXISTS "worker_skills"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897440>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895BC0>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895BC0>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895BC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895BC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896940>, 'DROP TABLE IF EXISTS "production_outputs"', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896940>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58969C0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58969C0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58969C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58969C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed

tests/test_api/test_analytics_real.py::test_get_lowest_performers_real 2026-01-05 00:54:21 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E74540>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E74540>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E74540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E74540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54EC0>, 'PRAGMA main.table_info("ai_decisions")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54EC0>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E54EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E54EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70DC0>, 'PRAGMA temp.table_info("ai_decisions")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70DC0>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70DC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70DC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70DC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70DC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54AC0>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54AC0>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54AC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54AC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5BC0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5BC0>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5BC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5BC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5640>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5640>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41000C0>, 'PRAGMA main.table_info("alias_mappings")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41000C0>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED41000C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED41000C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41000C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41000C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54E40>, 'PRAGMA temp.table_info("alias_mappings")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54E40>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E54E40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E54E40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54E40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54E40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E01040>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E01040>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E01040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E01040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD71C0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD71C0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD71C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD71C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4EC0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4EC0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70140>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70140>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73C40>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73C40>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71840>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71840>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B713C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B713C0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B713C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B713C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7640>, 'PRAGMA main.table_info("efficiency_metrics")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7640>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD7640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD7640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E00FC0>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E00FC0>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E00FC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E00FC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E00FC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E00FC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EAE3FBCC0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EAE3FBCC0>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EAE3FBCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EAE3FBCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70240>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70240>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72B40>, 'PRAGMA main.table_info("dhu_reports")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72B40>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72B40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72B40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72B40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72B40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B735C0>, 'PRAGMA temp.table_info("dhu_reports")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B735C0>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B735C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B735C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B735C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B735C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2EC0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2EC0>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3FCC0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3FCC0>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3FCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3FCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2BC0>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2BC0>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2BC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2BC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3E0C0>, 'PRAGMA main.table_info("traceability_records")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3E0C0>, 'PRAGMA main.table_info("traceability_records")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F3E0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F3E0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3E0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3E0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10240>, 'PRAGMA temp.table_info("traceability_records")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10240>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4043B40>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4043B40>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4043B40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4043B40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF7D40>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF7D40>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF7D40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF7D40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF6EC0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF6EC0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF6EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF6EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11DC0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11DC0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11DC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11DC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF5840>, 'PRAGMA main.table_info("fabric_lots")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF5840>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3EF5840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3EF5840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF5840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF5840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11FC0>, 'PRAGMA temp.table_info("fabric_lots")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11FC0>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B11FC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B11FC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11FC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11FC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED400A8C0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED400A8C0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED400A8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED400A8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93AC0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93AC0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93AC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93AC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B734C0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B734C0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B734C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B734C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F933C0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F933C0>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F933C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F933C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B721C0>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B721C0>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B721C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B721C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40429C0>, 'PRAGMA main.table_info("cut_tickets")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40429C0>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40429C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40429C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40429C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40429C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70940>, 'PRAGMA temp.table_info("cut_tickets")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70940>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB192F3C0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB192F3C0>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB192F3C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB192F3C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB85C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB85C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB85C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB85C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72640>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72640>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73740>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73740>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73740>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73740>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B704C0>, 'PRAGMA main.table_info("dashboards")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B704C0>, 'PRAGMA main.table_info("dashboards")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B704C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B704C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B704C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B704C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72940>, 'PRAGMA temp.table_info("dashboards")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72940>, 'PRAGMA temp.table_info("dashboards")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93740>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93740>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93740>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93740>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B717C0>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B717C0>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B717C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B717C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41EF040>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41EF040>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41EF040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41EF040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7740>, 'PRAGMA main.table_info("data_quality_issues")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7740>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD7740>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD7740>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7740>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7740>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB192F240>, 'PRAGMA temp.table_info("data_quality_issues")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB192F240>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB192F240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB192F240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB192F240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB192F240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4042040>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4042040>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4042040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4042040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB89C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB89C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB89C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB89C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBBD40>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBBD40>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBBD40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBBD40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070940>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070940>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070D40>, 'PRAGMA main.table_info("data_sources")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070D40>, 'PRAGMA main.table_info("data_sources")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070D40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070D40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070D40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070D40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40704C0>, 'PRAGMA temp.table_info("data_sources")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40704C0>, 'PRAGMA temp.table_info("data_sources")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40704C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40704C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40704C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40704C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB340>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB340>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB340>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB340>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F17E40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F17E40>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F17E40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F17E40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AEC0>, 'PRAGMA main.table_info("schema_mappings")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AEC0>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D7AEC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D7AEC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AEC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AEC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AF40>, 'PRAGMA temp.table_info("schema_mappings")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AF40>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D7AF40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D7AF40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AF40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AF40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D62240>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D62240>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D62240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D62240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15EC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15EC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15EC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15EC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72540>, 'PRAGMA main.table_info("production_events")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72540>, 'PRAGMA main.table_info("production_events")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D620C0>, 'PRAGMA temp.table_info("production_events")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D620C0>, 'PRAGMA temp.table_info("production_events")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D620C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D620C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D620C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D620C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D60B40>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D60B40>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D60B40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D60B40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB39C0>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB39C0>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB39C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB39C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3D40>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3D40>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3D40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3D40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4073540>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4073540>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4073540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4073540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071040>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071040>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071B40>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071B40>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071B40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071B40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070C40>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070C40>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3CC0>, 'PRAGMA main.table_info("factories")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3CC0>, 'PRAGMA main.table_info("factories")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0CB3CC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0CB3CC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3CC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3CC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3840>, 'PRAGMA temp.table_info("factories")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3840>, 'PRAGMA temp.table_info("factories")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0CB3840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0CB3840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72840>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72840>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9940>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9940>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8840>, 'PRAGMA main.table_info("production_lines")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8840>, 'PRAGMA main.table_info("production_lines")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD93C0>, 'PRAGMA temp.table_info("production_lines")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD93C0>, 'PRAGMA temp.table_info("production_lines")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD93C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD93C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD93C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD93C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDB740>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDB740>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDB740>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDB740>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8FC0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8FC0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8FC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8FC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8040>, 'PRAGMA main.table_info("styles")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8040>, 'PRAGMA main.table_info("styles")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8240>, 'PRAGMA temp.table_info("styles")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8240>, 'PRAGMA temp.table_info("styles")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAAC0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAAC0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAAC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAAC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDB6C0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDB6C0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDB6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDB6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8BC0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8BC0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8BC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8BC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0140>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0140>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA5C0>, 'PRAGMA main.table_info("orders")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA5C0>, 'PRAGMA main.table_info("orders")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDA5C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDA5C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA5C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA5C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1A40>, 'PRAGMA temp.table_info("orders")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1A40>, 'PRAGMA temp.table_info("orders")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA1A40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA1A40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1A40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1A40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2BC0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2BC0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2BC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2BC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F70140>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F70140>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F70140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F70140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA39C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA39C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA39C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA39C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2CC0>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2CC0>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2CC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2CC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F71140>, 'PRAGMA main.table_info("production_runs")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F71140>, 'PRAGMA main.table_info("production_runs")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F71140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F71140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F71140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F71140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0940>, 'PRAGMA temp.table_info("production_runs")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0940>, 'PRAGMA temp.table_info("production_runs")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3C40>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3C40>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F710C0>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F710C0>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F710C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F710C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D28C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D28C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D28C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D28C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA09C0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA09C0>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA09C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA09C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2AC0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2AC0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2AC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2AC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3BC0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3BC0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3BC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3BC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3C40>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3C40>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0D40>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0D40>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0D40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0D40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2F40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2F40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2F40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2F40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3440>, 'PRAGMA main.table_info("quality_inspections")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3440>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D3440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D3440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0C40>, 'PRAGMA temp.table_info("quality_inspections")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0C40>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0C40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0C40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA05C0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA05C0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA05C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA05C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D1840>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D1840>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D1840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D1840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0540>, 'PRAGMA main.table_info("defects")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0540>, 'PRAGMA main.table_info("defects")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E440>, 'PRAGMA temp.table_info("defects")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E440>, 'PRAGMA temp.table_info("defects")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3E440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3E440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F240>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F240>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C7C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C7C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C7C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C7C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E840>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E840>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E840>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E840>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F8C0>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F8C0>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED424D340>, 'PRAGMA main.table_info("raw_imports")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED424D340>, 'PRAGMA main.table_info("raw_imports")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED424D340>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED424D340>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED424D340>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED424D340>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F940>, 'PRAGMA temp.table_info("raw_imports")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F940>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3F940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3F940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DDC0>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DDC0>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DDC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DDC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F140>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F140>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F9C0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F9C0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EF40>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EF40>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EF40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EF40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DF40>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DF40>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DF40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DF40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CCC0>, 'PRAGMA main.table_info("staging_records")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CCC0>, 'PRAGMA main.table_info("staging_records")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3CCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3CCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C540>, 'PRAGMA temp.table_info("staging_records")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C540>, 'PRAGMA temp.table_info("staging_records")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9C540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9C540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E640>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E640>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D040>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D040>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FAC0>, 'PRAGMA main.table_info("packing_lists")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FAC0>, 'PRAGMA main.table_info("packing_lists")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FAC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FAC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FAC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FAC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E940>, 'PRAGMA temp.table_info("packing_lists")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E940>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E940>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E940>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FE40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FE40>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FE40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FE40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F8C0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F8C0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EE40>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EE40>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EE40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EE40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DB40>, 'PRAGMA main.table_info("cartons")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DB40>, 'PRAGMA main.table_info("cartons")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9DB40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9DB40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DB40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DB40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FD40>, 'PRAGMA temp.table_info("cartons")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FD40>, 'PRAGMA temp.table_info("cartons")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FD40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FD40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FD40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FD40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9ED40>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9ED40>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9ED40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9ED40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C0C0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C0C0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15DC0>, 'PRAGMA main.table_info("organizations")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15DC0>, 'PRAGMA main.table_info("organizations")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F15DC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F15DC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15DC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15DC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDCC0>, 'PRAGMA temp.table_info("organizations")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDCC0>, 'PRAGMA temp.table_info("organizations")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EDCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EDCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDCC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDCC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE0C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE0C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE240>, 'PRAGMA main.table_info("users")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE240>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF6C0>, 'PRAGMA temp.table_info("users")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF6C0>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD99C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD99C0>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD99C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD99C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDD40>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDD40>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDD40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDD40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF9C0>, 'PRAGMA main.table_info("user_scopes")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF9C0>, 'PRAGMA main.table_info("user_scopes")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDB40>, 'PRAGMA temp.table_info("user_scopes")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDB40>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EDB40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EDB40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDB40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDB40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFAC0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFAC0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFAC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFAC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC6C0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC6C0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC040>, 'PRAGMA main.table_info("workers")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC040>, 'PRAGMA main.table_info("workers")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC9C0>, 'PRAGMA temp.table_info("workers")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC9C0>, 'PRAGMA temp.table_info("workers")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC9C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC9C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECBC0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECBC0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECBC0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECBC0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE6C0>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE6C0>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED040>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED040>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED040>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED040>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC140>, 'PRAGMA main.table_info("worker_skills")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC140>, 'PRAGMA main.table_info("worker_skills")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED340>, 'PRAGMA temp.table_info("worker_skills")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED340>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED340>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED340>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED340>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED340>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE140>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE140>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE140>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE140>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED8C0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED8C0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE540>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE540>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE540>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE540>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE440>, 'PRAGMA main.table_info("worker_attendances")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE440>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC440>, 'PRAGMA temp.table_info("worker_attendances")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC440>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC440>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC440>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF5C0>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF5C0>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF5C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF5C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED640>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED640>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED4C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED4C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED4C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED4C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC240>, 'PRAGMA main.table_info("production_outputs")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC240>, 'PRAGMA main.table_info("production_outputs")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC240>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC240>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED0C0>, 'PRAGMA temp.table_info("production_outputs")', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED0C0>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC8C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC8C0>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC8C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC8C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFC40>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFC40>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFC40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFC40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED6C0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED6C0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC0C0>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC0C0>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC0C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC0C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF4C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '478066e8-3638-4d50-b979-473833bd55db', '2026-01-05 05:54:21.961013', '2026-01-05 05:54:21.961017', 0, None))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF4C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '478066e8-3638-4d50-b979-473833bd55db', '2026-01-05 05:54:21.961013', '2026-01-05 05:54:21.961017', 0, None)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF4C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF4C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEC40>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('478066e8-3638-4d50-b979-473833bd55db',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEC40>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('478066e8-3638-4d50-b979-473833bd55db',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEC40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEC40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEC40>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEC40>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE1C0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('478066e8-3638-4d50-b979-473833bd55db',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE1C0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('478066e8-3638-4d50-b979-473833bd55db',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE1C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE1C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE1C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE1C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897640>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('478066e8-3638-4d50-b979-473833bd55db',))
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897640>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('478066e8-3638-4d50-b979-473833bd55db',)) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5897640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5897640>) completed
2026-01-05 00:54:21 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897640>)
2026-01-05 00:54:21 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDDC0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('478066e8-3638-4d50-b979-473833bd55db', 'test@example.com', '$2b$12$a4Y7l.yZFudAj4geb1M.X.glLKaGVC8zczQlC6nuPzKnoR6As/nOK', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'ec88c0ce-8734-41c2-b008-b8def7bafabe', '2026-01-05 05:54:22.204331', '2026-01-05 05:54:22.204336', 0, None))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDDC0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('478066e8-3638-4d50-b979-473833bd55db', 'test@example.com', '$2b$12$a4Y7l.yZFudAj4geb1M.X.glLKaGVC8zczQlC6nuPzKnoR6As/nOK', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'ec88c0ce-8734-41c2-b008-b8def7bafabe', '2026-01-05 05:54:22.204331', '2026-01-05 05:54:22.204336', 0, None)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDDC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDDC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFA40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('ec88c0ce-8734-41c2-b008-b8def7bafabe',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFA40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('ec88c0ce-8734-41c2-b008-b8def7bafabe',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EFA40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EFA40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFA40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFA40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDE40>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('ec88c0ce-8734-41c2-b008-b8def7bafabe',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDE40>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('ec88c0ce-8734-41c2-b008-b8def7bafabe',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EDE40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EDE40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDE40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDE40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE340>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('ec88c0ce-8734-41c2-b008-b8def7bafabe',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE340>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('ec88c0ce-8734-41c2-b008-b8def7bafabe',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE340>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE340>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE340>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE340>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED9C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('478066e8-3638-4d50-b979-473833bd55db', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '9a33126d-ac68-4447-9f95-e44372f56a0c', '2026-01-05 05:54:22.219118', '2026-01-05 05:54:22.219122'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED9C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('478066e8-3638-4d50-b979-473833bd55db', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '9a33126d-ac68-4447-9f95-e44372f56a0c', '2026-01-05 05:54:22.219118', '2026-01-05 05:54:22.219122')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED9C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED9C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFF40>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('9a33126d-ac68-4447-9f95-e44372f56a0c',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFF40>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('9a33126d-ac68-4447-9f95-e44372f56a0c',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EFF40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EFF40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFF40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFF40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895D40>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('9a33126d-ac68-4447-9f95-e44372f56a0c',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895D40>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('9a33126d-ac68-4447-9f95-e44372f56a0c',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5895D40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5895D40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895D40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895D40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58975C0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('9a33126d-ac68-4447-9f95-e44372f56a0c',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58975C0>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('9a33126d-ac68-4447-9f95-e44372f56a0c',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58975C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58975C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58975C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58975C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58968C0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('9a33126d-ac68-4447-9f95-e44372f56a0c',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58968C0>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('9a33126d-ac68-4447-9f95-e44372f56a0c',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58968C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58968C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58968C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58968C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58969C0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('9a33126d-ac68-4447-9f95-e44372f56a0c',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58969C0>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('9a33126d-ac68-4447-9f95-e44372f56a0c',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58969C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58969C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58969C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58969C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897340>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('9a33126d-ac68-4447-9f95-e44372f56a0c',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897340>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('9a33126d-ac68-4447-9f95-e44372f56a0c',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5897340>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5897340>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897340>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897340>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE4C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('9a33126d-ac68-4447-9f95-e44372f56a0c', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, 'fb4e78df-e10b-42f1-a976-358f0abda626', '2026-01-05 05:54:22.242785', '2026-01-05 05:54:22.242789'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE4C0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('9a33126d-ac68-4447-9f95-e44372f56a0c', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, 'fb4e78df-e10b-42f1-a976-358f0abda626', '2026-01-05 05:54:22.242785', '2026-01-05 05:54:22.242789')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE4C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE4C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC5C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('fb4e78df-e10b-42f1-a976-358f0abda626',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC5C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('fb4e78df-e10b-42f1-a976-358f0abda626',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC5C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC5C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC5C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC5C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58974C0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('fb4e78df-e10b-42f1-a976-358f0abda626',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58974C0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('fb4e78df-e10b-42f1-a976-358f0abda626',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58974C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58974C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58974C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58974C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58979C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('fb4e78df-e10b-42f1-a976-358f0abda626',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58979C0>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('fb4e78df-e10b-42f1-a976-358f0abda626',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58979C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58979C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58979C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58979C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF540>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('9a33126d-ac68-4447-9f95-e44372f56a0c', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, 'edbf68e7-9f39-42bc-8fbf-9a353e9842f8', '2026-01-05 05:54:22.259554', '2026-01-05 05:54:22.259564'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF540>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('9a33126d-ac68-4447-9f95-e44372f56a0c', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, 'edbf68e7-9f39-42bc-8fbf-9a353e9842f8', '2026-01-05 05:54:22.259554', '2026-01-05 05:54:22.259564')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC1C0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('edbf68e7-9f39-42bc-8fbf-9a353e9842f8', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'b780333b-2e7b-40bf-9ed9-45df2b09b33b', '2026-01-05 05:54:22.263299', '2026-01-05 05:54:22.263305'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC1C0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('edbf68e7-9f39-42bc-8fbf-9a353e9842f8', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'b780333b-2e7b-40bf-9ed9-45df2b09b33b', '2026-01-05 05:54:22.263299', '2026-01-05 05:54:22.263305')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC1C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC1C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF240>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('9a33126d-ac68-4447-9f95-e44372f56a0c', 'b780333b-2e7b-40bf-9ed9-45df2b09b33b', 'fb4e78df-e10b-42f1-a976-358f0abda626', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '856de9cc-5b0a-49a7-a3ee-efa4229dc39e', '2026-01-05 05:54:22.266903', '2026-01-05 05:54:22.266909'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF240>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('9a33126d-ac68-4447-9f95-e44372f56a0c', 'b780333b-2e7b-40bf-9ed9-45df2b09b33b', 'fb4e78df-e10b-42f1-a976-358f0abda626', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '856de9cc-5b0a-49a7-a3ee-efa4229dc39e', '2026-01-05 05:54:22.266903', '2026-01-05 05:54:22.266909')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEA40>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('856de9cc-5b0a-49a7-a3ee-efa4229dc39e', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:54:22.269848', '3a21f3d4-6222-4991-8b35-e9a8eb9f0448', '2026-01-05 05:54:22.270515', '2026-01-05 05:54:22.270519'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEA40>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('856de9cc-5b0a-49a7-a3ee-efa4229dc39e', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:54:22.269848', '3a21f3d4-6222-4991-8b35-e9a8eb9f0448', '2026-01-05 05:54:22.270515', '2026-01-05 05:54:22.270519')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEA40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEA40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEBC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('9a33126d-ac68-4447-9f95-e44372f56a0c', 'WK-001', 'High Performer', None, None, None, 'fb4e78df-e10b-42f1-a976-358f0abda626', None, None, None, 'USD', 1, '34014ce8-308e-41e3-856e-656d0d70f654', '2026-01-05 05:54:22.272992', '2026-01-05 05:54:22.272996', 0, None, '9a33126d-ac68-4447-9f95-e44372f56a0c', 'WK-002', 'Low Performer', None, None, None, 'fb4e78df-e10b-42f1-a976-358f0abda626', None, None, None, 'USD', 1, 'ae505b84-3f10-4b4f-a500-7fa269715532', '2026-01-05 05:54:22.273012', '2026-01-05 05:54:22.273013', 0, None))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEBC0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('9a33126d-ac68-4447-9f95-e44372f56a0c', 'WK-001', 'High Performer', None, None, None, 'fb4e78df-e10b-42f1-a976-358f0abda626', None, None, None, 'USD', 1, '34014ce8-308e-41e3-856e-656d0d70f654', '2026-01-05 05:54:22.272992', '2026-01-05 05:54:22.272996', 0, None, '9a33126d-ac68-4447-9f95-e44372f56a0c', 'WK-002', 'Low Performer', None, None, None, 'fb4e78df-e10b-42f1-a976-358f0abda626', None, None, None, 'USD', 1, 'ae505b84-3f10-4b4f-a500-7fa269715532', '2026-01-05 05:54:22.273012', '2026-01-05 05:54:22.273013', 0, None)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEBC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEBC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF8C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '856de9cc-5b0a-49a7-a3ee-efa4229dc39e', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '2623f181-96fe-48ff-9693-79270de4c738', '2026-01-05 05:54:22.276352', '2026-01-05 05:54:22.276357'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF8C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '856de9cc-5b0a-49a7-a3ee-efa4229dc39e', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '2623f181-96fe-48ff-9693-79270de4c738', '2026-01-05 05:54:22.276352', '2026-01-05 05:54:22.276357')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF8C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF8C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDC40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('34014ce8-308e-41e3-856e-656d0d70f654', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'b271bd99-c14b-48dc-b2a2-2d45247e6d0d', '2026-01-05 05:54:22.278788', '2026-01-05 05:54:22.278792', 'ae505b84-3f10-4b4f-a500-7fa269715532', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '633b2664-705e-427b-a6c7-f3f73ed393c5', '2026-01-05 05:54:22.278803', '2026-01-05 05:54:22.278804'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDC40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('34014ce8-308e-41e3-856e-656d0d70f654', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'b271bd99-c14b-48dc-b2a2-2d45247e6d0d', '2026-01-05 05:54:22.278788', '2026-01-05 05:54:22.278792', 'ae505b84-3f10-4b4f-a500-7fa269715532', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, '633b2664-705e-427b-a6c7-f3f73ed393c5', '2026-01-05 05:54:22.278803', '2026-01-05 05:54:22.278804')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDC40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDC40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897940>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('ec88c0ce-8734-41c2-b008-b8def7bafabe',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897940>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('ec88c0ce-8734-41c2-b008-b8def7bafabe',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5897940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5897940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896E40>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('ec88c0ce-8734-41c2-b008-b8def7bafabe',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896E40>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('ec88c0ce-8734-41c2-b008-b8def7bafabe',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5896E40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5896E40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896E40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896E40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58953C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('ec88c0ce-8734-41c2-b008-b8def7bafabe',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58953C0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('ec88c0ce-8734-41c2-b008-b8def7bafabe',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58953C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58953C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58953C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58953C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC540>, 'SELECT workers.factory_id, workers.employee_id, workers.full_name, workers.department, workers.job_title, workers.primary_skill, workers.line_id, workers.hire_date, workers.termination_date, workers.hourly_rate, workers.currency, workers.is_active, workers.id, workers.created_at, workers.updated_at, workers.is_deleted, workers.deleted_at, worker_skills.worker_id, worker_skills.operation, worker_skills.operation_category, worker_skills.proficiency_pct, worker_skills.sam_achieved, worker_skills.efficiency_pct, worker_skills.defect_rate_pct, worker_skills.pieces_lifetime, worker_skills.pieces_30d, worker_skills.is_certified, worker_skills.certification_date, worker_skills.last_assessed, worker_skills.id AS id_1, worker_skills.created_at AS created_at_1, worker_skills.updated_at AS updated_at_1, production_lines.name AS line_name \nFROM workers JOIN worker_skills ON workers.id = worker_skills.worker_id LEFT OUTER JOIN production_lines ON workers.line_id = production_lines.id \nWHERE workers.is_active = 1 ORDER BY worker_skills.efficiency_pct ASC\n LIMIT ? OFFSET ?', (5, 0))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC540>, 'SELECT workers.factory_id, workers.employee_id, workers.full_name, workers.department, workers.job_title, workers.primary_skill, workers.line_id, workers.hire_date, workers.termination_date, workers.hourly_rate, workers.currency, workers.is_active, workers.id, workers.created_at, workers.updated_at, workers.is_deleted, workers.deleted_at, worker_skills.worker_id, worker_skills.operation, worker_skills.operation_category, worker_skills.proficiency_pct, worker_skills.sam_achieved, worker_skills.efficiency_pct, worker_skills.defect_rate_pct, worker_skills.pieces_lifetime, worker_skills.pieces_30d, worker_skills.is_certified, worker_skills.certification_date, worker_skills.last_assessed, worker_skills.id AS id_1, worker_skills.created_at AS created_at_1, worker_skills.updated_at AS updated_at_1, production_lines.name AS line_name \nFROM workers JOIN worker_skills ON workers.id = worker_skills.worker_id LEFT OUTER JOIN production_lines ON workers.line_id = production_lines.id \nWHERE workers.is_active = 1 ORDER BY worker_skills.efficiency_pct ASC\n LIMIT ? OFFSET ?', (5, 0)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5894240>, 'SELECT worker_skills.worker_id AS worker_skills_worker_id, worker_skills.operation AS worker_skills_operation, worker_skills.operation_category AS worker_skills_operation_category, worker_skills.proficiency_pct AS worker_skills_proficiency_pct, worker_skills.sam_achieved AS worker_skills_sam_achieved, worker_skills.efficiency_pct AS worker_skills_efficiency_pct, worker_skills.defect_rate_pct AS worker_skills_defect_rate_pct, worker_skills.pieces_lifetime AS worker_skills_pieces_lifetime, worker_skills.pieces_30d AS worker_skills_pieces_30d, worker_skills.is_certified AS worker_skills_is_certified, worker_skills.certification_date AS worker_skills_certification_date, worker_skills.last_assessed AS worker_skills_last_assessed, worker_skills.id AS worker_skills_id, worker_skills.created_at AS worker_skills_created_at, worker_skills.updated_at AS worker_skills_updated_at \nFROM worker_skills \nWHERE worker_skills.worker_id IN (?, ?)', ('ae505b84-3f10-4b4f-a500-7fa269715532', '34014ce8-308e-41e3-856e-656d0d70f654'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5894240>, 'SELECT worker_skills.worker_id AS worker_skills_worker_id, worker_skills.operation AS worker_skills_operation, worker_skills.operation_category AS worker_skills_operation_category, worker_skills.proficiency_pct AS worker_skills_proficiency_pct, worker_skills.sam_achieved AS worker_skills_sam_achieved, worker_skills.efficiency_pct AS worker_skills_efficiency_pct, worker_skills.defect_rate_pct AS worker_skills_defect_rate_pct, worker_skills.pieces_lifetime AS worker_skills_pieces_lifetime, worker_skills.pieces_30d AS worker_skills_pieces_30d, worker_skills.is_certified AS worker_skills_is_certified, worker_skills.certification_date AS worker_skills_certification_date, worker_skills.last_assessed AS worker_skills_last_assessed, worker_skills.id AS worker_skills_id, worker_skills.created_at AS worker_skills_created_at, worker_skills.updated_at AS worker_skills_updated_at \nFROM worker_skills \nWHERE worker_skills.worker_id IN (?, ?)', ('ae505b84-3f10-4b4f-a500-7fa269715532', '34014ce8-308e-41e3-856e-656d0d70f654')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5894240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5894240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5894240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5894240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58943C0>, 'SELECT worker_attendances.worker_id AS worker_attendances_worker_id, worker_attendances.work_date AS worker_attendances_work_date, worker_attendances.clock_in AS worker_attendances_clock_in, worker_attendances.clock_out AS worker_attendances_clock_out, worker_attendances.hours_regular AS worker_attendances_hours_regular, worker_attendances.hours_overtime AS worker_attendances_hours_overtime, worker_attendances.hours_total AS worker_attendances_hours_total, worker_attendances.is_present AS worker_attendances_is_present, worker_attendances.absence_reason AS worker_attendances_absence_reason, worker_attendances.is_approved AS worker_attendances_is_approved, worker_attendances.id AS worker_attendances_id, worker_attendances.created_at AS worker_attendances_created_at, worker_attendances.updated_at AS worker_attendances_updated_at \nFROM worker_attendances \nWHERE worker_attendances.worker_id IN (?, ?)', ('ae505b84-3f10-4b4f-a500-7fa269715532', '34014ce8-308e-41e3-856e-656d0d70f654'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58943C0>, 'SELECT worker_attendances.worker_id AS worker_attendances_worker_id, worker_attendances.work_date AS worker_attendances_work_date, worker_attendances.clock_in AS worker_attendances_clock_in, worker_attendances.clock_out AS worker_attendances_clock_out, worker_attendances.hours_regular AS worker_attendances_hours_regular, worker_attendances.hours_overtime AS worker_attendances_hours_overtime, worker_attendances.hours_total AS worker_attendances_hours_total, worker_attendances.is_present AS worker_attendances_is_present, worker_attendances.absence_reason AS worker_attendances_absence_reason, worker_attendances.is_approved AS worker_attendances_is_approved, worker_attendances.id AS worker_attendances_id, worker_attendances.created_at AS worker_attendances_created_at, worker_attendances.updated_at AS worker_attendances_updated_at \nFROM worker_attendances \nWHERE worker_attendances.worker_id IN (?, ?)', ('ae505b84-3f10-4b4f-a500-7fa269715532', '34014ce8-308e-41e3-856e-656d0d70f654')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58943C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58943C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58943C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58943C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4622540>, 'SELECT production_outputs.worker_id AS production_outputs_worker_id, production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \nFROM production_outputs \nWHERE production_outputs.worker_id IN (?, ?)', ('ae505b84-3f10-4b4f-a500-7fa269715532', '34014ce8-308e-41e3-856e-656d0d70f654'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4622540>, 'SELECT production_outputs.worker_id AS production_outputs_worker_id, production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \nFROM production_outputs \nWHERE production_outputs.worker_id IN (?, ?)', ('ae505b84-3f10-4b4f-a500-7fa269715532', '34014ce8-308e-41e3-856e-656d0d70f654')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4622540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4622540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4622540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4622540>) completed
2026-01-05 00:54:22 | INFO     | httpx | HTTP Request: GET http://test/api/v1/analytics/workers/lowest-performers?limit=5 "HTTP/1.1 200 OK"
PASSED2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4640>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4640>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE640>, "SELECT name FROM sqlite_master WHERE type='table'", ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE640>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEEC0>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEEC0>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEEC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEEC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC7C0>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC7C0>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC7C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC7C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDAC0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDAC0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDAC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDAC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58964C0>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58964C0>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58964C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58964C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897B40>, 'DROP TABLE IF EXISTS "traceability_records"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897B40>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897B40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897B40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896A40>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896A40>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896A40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896A40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897A40>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897A40>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897A40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897A40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896140>, 'DROP TABLE IF EXISTS "dashboards"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896140>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897540>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897540>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58946C0>, 'DROP TABLE IF EXISTS "data_sources"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58946C0>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58946C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58946C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895AC0>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895AC0>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895AC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895AC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896240>, 'DROP TABLE IF EXISTS "production_events"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896240>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58972C0>, 'DROP TABLE IF EXISTS "factories"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58972C0>, 'DROP TABLE IF EXISTS "factories"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58972C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58972C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58960C0>, 'DROP TABLE IF EXISTS "production_lines"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58960C0>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58960C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58960C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896640>, 'DROP TABLE IF EXISTS "styles"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896640>, 'DROP TABLE IF EXISTS "styles"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897440>, 'DROP TABLE IF EXISTS "orders"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897440>, 'DROP TABLE IF EXISTS "orders"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897440>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897440>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897DC0>, 'DROP TABLE IF EXISTS "production_runs"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897DC0>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897DC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897DC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5894040>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5894040>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5894040>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5894040>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4622340>, 'DROP TABLE IF EXISTS "defects"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4622340>, 'DROP TABLE IF EXISTS "defects"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4622340>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4622340>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4622140>, 'DROP TABLE IF EXISTS "raw_imports"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4622140>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4622140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4622140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED46228C0>, 'DROP TABLE IF EXISTS "staging_records"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED46228C0>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED46228C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED46228C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4623C40>, 'DROP TABLE IF EXISTS "packing_lists"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4623C40>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4623C40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4623C40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4622740>, 'DROP TABLE IF EXISTS "cartons"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4622740>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4622740>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4622740>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4622A40>, 'DROP TABLE IF EXISTS "organizations"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4622A40>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4622A40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4622A40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4623940>, 'DROP TABLE IF EXISTS "users"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4623940>, 'DROP TABLE IF EXISTS "users"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4623940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4623940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4623A40>, 'DROP TABLE IF EXISTS "user_scopes"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4623A40>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4623A40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4623A40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED46238C0>, 'DROP TABLE IF EXISTS "workers"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED46238C0>, 'DROP TABLE IF EXISTS "workers"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED46238C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED46238C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED46234C0>, 'DROP TABLE IF EXISTS "worker_skills"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED46234C0>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED46234C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED46234C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED45BC740>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED45BC740>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED45BC740>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED45BC740>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED45BC7C0>, 'DROP TABLE IF EXISTS "production_outputs"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED45BC7C0>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED45BC7C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED45BC7C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED45BC440>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED45BC440>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED45BC440>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED45BC440>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed

tests/test_api/test_analytics_real.py::test_get_discrepancies_real 2026-01-05 00:54:22 | DEBUG    | asyncio | Using proactor: IocpProactor
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED400A8C0>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED400A8C0>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED400A8C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED400A8C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93AC0>, 'PRAGMA main.table_info("ai_decisions")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93AC0>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F93AC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F93AC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93AC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93AC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41EF040>, 'PRAGMA temp.table_info("ai_decisions")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41EF040>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED41EF040>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED41EF040>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41EF040>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41EF040>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F933C0>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F933C0>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F933C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F933C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB192F240>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB192F240>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB192F240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB192F240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93740>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93740>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93740>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93740>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10240>, 'PRAGMA main.table_info("alias_mappings")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10240>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E00FC0>, 'PRAGMA temp.table_info("alias_mappings")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E00FC0>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E00FC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E00FC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E00FC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E00FC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11DC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11DC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11DC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11DC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB192F3C0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB192F3C0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB192F3C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB192F3C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB85C0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB85C0>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB85C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB85C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2BC0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2BC0>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2BC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2BC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4623F40>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4623F40>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4623F40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4623F40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBBD40>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBBD40>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBBD40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBBD40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11FC0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11FC0>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11FC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11FC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D620C0>, 'PRAGMA main.table_info("efficiency_metrics")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D620C0>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D620C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D620C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D620C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D620C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AA40>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AA40>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D7AA40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D7AA40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AA40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AA40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB440>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB440>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB440>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB440>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4623940>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4623940>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4623940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4623940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4073540>, 'PRAGMA main.table_info("dhu_reports")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4073540>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4073540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4073540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4073540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4073540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54EC0>, 'PRAGMA temp.table_info("dhu_reports")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3E54EC0>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E54EC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3E54EC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54EC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3E54EC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4043B40>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4043B40>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4043B40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4043B40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4042040>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4042040>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4042040>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4042040>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071B40>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071B40>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071B40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071B40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB89C0>, 'PRAGMA main.table_info("traceability_records")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB89C0>, 'PRAGMA main.table_info("traceability_records")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FB89C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FB89C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB89C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB89C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB340>, 'PRAGMA temp.table_info("traceability_records")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB340>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBB340>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBB340>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB340>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB340>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AEC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AEC0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AEC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AEC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070C40>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070C40>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070C40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070C40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AF40>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D7AF40>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AF40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D7AF40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB39C0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB39C0>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB39C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB39C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070940>, 'PRAGMA main.table_info("fabric_lots")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070940>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D60B40>, 'PRAGMA temp.table_info("fabric_lots")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D60B40>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D60B40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0D60B40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D60B40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D60B40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB36C0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB36C0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB36C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB36C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB38C0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB38C0>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB38C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB38C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3CC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3CC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3CC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3CC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3840>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3840>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3840>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3840>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73C40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73C40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73C40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73C40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB37C0>, 'PRAGMA main.table_info("cut_tickets")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB37C0>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0CB37C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0CB37C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB37C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB37C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3D40>, 'PRAGMA temp.table_info("cut_tickets")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0CB3D40>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0CB3D40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EB0CB3D40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3D40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0CB3D40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72B40>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72B40>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72B40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72B40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B721C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B721C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B721C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B721C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B713C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B713C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B713C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B713C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70140>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70140>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B733C0>, 'PRAGMA main.table_info("dashboards")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B733C0>, 'PRAGMA main.table_info("dashboards")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B733C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B733C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B733C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B733C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72940>, 'PRAGMA temp.table_info("dashboards")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72940>, 'PRAGMA temp.table_info("dashboards")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D1840>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D1840>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D1840>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D1840>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3440>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3440>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3440>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3440>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B734C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B734C0>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B734C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B734C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D28C0>, 'PRAGMA main.table_info("data_quality_issues")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D28C0>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D28C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D28C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D28C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D28C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70DC0>, 'PRAGMA temp.table_info("data_quality_issues")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70DC0>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70DC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70DC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70DC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70DC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3C40>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3C40>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3C40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3C40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F710C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F710C0>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F710C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F710C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F70140>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F70140>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F70140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F70140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73740>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73740>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73740>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73740>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F71140>, 'PRAGMA main.table_info("data_sources")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F71140>, 'PRAGMA main.table_info("data_sources")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F71140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F71140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F71140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F71140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70240>, 'PRAGMA temp.table_info("data_sources")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70240>, 'PRAGMA temp.table_info("data_sources")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72540>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72540>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72840>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72840>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72840>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72840>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71EC0>, 'PRAGMA main.table_info("schema_mappings")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71EC0>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B71EC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B71EC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71EC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71EC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B706C0>, 'PRAGMA temp.table_info("schema_mappings")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B706C0>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B706C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B706C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B706C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B706C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72640>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72640>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B737C0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B737C0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B737C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B737C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B717C0>, 'PRAGMA main.table_info("production_events")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B717C0>, 'PRAGMA main.table_info("production_events")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B717C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B717C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B717C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B717C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71840>, 'PRAGMA temp.table_info("production_events")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71840>, 'PRAGMA temp.table_info("production_events")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B71840>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B71840>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71840>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71840>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA09C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA09C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA09C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA09C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0540>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0540>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0940>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0940>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0140>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0140>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2AC0>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2AC0>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2AC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2AC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2F40>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2F40>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2F40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2F40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2CC0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2CC0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2CC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2CC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3BC0>, 'PRAGMA main.table_info("factories")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3BC0>, 'PRAGMA main.table_info("factories")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA3BC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA3BC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3BC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3BC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0C40>, 'PRAGMA temp.table_info("factories")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0C40>, 'PRAGMA temp.table_info("factories")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0C40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0C40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0C40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0C40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D62240>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EB0D62240>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D62240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EB0D62240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA05C0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA05C0>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA05C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA05C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA36C0>, 'PRAGMA main.table_info("production_lines")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA36C0>, 'PRAGMA main.table_info("production_lines")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA36C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA36C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA36C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA36C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0740>, 'PRAGMA temp.table_info("production_lines")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0740>, 'PRAGMA temp.table_info("production_lines")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0740>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0740>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0740>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0740>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1740>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1740>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1740>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1740>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1A40>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1A40>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1A40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1A40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0D40>, 'PRAGMA main.table_info("styles")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0D40>, 'PRAGMA main.table_info("styles")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0D40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0D40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0D40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0D40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DDC0>, 'PRAGMA temp.table_info("styles")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DDC0>, 'PRAGMA temp.table_info("styles")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3DDC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3DDC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DDC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DDC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F17E40>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F17E40>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F17E40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F17E40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DFC0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DFC0>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DFC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DFC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CCC0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CCC0>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CCC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CCC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E840>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E840>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E840>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E840>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40704C0>, 'PRAGMA main.table_info("orders")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40704C0>, 'PRAGMA main.table_info("orders")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40704C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40704C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40704C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40704C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15EC0>, 'PRAGMA temp.table_info("orders")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15EC0>, 'PRAGMA temp.table_info("orders")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F15EC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F15EC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15EC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15EC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C7C0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C7C0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C7C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C7C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8C40>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8C40>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8C40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8C40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD99C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD99C0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD99C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD99C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8040>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8040>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8040>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8040>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F940>, 'PRAGMA main.table_info("production_runs")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F940>, 'PRAGMA main.table_info("production_runs")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3F940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3F940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAA40>, 'PRAGMA temp.table_info("production_runs")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAA40>, 'PRAGMA temp.table_info("production_runs")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDAA40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDAA40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAA40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAA40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9940>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9940>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8840>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8840>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8840>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8840>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA5C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA5C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA5C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA5C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9A40>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9A40>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9A40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9A40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAAC0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAAC0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAAC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAAC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA2C0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA2C0>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA2C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA2C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8240>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8240>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDB6C0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDB6C0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDB6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDB6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD93C0>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD93C0>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD93C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD93C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8FC0>, 'PRAGMA main.table_info("quality_inspections")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8FC0>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8FC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8FC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8FC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8FC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDB740>, 'PRAGMA temp.table_info("quality_inspections")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDB740>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDB740>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDB740>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDB740>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDB740>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8BC0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8BC0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8BC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8BC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58973C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58973C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58973C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58973C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA7C0>, 'PRAGMA main.table_info("defects")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA7C0>, 'PRAGMA main.table_info("defects")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDA7C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BDA7C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA7C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA7C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896240>, 'PRAGMA temp.table_info("defects")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896240>, 'PRAGMA temp.table_info("defects")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5896240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5896240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58946C0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58946C0>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58946C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58946C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897A40>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897A40>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897A40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897A40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895040>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895040>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895040>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895040>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895D40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5895D40>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895D40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5895D40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58960C0>, 'PRAGMA main.table_info("raw_imports")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58960C0>, 'PRAGMA main.table_info("raw_imports")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58960C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58960C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58960C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58960C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58968C0>, 'PRAGMA temp.table_info("raw_imports")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58968C0>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58968C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58968C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58968C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58968C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5894C40>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5894C40>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5894C40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5894C40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5894240>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5894240>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5894240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5894240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58943C0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58943C0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58943C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58943C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896640>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896640>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897340>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897340>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897340>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897340>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58979C0>, 'PRAGMA main.table_info("staging_records")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58979C0>, 'PRAGMA main.table_info("staging_records")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58979C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58979C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58979C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58979C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897DC0>, 'PRAGMA temp.table_info("staging_records")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897DC0>, 'PRAGMA temp.table_info("staging_records")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5897DC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5897DC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897DC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897DC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58953C0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58953C0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58953C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58953C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897940>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897940>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58971C0>, 'PRAGMA main.table_info("packing_lists")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58971C0>, 'PRAGMA main.table_info("packing_lists")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58971C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58971C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58971C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58971C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897640>, 'PRAGMA temp.table_info("packing_lists")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897640>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5897640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5897640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58964C0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58964C0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58964C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58964C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58969C0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58969C0>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58969C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58969C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58974C0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58974C0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58974C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58974C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5894040>, 'PRAGMA main.table_info("cartons")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5894040>, 'PRAGMA main.table_info("cartons")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5894040>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5894040>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5894040>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5894040>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896140>, 'PRAGMA temp.table_info("cartons")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5896140>, 'PRAGMA temp.table_info("cartons")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5896140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED5896140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5896140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897B40>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED5897B40>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897B40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED5897B40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FD40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FD40>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FD40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FD40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FAC0>, 'PRAGMA main.table_info("organizations")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FAC0>, 'PRAGMA main.table_info("organizations")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FAC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FAC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FAC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FAC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F240>, 'PRAGMA temp.table_info("organizations")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F240>, 'PRAGMA temp.table_info("organizations")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9F240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9F240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED42373C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED42373C0>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED42373C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED42373C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41FFD40>, 'PRAGMA main.table_info("users")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41FFD40>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED41FFD40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED41FFD40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41FFD40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41FFD40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E940>, 'PRAGMA temp.table_info("users")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E940>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED424D340>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED424D340>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED424D340>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED424D340>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9ED40>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9ED40>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9ED40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9ED40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DB40>, 'PRAGMA main.table_info("user_scopes")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DB40>, 'PRAGMA main.table_info("user_scopes")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9DB40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9DB40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DB40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DB40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F9C0>, 'PRAGMA temp.table_info("user_scopes")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F9C0>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9F9C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9F9C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F9C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F9C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D5C0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D5C0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D5C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D5C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C0C0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C0C0>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C0C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C0C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E5C0>, 'PRAGMA main.table_info("workers")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E5C0>, 'PRAGMA main.table_info("workers")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E5C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E5C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E5C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E5C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F140>, 'PRAGMA temp.table_info("workers")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F140>, 'PRAGMA temp.table_info("workers")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9F140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9F140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E640>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E640>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FE40>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FE40>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FE40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FE40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C540>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C540>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D040>, 'PRAGMA main.table_info("worker_skills")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D040>, 'PRAGMA main.table_info("worker_skills")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9D040>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9D040>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D040>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D040>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DF40>, 'PRAGMA temp.table_info("worker_skills")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DF40>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9DF40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9DF40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DF40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DF40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EE40>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EE40>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EE40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EE40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F8C0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F8C0>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F8C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F8C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4640>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4640>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EF40>, 'PRAGMA main.table_info("worker_attendances")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EF40>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9EF40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9EF40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EF40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EF40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD47C0>, 'PRAGMA temp.table_info("worker_attendances")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD47C0>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD47C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD47C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD47C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD47C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5DC0>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5DC0>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5DC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5DC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4140>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4140>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7740>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7740>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7740>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7740>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7CC0>, 'PRAGMA main.table_info("production_outputs")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7CC0>, 'PRAGMA main.table_info("production_outputs")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD7CC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD7CC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7CC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7CC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD68C0>, 'PRAGMA temp.table_info("production_outputs")', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD68C0>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD68C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD68C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD68C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD68C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7940>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7940>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5BC0>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5BC0>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5BC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5BC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD59C0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD59C0>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD59C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD59C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5640>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5640>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECC40>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, 'f91b62da-1fd5-43e3-97db-06f2068cd501', '2026-01-05 05:54:22.649143', '2026-01-05 05:54:22.649147', 0, None))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECC40>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, 'f91b62da-1fd5-43e3-97db-06f2068cd501', '2026-01-05 05:54:22.649143', '2026-01-05 05:54:22.649147', 0, None)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECC40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECC40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD62C0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('f91b62da-1fd5-43e3-97db-06f2068cd501',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD62C0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('f91b62da-1fd5-43e3-97db-06f2068cd501',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD62C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD62C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD62C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD62C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDD40>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('f91b62da-1fd5-43e3-97db-06f2068cd501',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDD40>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('f91b62da-1fd5-43e3-97db-06f2068cd501',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EDD40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EDD40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDD40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDD40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFC40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('f91b62da-1fd5-43e3-97db-06f2068cd501',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFC40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('f91b62da-1fd5-43e3-97db-06f2068cd501',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EFC40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EFC40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFC40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFC40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED46234C0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('f91b62da-1fd5-43e3-97db-06f2068cd501', 'test@example.com', '$2b$12$c5uVbfniSUhv5Jkmfrd4/ehfbOkQBSJUHj7e3g.TcmhazqbqPVZ96', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '8ca892f0-1e71-413a-bd2b-d6975e5d42ed', '2026-01-05 05:54:22.908505', '2026-01-05 05:54:22.908508', 0, None))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED46234C0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('f91b62da-1fd5-43e3-97db-06f2068cd501', 'test@example.com', '$2b$12$c5uVbfniSUhv5Jkmfrd4/ehfbOkQBSJUHj7e3g.TcmhazqbqPVZ96', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, '8ca892f0-1e71-413a-bd2b-d6975e5d42ed', '2026-01-05 05:54:22.908505', '2026-01-05 05:54:22.908508', 0, None)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED46234C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED46234C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4623EC0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('8ca892f0-1e71-413a-bd2b-d6975e5d42ed',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4623EC0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('8ca892f0-1e71-413a-bd2b-d6975e5d42ed',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4623EC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4623EC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4623EC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4623EC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED8C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('8ca892f0-1e71-413a-bd2b-d6975e5d42ed',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED8C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('8ca892f0-1e71-413a-bd2b-d6975e5d42ed',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED8C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED8C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED8C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED8C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED640>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('8ca892f0-1e71-413a-bd2b-d6975e5d42ed',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED640>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('8ca892f0-1e71-413a-bd2b-d6975e5d42ed',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ED640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC240>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('f91b62da-1fd5-43e3-97db-06f2068cd501', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '3ea6e007-a561-4e50-877a-831ec611f63a', '2026-01-05 05:54:22.917642', '2026-01-05 05:54:22.917644'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC240>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('f91b62da-1fd5-43e3-97db-06f2068cd501', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, '3ea6e007-a561-4e50-877a-831ec611f63a', '2026-01-05 05:54:22.917642', '2026-01-05 05:54:22.917644')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF3C0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('3ea6e007-a561-4e50-877a-831ec611f63a',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF3C0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('3ea6e007-a561-4e50-877a-831ec611f63a',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF3C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF3C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF3C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF3C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF9C0>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('3ea6e007-a561-4e50-877a-831ec611f63a',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF9C0>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('3ea6e007-a561-4e50-877a-831ec611f63a',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF9C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF9C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF9C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF9C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF540>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('3ea6e007-a561-4e50-877a-831ec611f63a',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF540>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('3ea6e007-a561-4e50-877a-831ec611f63a',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EF540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE540>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('3ea6e007-a561-4e50-877a-831ec611f63a',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE540>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('3ea6e007-a561-4e50-877a-831ec611f63a',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE540>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE540>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEE40>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('3ea6e007-a561-4e50-877a-831ec611f63a',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEE40>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('3ea6e007-a561-4e50-877a-831ec611f63a',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEE40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EEE40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEE40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEE40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECAC0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('3ea6e007-a561-4e50-877a-831ec611f63a',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECAC0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('3ea6e007-a561-4e50-877a-831ec611f63a',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ECAC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58ECAC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECAC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECAC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEEC0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('3ea6e007-a561-4e50-877a-831ec611f63a', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '19b1d6b4-35d6-4638-94e7-b4e6eabdbf80', '2026-01-05 05:54:22.931630', '2026-01-05 05:54:22.931632'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EEEC0>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('3ea6e007-a561-4e50-877a-831ec611f63a', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '19b1d6b4-35d6-4638-94e7-b4e6eabdbf80', '2026-01-05 05:54:22.931630', '2026-01-05 05:54:22.931632')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEEC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EEEC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC3C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('19b1d6b4-35d6-4638-94e7-b4e6eabdbf80',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC3C0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('19b1d6b4-35d6-4638-94e7-b4e6eabdbf80',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC3C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC3C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC3C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC3C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC1C0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('19b1d6b4-35d6-4638-94e7-b4e6eabdbf80',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC1C0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('19b1d6b4-35d6-4638-94e7-b4e6eabdbf80',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC1C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC1C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC1C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC1C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE640>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('19b1d6b4-35d6-4638-94e7-b4e6eabdbf80',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE640>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('19b1d6b4-35d6-4638-94e7-b4e6eabdbf80',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE640>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE640>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE0C0>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('3ea6e007-a561-4e50-877a-831ec611f63a', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, 'bfe0567b-3e9f-46cd-9d63-c7f199d1cb91', '2026-01-05 05:54:22.939933', '2026-01-05 05:54:22.939937'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE0C0>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('3ea6e007-a561-4e50-877a-831ec611f63a', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, 'bfe0567b-3e9f-46cd-9d63-c7f199d1cb91', '2026-01-05 05:54:22.939933', '2026-01-05 05:54:22.939937')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE0C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE0C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED3C0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('bfe0567b-3e9f-46cd-9d63-c7f199d1cb91', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'f2abdd65-fc64-4c84-8bd1-d0edb68a92ad', '2026-01-05 05:54:22.941414', '2026-01-05 05:54:22.941418'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED3C0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('bfe0567b-3e9f-46cd-9d63-c7f199d1cb91', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'f2abdd65-fc64-4c84-8bd1-d0edb68a92ad', '2026-01-05 05:54:22.941414', '2026-01-05 05:54:22.941418')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED3C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED3C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFAC0>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('3ea6e007-a561-4e50-877a-831ec611f63a', 'f2abdd65-fc64-4c84-8bd1-d0edb68a92ad', '19b1d6b4-35d6-4638-94e7-b4e6eabdbf80', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, 'f109ccb9-49a9-4b96-98a1-b40e13bfb471', '2026-01-05 05:54:22.943256', '2026-01-05 05:54:22.943258'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFAC0>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('3ea6e007-a561-4e50-877a-831ec611f63a', 'f2abdd65-fc64-4c84-8bd1-d0edb68a92ad', '19b1d6b4-35d6-4638-94e7-b4e6eabdbf80', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, 'f109ccb9-49a9-4b96-98a1-b40e13bfb471', '2026-01-05 05:54:22.943256', '2026-01-05 05:54:22.943258')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EFAC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EFAC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFAC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFAC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC7C0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('f109ccb9-49a9-4b96-98a1-b40e13bfb471', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:54:22.945329', '5429afec-e582-4d7c-8a4a-987ca632281e', '2026-01-05 05:54:22.945969', '2026-01-05 05:54:22.945973'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC7C0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('f109ccb9-49a9-4b96-98a1-b40e13bfb471', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:54:22.945329', '5429afec-e582-4d7c-8a4a-987ca632281e', '2026-01-05 05:54:22.945969', '2026-01-05 05:54:22.945973')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC7C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC7C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC6C0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('3ea6e007-a561-4e50-877a-831ec611f63a', 'WK-001', 'High Performer', None, None, None, '19b1d6b4-35d6-4638-94e7-b4e6eabdbf80', None, None, None, 'USD', 1, '94d5ce04-86ff-4e2b-9716-29da571e6a4a', '2026-01-05 05:54:22.947668', '2026-01-05 05:54:22.947671', 0, None, '3ea6e007-a561-4e50-877a-831ec611f63a', 'WK-002', 'Low Performer', None, None, None, '19b1d6b4-35d6-4638-94e7-b4e6eabdbf80', None, None, None, 'USD', 1, 'b9f773c8-be1c-408b-9ed1-57cd4511b6c9', '2026-01-05 05:54:22.947677', '2026-01-05 05:54:22.947677', 0, None))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC6C0>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('3ea6e007-a561-4e50-877a-831ec611f63a', 'WK-001', 'High Performer', None, None, None, '19b1d6b4-35d6-4638-94e7-b4e6eabdbf80', None, None, None, 'USD', 1, '94d5ce04-86ff-4e2b-9716-29da571e6a4a', '2026-01-05 05:54:22.947668', '2026-01-05 05:54:22.947671', 0, None, '3ea6e007-a561-4e50-877a-831ec611f63a', 'WK-002', 'Low Performer', None, None, None, '19b1d6b4-35d6-4638-94e7-b4e6eabdbf80', None, None, None, 'USD', 1, 'b9f773c8-be1c-408b-9ed1-57cd4511b6c9', '2026-01-05 05:54:22.947677', '2026-01-05 05:54:22.947677', 0, None)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED6C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 'f109ccb9-49a9-4b96-98a1-b40e13bfb471', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '212e2363-4c06-4f12-b594-b4d16a6c2fa9', '2026-01-05 05:54:22.949185', '2026-01-05 05:54:22.949187'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED6C0>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 'f109ccb9-49a9-4b96-98a1-b40e13bfb471', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, '212e2363-4c06-4f12-b594-b4d16a6c2fa9', '2026-01-05 05:54:22.949185', '2026-01-05 05:54:22.949187')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE140>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('94d5ce04-86ff-4e2b-9716-29da571e6a4a', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, '454cf293-438d-4c25-bfa3-89cb1a080c53', '2026-01-05 05:54:22.950271', '2026-01-05 05:54:22.950273', 'b9f773c8-be1c-408b-9ed1-57cd4511b6c9', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, 'd045c403-6e37-4ee8-88f5-e6fd42ba9cbb', '2026-01-05 05:54:22.950277', '2026-01-05 05:54:22.950278'))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE140>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('94d5ce04-86ff-4e2b-9716-29da571e6a4a', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, '454cf293-438d-4c25-bfa3-89cb1a080c53', '2026-01-05 05:54:22.950271', '2026-01-05 05:54:22.950273', 'b9f773c8-be1c-408b-9ed1-57cd4511b6c9', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, 'd045c403-6e37-4ee8-88f5-e6fd42ba9cbb', '2026-01-05 05:54:22.950277', '2026-01-05 05:54:22.950278')) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE6C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('8ca892f0-1e71-413a-bd2b-d6975e5d42ed',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE6C0>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ? AND users.is_active = 1', ('8ca892f0-1e71-413a-bd2b-d6975e5d42ed',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EE6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED45BC240>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('8ca892f0-1e71-413a-bd2b-d6975e5d42ed',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED45BC240>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE dashboards.user_id IN (?)', ('8ca892f0-1e71-413a-bd2b-d6975e5d42ed',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED45BC240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED45BC240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED45BC240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED45BC240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED45BC340>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('8ca892f0-1e71-413a-bd2b-d6975e5d42ed',))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED45BC340>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE user_scopes.user_id IN (?)', ('8ca892f0-1e71-413a-bd2b-d6975e5d42ed',)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED45BC340>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED45BC340>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED45BC340>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED45BC340>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED46228C0>, 'SELECT traceability_records.carton_id, traceability_records.fabric_lot_id, traceability_records.cut_ticket_id, traceability_records.production_run_id, traceability_records.compliance_standard, traceability_records.chain_of_custody, traceability_records.supporting_documents, traceability_records.verification_status, traceability_records.verified_by_id, traceability_records.verified_at, traceability_records.risk_score, traceability_records.risk_notes, traceability_records.notes, traceability_records.id, traceability_records.created_at, traceability_records.updated_at \nFROM traceability_records \nWHERE traceability_records.verification_status IN (?, ?, ?) ORDER BY traceability_records.created_at DESC\n LIMIT ? OFFSET ?', ('FLAGGED', 'REJECTED', 'PENDING', 20, 0))
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED46228C0>, 'SELECT traceability_records.carton_id, traceability_records.fabric_lot_id, traceability_records.cut_ticket_id, traceability_records.production_run_id, traceability_records.compliance_standard, traceability_records.chain_of_custody, traceability_records.supporting_documents, traceability_records.verification_status, traceability_records.verified_by_id, traceability_records.verified_at, traceability_records.risk_score, traceability_records.risk_notes, traceability_records.notes, traceability_records.id, traceability_records.created_at, traceability_records.updated_at \nFROM traceability_records \nWHERE traceability_records.verification_status IN (?, ?, ?) ORDER BY traceability_records.created_at DESC\n LIMIT ? OFFSET ?', ('FLAGGED', 'REJECTED', 'PENDING', 20, 0)) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED46228C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED46228C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED46228C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED46228C0>) completed
2026-01-05 00:54:22 | INFO     | httpx | HTTP Request: GET http://test/api/v1/analytics/discrepancies "HTTP/1.1 200 OK"
PASSED2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECF40>, 'PRAGMA foreign_keys=OFF', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECF40>, 'PRAGMA foreign_keys=OFF', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECF40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECF40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EED40>, "SELECT name FROM sqlite_master WHERE type='table'", ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EED40>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EED40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EED40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EED40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EED40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDAC0>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDAC0>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDAC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDAC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE240>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE240>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF5C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF5C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF5C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF5C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFA40>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFA40>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFA40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFA40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED340>, 'DROP TABLE IF EXISTS "traceability_records"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED340>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED340>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED340>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED040>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED040>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED040>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED040>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC8C0>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC8C0>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC8C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC8C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC9C0>, 'DROP TABLE IF EXISTS "dashboards"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC9C0>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC9C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC9C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF940>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF940>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF940>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF940>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC5C0>, 'DROP TABLE IF EXISTS "data_sources"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC5C0>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC5C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC5C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE4C0>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EE4C0>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE4C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EE4C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF8C0>, 'DROP TABLE IF EXISTS "production_events"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF8C0>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF8C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF8C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED0C0>, 'DROP TABLE IF EXISTS "factories"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED0C0>, 'DROP TABLE IF EXISTS "factories"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED0C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED0C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF4C0>, 'DROP TABLE IF EXISTS "production_lines"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EF4C0>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF4C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EF4C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFF40>, 'DROP TABLE IF EXISTS "styles"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EFF40>, 'DROP TABLE IF EXISTS "styles"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFF40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EFF40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDC40>, 'DROP TABLE IF EXISTS "orders"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDC40>, 'DROP TABLE IF EXISTS "orders"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDC40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDC40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC440>, 'DROP TABLE IF EXISTS "production_runs"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC440>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC440>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC440>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437B140>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437B140>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437B140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437B140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437A3C0>, 'DROP TABLE IF EXISTS "defects"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437A3C0>, 'DROP TABLE IF EXISTS "defects"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437A3C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437A3C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437AC40>, 'DROP TABLE IF EXISTS "raw_imports"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437AC40>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437AC40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437AC40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437AB40>, 'DROP TABLE IF EXISTS "staging_records"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437AB40>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437AB40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437AB40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437ADC0>, 'DROP TABLE IF EXISTS "packing_lists"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437ADC0>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437ADC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437ADC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437A2C0>, 'DROP TABLE IF EXISTS "cartons"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437A2C0>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437A2C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437A2C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437B040>, 'DROP TABLE IF EXISTS "organizations"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437B040>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437B040>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437B040>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437AD40>, 'DROP TABLE IF EXISTS "users"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437AD40>, 'DROP TABLE IF EXISTS "users"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437AD40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437AD40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437AAC0>, 'DROP TABLE IF EXISTS "user_scopes"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437AAC0>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437AAC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437AAC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437AEC0>, 'DROP TABLE IF EXISTS "workers"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437AEC0>, 'DROP TABLE IF EXISTS "workers"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437AEC0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437AEC0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437A9C0>, 'DROP TABLE IF EXISTS "worker_skills"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437A9C0>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437A9C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437A9C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437AF40>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437AF40>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437AF40>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437AF40>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437A140>, 'DROP TABLE IF EXISTS "production_outputs"', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437A140>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437A140>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437A140>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437A240>, 'PRAGMA foreign_keys=ON', ())
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED437A240>, 'PRAGMA foreign_keys=ON', ()) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437A240>)
2026-01-05 00:54:22 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED437A240>) completed
2026-01-05 00:54:22 | DEBUG    | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:23 | DEBUG    | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:23 | DEBUG    | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:23 | DEBUG    | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:23 | DEBUG    | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
2026-01-05 00:54:23 | DEBUG    | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
2026-01-05 00:54:23 | DEBUG    | aiosqlite | executing <function Connection.stop.<locals>.close_and_stop at 0x0000022ED3BAB4C0>
2026-01-05 00:54:23 | DEBUG    | aiosqlite | operation <function Connection.stop.<locals>.close_and_stop at 0x0000022ED3BAB4C0> completed


================================== FAILURES ===================================
________________________ test_get_overview_stats_real _________________________
tests\test_api\test_analytics_real.py:127: in test_get_overview_stats_real
    response = await async_client.get(
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1768: in get
    return await self.request(
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1540: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1629: in send
    response = await self._send_handling_auth(
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1657: in _send_handling_auth
    response = await self._send_handling_redirects(
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1694: in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_client.py:1730: in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\httpx\_transports\asgi.py:170: in handle_async_request
    await self.app(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\applications.py:1135: in __call__
    await super().__call__(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\applications.py:107: in __call__
    await self.middleware_stack(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\errors.py:186: in __call__
    raise exc
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\errors.py:164: in __call__
    await self.app(scope, receive, _send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py:191: in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
C:\Python313\Lib\contextlib.py:162: in __exit__
    self.gen.throw(value)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_utils.py:85: in collapse_excgroups
    raise exc
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py:193: in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\debug_toolbar\middleware.py:72: in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py:168: in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\base.py:144: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\cors.py:85: in __call__
    await self.app(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\middleware\exceptions.py:63: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\middleware\asyncexitstack.py:18: in __call__
    await self.app(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py:716: in __call__
    await self.middleware_stack(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py:736: in app
    await route.handle(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\routing.py:290: in handle
    await self.app(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py:119: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
..\..\..\AppData\Roaming\Python\Python313\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py:105: in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py:426: in app
    raw_response = await run_endpoint_function(
..\..\..\AppData\Roaming\Python\Python313\site-packages\fastapi\routing.py:312: in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app\api\v1\endpoints\analytics.py:122: in get_overview_stats
    current_stats = await analytics_service.get_aggregated_stats(
app\services\analytics_service.py:145: in get_aggregated_stats
    stats = self.aggregate_production_stats(logs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app\services\analytics_service.py:68: in aggregate_production_stats
    earned = cls.calculate_earned_minutes(qty, sam)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app\services\analytics_service.py:32: in calculate_earned_minutes
    return float(produced_qty) * float(sam)
                                 ^^^^^^^^^^
E   TypeError: float() argument must be a string or a real number, not 'NoneType'
----------------------------- Captured log setup ------------------------------
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.address`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.address` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.automotive`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.automotive` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.bank`.
DEBUG    faker.factory:factory.py:88 Specified locale `en_US` is not available for provider `faker.providers.bank`. Locale reset to `en_GB` for this provider.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.barcode`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.barcode` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.color`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.color` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.company`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.company` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.credit_card`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.credit_card` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.currency`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.currency` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.date_time`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.date_time` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.doi` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.emoji` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.file` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.geo`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.geo` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.internet`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.internet` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.isbn`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.isbn` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.job`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.job` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.lorem`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.lorem` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.misc`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.misc` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.passport`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.passport` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.person`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.person` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.phone_number`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.phone_number` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.profile` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.python` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.sbn` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.ssn`.
DEBUG    faker.factory:factory.py:97 Provider `faker.providers.ssn` has been localized to `en_US`.
DEBUG    faker.factory:factory.py:108 Provider `faker.providers.user_agent` does not feature localization. Specified locale `en_US` is not used for this provider.
DEBUG    asyncio:proactor_events.py:631 Using proactor: IocpProactor
DEBUG    asyncio:proactor_events.py:631 Using proactor: IocpProactor
DEBUG    asyncio:proactor_events.py:631 Using proactor: IocpProactor
DEBUG    aiosqlite:core.py:62 executing <function connect.<locals>.connector at 0x0000022ED3A52D40>
DEBUG    aiosqlite:core.py:67 operation <function connect.<locals>.connector at 0x0000022ED3A52D40> completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000022ED3A3D6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000022EB0CA0540>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000022ED3A3D6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000022EB0CA0540>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000022ED3A3D6C0>, 'floor', 1, <built-in function floor>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000022ED3A3D6C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46BC0>, 'PRAGMA read_uncommitted', [])
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46BC0>, 'PRAGMA read_uncommitted', []) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46EC0>, 'PRAGMA foreign_keys=OFF', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46EC0>, 'PRAGMA foreign_keys=OFF', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46FC0>, 'PRAGMA main.table_info("ai_decisions")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46FC0>, 'PRAGMA main.table_info("ai_decisions")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A47040>, 'PRAGMA temp.table_info("ai_decisions")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A47040>, 'PRAGMA temp.table_info("ai_decisions")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A47040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A47040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A47040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A47040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D4C0>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D4C0>, '\nCREATE TABLE ai_decisions (\n\tdata_source_id VARCHAR(36), \n\tagent_type VARCHAR(16) NOT NULL, \n\tmodel_used VARCHAR(50) NOT NULL, \n\tinput_summary TEXT NOT NULL, \n\toutput_summary TEXT NOT NULL, \n\tconfidence FLOAT, \n\treasoning JSON, \n\tperformance_metadata JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D840>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D840>, 'CREATE INDEX ix_ai_decisions_agent_type ON ai_decisions (agent_type)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A474C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A474C0>, 'CREATE INDEX ix_ai_decisions_data_source_id ON ai_decisions (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A474C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A474C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46C40>, 'PRAGMA main.table_info("alias_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46C40>, 'PRAGMA main.table_info("alias_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46A40>, 'PRAGMA temp.table_info("alias_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46A40>, 'PRAGMA temp.table_info("alias_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DAC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DAC0>, '\nCREATE TABLE alias_mappings (\n\tscope VARCHAR(50) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tsource_alias VARCHAR(255) NOT NULL, \n\tsource_alias_normalized VARCHAR(255) NOT NULL, \n\tcanonical_field VARCHAR(100) NOT NULL, \n\tusage_count INTEGER NOT NULL, \n\tlast_used_at DATETIME NOT NULL, \n\tcreated_by_id CHAR(36), \n\tcorrection_count INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_alias_per_scope UNIQUE (scope, organization_id, factory_id, source_alias_normalized), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(created_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DEC0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DEC0>, 'CREATE INDEX ix_alias_mappings_organization_id ON alias_mappings (organization_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7E340>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7E340>, 'CREATE INDEX ix_alias_mappings_source_alias_normalized ON alias_mappings (source_alias_normalized)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7E340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7E340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F040>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F040>, 'CREATE INDEX ix_alias_mappings_scope ON alias_mappings (scope)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F1C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F1C0>, 'CREATE INDEX ix_alias_mappings_canonical_field ON alias_mappings (canonical_field)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F340>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F340>, 'CREATE INDEX ix_alias_mappings_factory_id ON alias_mappings (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F540>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F540>, 'CREATE INDEX ix_alias_mappings_source_alias ON alias_mappings (source_alias)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46840>, 'PRAGMA main.table_info("efficiency_metrics")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A46840>, 'PRAGMA main.table_info("efficiency_metrics")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A46840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A46840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D8C0>, 'PRAGMA temp.table_info("efficiency_metrics")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D8C0>, 'PRAGMA temp.table_info("efficiency_metrics")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7D8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7D8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DD40>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DD40>, '\nCREATE TABLE efficiency_metrics (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tefficiency_pct NUMERIC(6, 2), \n\tsam_target NUMERIC(10, 2), \n\tsam_actual NUMERIC(10, 2), \n\tsam_variance NUMERIC(8, 2), \n\tsam_variance_pct NUMERIC(6, 2), \n\tcapacity_utilization_pct NUMERIC(6, 2), \n\tperformance_tier VARCHAR(12), \n\tfactory_avg_efficiency NUMERIC(6, 2), \n\tline_avg_efficiency NUMERIC(6, 2), \n\tcalculated_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DD40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7FCC0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7FCC0>, 'CREATE UNIQUE INDEX ix_efficiency_metrics_production_run_id ON efficiency_metrics (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7FCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7FCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DDC0>, 'PRAGMA main.table_info("dhu_reports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DDC0>, 'PRAGMA main.table_info("dhu_reports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7DDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7DDC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DDC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D940>, 'PRAGMA temp.table_info("dhu_reports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7D940>, 'PRAGMA temp.table_info("dhu_reports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7D940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7D940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7D940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7FA40>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7FA40>, '\nCREATE TABLE dhu_reports (\n\tfactory_id CHAR(36) NOT NULL, \n\treport_date DATE NOT NULL, \n\tperiod_type VARCHAR(7) NOT NULL, \n\tavg_dhu NUMERIC(6, 2), \n\tmin_dhu NUMERIC(6, 2), \n\tmax_dhu NUMERIC(6, 2), \n\ttotal_inspected INTEGER, \n\ttotal_defects INTEGER, \n\ttotal_rejected INTEGER, \n\ttop_defects TEXT, \n\ttop_operations TEXT, \n\ttop_lines TEXT, \n\tdhu_change_pct NUMERIC(6, 2), \n\ttrend_direction VARCHAR(20), \n\trecommendations TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_date_period UNIQUE (factory_id, report_date, period_type), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7FA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7FA40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7E940>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7E940>, 'CREATE INDEX ix_dhu_reports_report_date ON dhu_reports (report_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7E940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7E940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D040>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D040>, 'CREATE INDEX ix_dhu_reports_factory_id ON dhu_reports (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F7C0>, 'PRAGMA main.table_info("traceability_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7F7C0>, 'PRAGMA main.table_info("traceability_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7F7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7F7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7F7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DE40>, 'PRAGMA temp.table_info("traceability_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A7DE40>, 'PRAGMA temp.table_info("traceability_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7DE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A7DE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A7DE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D1C0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D1C0>, '\nCREATE TABLE traceability_records (\n\tcarton_id CHAR(36), \n\tfabric_lot_id CHAR(36), \n\tcut_ticket_id CHAR(36), \n\tproduction_run_id CHAR(36), \n\tcompliance_standard VARCHAR(8) NOT NULL, \n\tchain_of_custody TEXT, \n\tsupporting_documents TEXT, \n\tverification_status VARCHAR(8) NOT NULL, \n\tverified_by_id CHAR(36), \n\tverified_at DATETIME, \n\trisk_score VARCHAR(20), \n\trisk_notes TEXT, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(carton_id) REFERENCES cartons (id) ON DELETE SET NULL, \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE SET NULL, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE SET NULL, \n\tFOREIGN KEY(verified_by_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D5C0>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D5C0>, 'CREATE INDEX ix_traceability_records_cut_ticket_id ON traceability_records (cut_ticket_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D5C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D5C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CFC0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CFC0>, 'CREATE INDEX ix_traceability_records_carton_id ON traceability_records (carton_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CFC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CFC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DB40>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DB40>, 'CREATE INDEX ix_traceability_records_fabric_lot_id ON traceability_records (fabric_lot_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C540>, 'PRAGMA main.table_info("fabric_lots")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C540>, 'PRAGMA main.table_info("fabric_lots")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9C540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9C540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D3C0>, 'PRAGMA temp.table_info("fabric_lots")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9D3C0>, 'PRAGMA temp.table_info("fabric_lots")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9D3C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9D3C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D3C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9D3C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DEC0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DEC0>, '\nCREATE TABLE fabric_lots (\n\tfactory_id CHAR(36) NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tfabric_type VARCHAR(100), \n\tcomposition VARCHAR(255), \n\twidth_cm INTEGER, \n\tgsm INTEGER, \n\tcolor VARCHAR(100), \n\tsupplier VARCHAR(255), \n\torigin_country VARCHAR(100), \n\tmill_name VARCHAR(255), \n\treceived_date DATE, \n\tinitial_meters NUMERIC(12, 2), \n\tavailable_meters NUMERIC(12, 2), \n\treserved_meters NUMERIC(12, 2), \n\tunit_cost NUMERIC(10, 4), \n\tcurrency VARCHAR(3), \n\tcertifications TEXT, \n\tinspection_status VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_lot UNIQUE (factory_id, lot_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CF40>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CF40>, 'CREATE INDEX ix_fabric_lots_supplier ON fabric_lots (supplier)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EBC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EBC0>, 'CREATE INDEX ix_fabric_lots_origin_country ON fabric_lots (origin_country)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9ED40>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9ED40>, 'CREATE INDEX ix_fabric_lots_lot_number ON fabric_lots (lot_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9ED40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9ED40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EF40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9EF40>, 'CREATE INDEX ix_fabric_lots_factory_id ON fabric_lots (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9EF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C0C0>, 'PRAGMA main.table_info("cut_tickets")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9C0C0>, 'PRAGMA main.table_info("cut_tickets")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9C0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9C0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9C0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DF40>, 'PRAGMA temp.table_info("cut_tickets")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9DF40>, 'PRAGMA temp.table_info("cut_tickets")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9DF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9DF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9DF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E940>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E940>, '\nCREATE TABLE cut_tickets (\n\tfabric_lot_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tticket_number VARCHAR(100) NOT NULL, \n\tcut_date DATE, \n\tplies INTEGER, \n\tmarker_length_cm INTEGER, \n\tconsumption_meters NUMERIC(10, 2), \n\twastage_pct NUMERIC(5, 2), \n\tsize_ratio TEXT, \n\tbundle_count INTEGER, \n\ttotal_pieces INTEGER, \n\tcutter_id CHAR(36), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(fabric_lot_id) REFERENCES fabric_lots (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cutter_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F2C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F2C0>, 'CREATE INDEX ix_cut_tickets_order_id ON cut_tickets (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F2C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F2C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F9C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F9C0>, 'CREATE INDEX ix_cut_tickets_ticket_number ON cut_tickets (ticket_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E640>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E640>, 'CREATE INDEX ix_cut_tickets_fabric_lot_id ON cut_tickets (fabric_lot_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CE40>, 'PRAGMA main.table_info("dashboards")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9CE40>, 'PRAGMA main.table_info("dashboards")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9CE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9CE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9CE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E5C0>, 'PRAGMA temp.table_info("dashboards")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E5C0>, 'PRAGMA temp.table_info("dashboards")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E5C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E5C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E5C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E5C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F8C0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F8C0>, '\nCREATE TABLE dashboards (\n\tuser_id CHAR(36) NOT NULL, \n\tname VARCHAR(200) NOT NULL, \n\tdescription TEXT, \n\tdata_source_id CHAR(36), \n\twidget_config TEXT, \n\tlayout_config TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_dashboard_user FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tCONSTRAINT fk_dashboard_datasource FOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FD40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FD40>, 'CREATE INDEX ix_dashboards_data_source_id ON dashboards (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FD40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4840>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4840>, 'CREATE INDEX ix_dashboards_user_id ON dashboards (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FAC0>, 'PRAGMA main.table_info("data_quality_issues")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9FAC0>, 'PRAGMA main.table_info("data_quality_issues")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9FAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9FAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E840>, 'PRAGMA temp.table_info("data_quality_issues")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9E840>, 'PRAGMA temp.table_info("data_quality_issues")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9E840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9E840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F240>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F240>, '\nCREATE TABLE data_quality_issues (\n\traw_import_id CHAR(36) NOT NULL, \n\trow_number INTEGER, \n\tissue_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tmessage TEXT NOT NULL, \n\tfield_name VARCHAR(100), \n\tfield_value VARCHAR(500), \n\tresolved_at DATETIME, \n\tresolved_by_user_id CHAR(36), \n\tresolution_notes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE, \n\tFOREIGN KEY(resolved_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4F40>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4F40>, 'CREATE INDEX ix_data_quality_issues_severity ON data_quality_issues (severity)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD47C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD47C0>, 'CREATE INDEX ix_data_quality_issues_issue_type ON data_quality_issues (issue_type)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD47C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD47C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5AC0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5AC0>, 'CREATE INDEX ix_data_quality_issues_raw_import_id ON data_quality_issues (raw_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F140>, 'PRAGMA main.table_info("data_sources")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3A9F140>, 'PRAGMA main.table_info("data_sources")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9F140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3A9F140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3A9F140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4040>, 'PRAGMA temp.table_info("data_sources")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4040>, 'PRAGMA temp.table_info("data_sources")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD4040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD4040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4640>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4640>, '\nCREATE TABLE data_sources (\n\tproduction_line_id CHAR(36) NOT NULL, \n\tsource_name VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\ttime_column VARCHAR(100), \n\ttime_format VARCHAR(50), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD6140>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD6140>, 'CREATE UNIQUE INDEX ix_data_sources_production_line_id ON data_sources (production_line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD6140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD6140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5440>, 'PRAGMA main.table_info("schema_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5440>, 'PRAGMA main.table_info("schema_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD5440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD5440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4EC0>, 'PRAGMA temp.table_info("schema_mappings")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD4EC0>, 'PRAGMA temp.table_info("schema_mappings")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD4EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD4EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD4EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD66C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD66C0>, '\nCREATE TABLE schema_mappings (\n\tdata_source_id CHAR(36) NOT NULL, \n\tversion INTEGER NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcolumn_map JSON NOT NULL, \n\textraction_rules JSON, \n\treviewed_by_user BOOLEAN NOT NULL, \n\tuser_notes TEXT, \n\tmatching_tier VARCHAR(20), \n\ttier_confidence FLOAT, \n\ttier_breakdown JSON, \n\tfuzzy_scores JSON, \n\tuser_corrected BOOLEAN NOT NULL, \n\tcorrection_count INTEGER, \n\tcorrection_history JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD66C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD66C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD6CC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD6CC0>, 'CREATE INDEX ix_schema_mappings_data_source_id ON schema_mappings (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD6CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD6CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5640>, 'PRAGMA main.table_info("production_events")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5640>, 'PRAGMA main.table_info("production_events")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD5640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD5640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD62C0>, 'PRAGMA temp.table_info("production_events")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD62C0>, 'PRAGMA temp.table_info("production_events")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD62C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD62C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD62C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD62C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD73C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD73C0>, '\nCREATE TABLE production_events (\n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tstyle_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36), \n\tsource_import_id CHAR(36), \n\traw_data JSON, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD73C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD73C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5E40>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5E40>, 'CREATE INDEX ix_production_events_source_import_id ON production_events (source_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD71C0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD71C0>, 'CREATE INDEX ix_production_events_production_run_id ON production_events (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD71C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD71C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7CC0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7CC0>, 'CREATE INDEX ix_production_events_style_id ON production_events (style_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7840>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7840>, 'CREATE INDEX ix_production_events_order_id ON production_events (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5DC0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD5DC0>, 'CREATE INDEX ix_production_events_line_id ON production_events (line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD5DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7AC0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7AC0>, 'CREATE INDEX ix_production_events_timestamp ON production_events (timestamp)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7940>, 'PRAGMA main.table_info("factories")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7940>, 'PRAGMA main.table_info("factories")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD7940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD7940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD68C0>, 'PRAGMA temp.table_info("factories")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD68C0>, 'PRAGMA temp.table_info("factories")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD68C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3AD68C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD68C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD68C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7740>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3AD7740>, '\nCREATE TABLE factories (\n\torganization_id CHAR(36) NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tcountry VARCHAR(100) NOT NULL, \n\tcity VARCHAR(100), \n\taddress TEXT, \n\ttimezone VARCHAR(50) NOT NULL, \n\ttotal_lines INTEGER, \n\ttotal_workers INTEGER, \n\tdaily_capacity_units INTEGER, \n\tcertifications TEXT, \n\tsettings JSON, \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_factory_org FOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (code)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3AD7740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10340>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10340>, 'CREATE INDEX ix_factories_organization_id ON factories (organization_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10740>, 'PRAGMA main.table_info("production_lines")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10740>, 'PRAGMA main.table_info("production_lines")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10240>, 'PRAGMA temp.table_info("production_lines")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10240>, 'PRAGMA temp.table_info("production_lines")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10B40>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10B40>, '\nCREATE TABLE production_lines (\n\tfactory_id CHAR(36) NOT NULL, \n\tname VARCHAR(100) NOT NULL, \n\tcode VARCHAR(50), \n\ttarget_operators INTEGER, \n\ttarget_efficiency_pct INTEGER, \n\tsettings JSON, \n\tspecialty VARCHAR(100), \n\tsupervisor_id CHAR(36), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_line_factory FOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supervisor_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B120C0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B120C0>, 'CREATE INDEX ix_production_lines_factory_id ON production_lines (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B120C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B120C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10E40>, 'PRAGMA main.table_info("styles")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10E40>, 'PRAGMA main.table_info("styles")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11F40>, 'PRAGMA temp.table_info("styles")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11F40>, 'PRAGMA temp.table_info("styles")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B11F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B11F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B127C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B127C0>, '\nCREATE TABLE styles (\n\tfactory_id CHAR(36) NOT NULL, \n\tstyle_number VARCHAR(100) NOT NULL, \n\tstyle_name VARCHAR(255), \n\tdescription VARCHAR(500), \n\tbuyer VARCHAR(255), \n\tseason VARCHAR(50), \n\tcategory VARCHAR(100), \n\tbase_sam NUMERIC(12, 4), \n\tcomplexity_rating VARCHAR(20), \n\tbom_summary JSON, \n\ttech_pack_url VARCHAR(500), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_style UNIQUE (factory_id, style_number), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B127C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B127C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11A40>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11A40>, 'CREATE INDEX ix_styles_style_number ON styles (style_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B13540>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B13540>, 'CREATE INDEX ix_styles_factory_id ON styles (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B13540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B13540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B12DC0>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B12DC0>, 'CREATE INDEX ix_styles_buyer ON styles (buyer)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B12DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B12DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10FC0>, 'PRAGMA main.table_info("orders")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B10FC0>, 'PRAGMA main.table_info("orders")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B10FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B10FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B12A40>, 'PRAGMA temp.table_info("orders")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B12A40>, 'PRAGMA temp.table_info("orders")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B12A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B12A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B12A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B12A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B131C0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B131C0>, '\nCREATE TABLE orders (\n\tstyle_id CHAR(36) NOT NULL, \n\tpo_number VARCHAR(100) NOT NULL, \n\tquantity INTEGER NOT NULL, \n\tsize_breakdown JSON, \n\tuom VARCHAR(20) NOT NULL, \n\tcolor VARCHAR(100), \n\torder_date DATETIME, \n\tplanned_cut_date DATETIME, \n\tplanned_sew_date DATETIME, \n\tex_factory_date DATETIME, \n\tactual_ship_date DATETIME, \n\tstatus VARCHAR(20) NOT NULL, \n\tpriority VARCHAR(20) NOT NULL, \n\tqty_cut INTEGER NOT NULL, \n\tqty_sewn INTEGER NOT NULL, \n\tqty_packed INTEGER NOT NULL, \n\tqty_shipped INTEGER NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_style_po UNIQUE (style_id, po_number), \n\tFOREIGN KEY(style_id) REFERENCES styles (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B131C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B131C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B134C0>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B134C0>, 'CREATE INDEX ix_orders_po_number ON orders (po_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B134C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B134C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11EC0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B11EC0>, 'CREATE INDEX ix_orders_style_id ON orders (style_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B11EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CCC0>, 'CREATE INDEX ix_orders_status ON orders (status)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CCC0>, 'CREATE INDEX ix_orders_status ON orders (status)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B122C0>, 'PRAGMA main.table_info("production_runs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B122C0>, 'PRAGMA main.table_info("production_runs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B122C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B122C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B122C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B122C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B12AC0>, 'PRAGMA temp.table_info("production_runs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B12AC0>, 'PRAGMA temp.table_info("production_runs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B12AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B12AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B12AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B12AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C6C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C6C0>, '\nCREATE TABLE production_runs (\n\tfactory_id CHAR(36) NOT NULL, \n\torder_id CHAR(36) NOT NULL, \n\tline_id CHAR(36) NOT NULL, \n\tcut_ticket_id CHAR(36), \n\tsource_import_id CHAR(36), \n\tproduction_date DATETIME, \n\tinspection_date DATETIME, \n\tshift VARCHAR(20) NOT NULL, \n\tplanned_qty INTEGER, \n\tactual_qty INTEGER NOT NULL, \n\twip_start INTEGER, \n\twip_end INTEGER, \n\tlot_number VARCHAR(50), \n\tshade_band VARCHAR(10), \n\tbatch_number VARCHAR(50), \n\tdowntime_minutes INTEGER, \n\tdowntime_reason VARCHAR(255), \n\tsam NUMERIC(12, 4), \n\toperators_present INTEGER NOT NULL, \n\thelpers_present INTEGER NOT NULL, \n\tworked_minutes NUMERIC(12, 4) NOT NULL, \n\tearned_minutes NUMERIC(15, 4) GENERATED ALWAYS AS (actual_qty * sam), \n\tefficiency NUMERIC(10, 2) GENERATED ALWAYS AS (\n            CASE\n                WHEN (worked_minutes * (operators_present + helpers_present)) > 0 AND sam IS NOT NULL\n                THEN ((actual_qty * sam) / (worked_minutes * (operators_present + helpers_present))) * 100\n                ELSE 0\n            END\n            ), \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT check_positive_qty CHECK (actual_qty >= 0), \n\tCONSTRAINT check_positive_operators CHECK (operators_present >= 0), \n\tCONSTRAINT check_positive_helpers CHECK (helpers_present >= 0), \n\tCONSTRAINT check_positive_worked_minutes CHECK (worked_minutes >= 0), \n\tCONSTRAINT check_positive_wip_start CHECK (wip_start >= 0 OR wip_start IS NULL), \n\tCONSTRAINT check_positive_wip_end CHECK (wip_end >= 0 OR wip_end IS NULL), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(cut_ticket_id) REFERENCES cut_tickets (id) ON DELETE SET NULL, \n\tFOREIGN KEY(source_import_id) REFERENCES raw_imports (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E1C0>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E1C0>, 'CREATE INDEX ix_production_runs_source_import_id ON production_runs (source_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E0C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E0C0>, 'CREATE INDEX ix_production_runs_lot_number ON production_runs (lot_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E640>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E640>, 'CREATE INDEX ix_production_runs_line_id ON production_runs (line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CAC0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CAC0>, 'CREATE INDEX ix_production_runs_inspection_date ON production_runs (inspection_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E840>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E840>, 'CREATE INDEX ix_production_runs_batch_number ON production_runs (batch_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3EC40>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3EC40>, 'CREATE INDEX ix_production_runs_order_id ON production_runs (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3EC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3EC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DCC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DCC0>, 'CREATE INDEX ix_production_runs_factory_id ON production_runs (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3EF40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3EF40>, 'CREATE INDEX ix_production_runs_production_date ON production_runs (production_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3EF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3EF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CB40>, 'PRAGMA main.table_info("quality_inspections")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3CB40>, 'PRAGMA main.table_info("quality_inspections")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3CB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3CB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3CB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C7C0>, 'PRAGMA temp.table_info("quality_inspections")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3C7C0>, 'PRAGMA temp.table_info("quality_inspections")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3C7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3C7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3C7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F1C0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F1C0>, '\nCREATE TABLE quality_inspections (\n\tproduction_run_id CHAR(36) NOT NULL, \n\tinspector_id CHAR(36), \n\tinspection_type VARCHAR(7) NOT NULL, \n\tunits_checked INTEGER NOT NULL, \n\tdefects_found INTEGER NOT NULL, \n\tunits_rejected INTEGER NOT NULL, \n\tunits_reworked INTEGER NOT NULL, \n\tdhu NUMERIC(6, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\taql_level VARCHAR(20), \n\taql_result VARCHAR(7), \n\tinspected_at DATETIME NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE, \n\tFOREIGN KEY(inspector_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F1C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F1C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F8C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F8C0>, 'CREATE INDEX ix_quality_inspections_production_run_id ON quality_inspections (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DFC0>, 'PRAGMA main.table_info("defects")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DFC0>, 'PRAGMA main.table_info("defects")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3DFC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3DFC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DFC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DFC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E440>, 'PRAGMA temp.table_info("defects")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E440>, 'PRAGMA temp.table_info("defects")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3E440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3E440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3EA40>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3EA40>, '\nCREATE TABLE defects (\n\tinspection_id CHAR(36) NOT NULL, \n\tworker_id CHAR(36), \n\tdefect_type VARCHAR(100) NOT NULL, \n\tdefect_code VARCHAR(20), \n\tdefect_category VARCHAR(100), \n\toperation VARCHAR(100), \n\tseverity VARCHAR(8) NOT NULL, \n\tis_reworkable BOOLEAN NOT NULL, \n\tis_reworked BOOLEAN NOT NULL, \n\troot_cause VARCHAR(255), \n\tmachine_id VARCHAR(50), \n\timage_url VARCHAR(500), \n\tcount INTEGER NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inspection_id) REFERENCES quality_inspections (id) ON DELETE CASCADE, \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3EA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3EA40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E9C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3E9C0>, 'CREATE INDEX ix_defects_inspection_id ON defects (inspection_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3E9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70940>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70940>, 'CREATE INDEX ix_defects_worker_id ON defects (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B713C0>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B713C0>, 'CREATE INDEX ix_defects_defect_type ON defects (defect_type)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B713C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B713C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DDC0>, 'PRAGMA main.table_info("raw_imports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3DDC0>, 'PRAGMA main.table_info("raw_imports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3DDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3DDC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3DDC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F940>, 'PRAGMA temp.table_info("raw_imports")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B3F940>, 'PRAGMA temp.table_info("raw_imports")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3F940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B3F940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B3F940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70DC0>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70DC0>, '\nCREATE TABLE raw_imports (\n\tuploaded_by_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\tdata_source_id CHAR(36), \n\ttime_column_used VARCHAR(100), \n\toriginal_filename VARCHAR(500) NOT NULL, \n\tfile_path VARCHAR(1000) NOT NULL, \n\tfile_size_bytes INTEGER NOT NULL, \n\tfile_hash VARCHAR(64) NOT NULL, \n\tmime_type VARCHAR(100), \n\tencoding_detected VARCHAR(50), \n\tsheet_count INTEGER NOT NULL, \n\tsheet_names TEXT, \n\trow_count INTEGER, \n\tcolumn_count INTEGER, \n\theader_row_detected INTEGER, \n\traw_headers TEXT, \n\tsample_data TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tprocessing_error TEXT, \n\tprocessed_at DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(uploaded_by_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE SET NULL, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE SET NULL, \n\tFOREIGN KEY(data_source_id) REFERENCES data_sources (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B704C0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B704C0>, 'CREATE INDEX ix_raw_imports_factory_id ON raw_imports (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B704C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B704C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71BC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71BC0>, 'CREATE INDEX ix_raw_imports_uploaded_by_id ON raw_imports (uploaded_by_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B723C0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B723C0>, 'CREATE INDEX ix_raw_imports_production_line_id ON raw_imports (production_line_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B723C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B723C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72540>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72540>, 'CREATE INDEX ix_raw_imports_data_source_id ON raw_imports (data_source_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70240>, 'PRAGMA main.table_info("staging_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70240>, 'PRAGMA main.table_info("staging_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B706C0>, 'PRAGMA temp.table_info("staging_records")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B706C0>, 'PRAGMA temp.table_info("staging_records")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B706C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B706C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B706C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B706C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B717C0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B717C0>, '\nCREATE TABLE staging_records (\n\traw_import_id CHAR(36) NOT NULL, \n\tsource_row_number INTEGER NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tvalidation_errors TEXT, \n\tvalidation_warnings TEXT, \n\trecord_data TEXT NOT NULL, \n\tnormalized_data TEXT, \n\tquality_score FLOAT, \n\tnull_field_count INTEGER, \n\tpromoted_at DATETIME, \n\tpromoted_to_table VARCHAR(100), \n\tpromoted_record_id CHAR(36), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(raw_import_id) REFERENCES raw_imports (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B717C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B717C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72940>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72940>, 'CREATE INDEX ix_staging_records_raw_import_id ON staging_records (raw_import_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70140>, 'PRAGMA main.table_info("packing_lists")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B70140>, 'PRAGMA main.table_info("packing_lists")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B70140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B70140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72B40>, 'PRAGMA temp.table_info("packing_lists")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B72B40>, 'PRAGMA temp.table_info("packing_lists")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B72B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B72B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71EC0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B71EC0>, '\nCREATE TABLE packing_lists (\n\torder_id CHAR(36) NOT NULL, \n\tpacking_list_number VARCHAR(100) NOT NULL, \n\tship_date DATE, \n\tdestination VARCHAR(255), \n\tship_to_address TEXT, \n\tcarrier VARCHAR(100), \n\ttracking_number VARCHAR(255), \n\tcontainer_number VARCHAR(100), \n\ttotal_cartons INTEGER, \n\ttotal_units INTEGER, \n\ttotal_net_weight_kg NUMERIC(10, 2), \n\ttotal_gross_weight_kg NUMERIC(10, 2), \n\ttotal_cbm NUMERIC(8, 3), \n\tstatus VARCHAR(10) NOT NULL, \n\tnotes TEXT, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B71EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73C40>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73C40>, 'CREATE INDEX ix_packing_lists_packing_list_number ON packing_lists (packing_list_number)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B737C0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B737C0>, 'CREATE INDEX ix_packing_lists_order_id ON packing_lists (order_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B737C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B737C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B720C0>, 'PRAGMA main.table_info("cartons")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B720C0>, 'PRAGMA main.table_info("cartons")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B720C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B720C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B720C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B720C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B733C0>, 'PRAGMA temp.table_info("cartons")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B733C0>, 'PRAGMA temp.table_info("cartons")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B733C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B733C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B733C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B733C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B735C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B735C0>, '\nCREATE TABLE cartons (\n\tpacking_list_id CHAR(36) NOT NULL, \n\tcarton_number VARCHAR(50) NOT NULL, \n\tsize_breakdown TEXT, \n\tcolor VARCHAR(100), \n\ttotal_units INTEGER, \n\tnet_weight_kg NUMERIC(8, 2), \n\tgross_weight_kg NUMERIC(8, 2), \n\tdimensions_cm TEXT, \n\tlength_cm INTEGER, \n\twidth_cm INTEGER, \n\theight_cm INTEGER, \n\tbarcode VARCHAR(100), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(packing_list_id) REFERENCES packing_lists (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B735C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B735C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B721C0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B721C0>, 'CREATE INDEX ix_cartons_packing_list_id ON cartons (packing_list_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B721C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B721C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B734C0>, 'PRAGMA main.table_info("organizations")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B734C0>, 'PRAGMA main.table_info("organizations")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B734C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B734C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B734C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B734C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73740>, 'PRAGMA temp.table_info("organizations")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3B73740>, 'PRAGMA temp.table_info("organizations")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B73740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3B73740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3B73740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0540>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0540>, '\nCREATE TABLE organizations (\n\tname VARCHAR(255) NOT NULL, \n\tcode VARCHAR(50), \n\tsubscription_tier VARCHAR(10) NOT NULL, \n\tsettings TEXT, \n\tmax_factories INTEGER NOT NULL, \n\tmax_lines_per_factory INTEGER NOT NULL, \n\tprimary_email VARCHAR(255), \n\tprimary_phone VARCHAR(50), \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tUNIQUE (code)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0140>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0140>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0D40>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0D40>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1A40>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1A40>, '\nCREATE TABLE users (\n\torganization_id CHAR(36) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\thashed_password VARCHAR(255) NOT NULL, \n\tfull_name VARCHAR(255), \n\tavatar_url VARCHAR(500), \n\ttimezone VARCHAR(50), \n\tpreferences TEXT, \n\trole VARCHAR(7) NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tis_verified BOOLEAN NOT NULL, \n\tlast_login DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tUNIQUE (email)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0940>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0940>, 'CREATE INDEX ix_users_organization_id ON users (organization_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA05C0>, 'PRAGMA main.table_info("user_scopes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA05C0>, 'PRAGMA main.table_info("user_scopes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA05C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA05C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA05C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA05C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0740>, 'PRAGMA temp.table_info("user_scopes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0740>, 'PRAGMA temp.table_info("user_scopes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2AC0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2AC0>, '\nCREATE TABLE user_scopes (\n\tuser_id CHAR(36) NOT NULL, \n\tscope_type VARCHAR(12) NOT NULL, \n\torganization_id CHAR(36), \n\tfactory_id CHAR(36), \n\tproduction_line_id CHAR(36), \n\trole VARCHAR(7) NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(organization_id) REFERENCES organizations (id) ON DELETE CASCADE, \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_line_id) REFERENCES production_lines (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2F40>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2F40>, 'CREATE INDEX ix_user_scopes_user_id ON user_scopes (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA09C0>, 'PRAGMA main.table_info("workers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA09C0>, 'PRAGMA main.table_info("workers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA09C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA09C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA09C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA09C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2BC0>, 'PRAGMA temp.table_info("workers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2BC0>, 'PRAGMA temp.table_info("workers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA2BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA2BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2CC0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA2CC0>, '\nCREATE TABLE workers (\n\tfactory_id CHAR(36) NOT NULL, \n\temployee_id VARCHAR(50) NOT NULL, \n\tfull_name VARCHAR(255) NOT NULL, \n\tdepartment VARCHAR(100), \n\tjob_title VARCHAR(100), \n\tprimary_skill VARCHAR(100), \n\tline_id CHAR(36), \n\thire_date DATE, \n\ttermination_date DATE, \n\thourly_rate NUMERIC(10, 2), \n\tcurrency VARCHAR(3), \n\tis_active BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_factory_employee UNIQUE (factory_id, employee_id), \n\tFOREIGN KEY(factory_id) REFERENCES factories (id) ON DELETE CASCADE, \n\tFOREIGN KEY(line_id) REFERENCES production_lines (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA2CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3C40>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3C40>, 'CREATE INDEX ix_workers_factory_id ON workers (factory_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA36C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA36C0>, 'CREATE INDEX ix_workers_employee_id ON workers (employee_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA36C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA36C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0C40>, 'PRAGMA main.table_info("worker_skills")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA0C40>, 'PRAGMA main.table_info("worker_skills")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA0C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA0C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3BC0>, 'PRAGMA temp.table_info("worker_skills")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA3BC0>, 'PRAGMA temp.table_info("worker_skills")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA3BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA3BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA3BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8240>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8240>, '\nCREATE TABLE worker_skills (\n\tworker_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\toperation_category VARCHAR(100), \n\tproficiency_pct NUMERIC(5, 2), \n\tsam_achieved NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\tdefect_rate_pct NUMERIC(5, 2), \n\tpieces_lifetime INTEGER, \n\tpieces_30d INTEGER, \n\tis_certified BOOLEAN NOT NULL, \n\tcertification_date DATE, \n\tlast_assessed DATETIME, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_operation UNIQUE (worker_id, operation), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8C40>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8C40>, 'CREATE INDEX ix_worker_skills_worker_id ON worker_skills (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8FC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8FC0>, 'CREATE INDEX ix_worker_skills_operation ON worker_skills (operation)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA39C0>, 'PRAGMA main.table_info("worker_attendances")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA39C0>, 'PRAGMA main.table_info("worker_attendances")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA39C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA39C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA39C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA39C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1740>, 'PRAGMA temp.table_info("worker_attendances")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BA1740>, 'PRAGMA temp.table_info("worker_attendances")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA1740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BA1740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BA1740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8040>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8040>, '\nCREATE TABLE worker_attendances (\n\tworker_id CHAR(36) NOT NULL, \n\twork_date DATE NOT NULL, \n\tclock_in TIME, \n\tclock_out TIME, \n\thours_regular NUMERIC(4, 2), \n\thours_overtime NUMERIC(4, 2), \n\thours_total NUMERIC(4, 2), \n\tis_present BOOLEAN NOT NULL, \n\tabsence_reason VARCHAR(100), \n\tis_approved BOOLEAN NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_worker_date UNIQUE (worker_id, work_date), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9A40>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9A40>, 'CREATE INDEX ix_worker_attendances_worker_id ON worker_attendances (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA2C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDA2C0>, 'CREATE INDEX ix_worker_attendances_work_date ON worker_attendances (work_date)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA2C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDA2C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8BC0>, 'PRAGMA main.table_info("production_outputs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8BC0>, 'PRAGMA main.table_info("production_outputs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD8BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD93C0>, 'PRAGMA temp.table_info("production_outputs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD93C0>, 'PRAGMA temp.table_info("production_outputs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD93C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3BD93C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD93C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD93C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8840>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD8840>, '\nCREATE TABLE production_outputs (\n\tworker_id CHAR(36) NOT NULL, \n\tproduction_run_id CHAR(36) NOT NULL, \n\toperation VARCHAR(100) NOT NULL, \n\tpieces_completed INTEGER NOT NULL, \n\tsam_earned NUMERIC(10, 2), \n\tminutes_worked NUMERIC(8, 2), \n\tefficiency_pct NUMERIC(5, 2), \n\trecorded_at DATETIME NOT NULL, \n\tid CHAR(36) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(worker_id) REFERENCES workers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(production_run_id) REFERENCES production_runs (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD8840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9940>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD9940>, 'CREATE INDEX ix_production_outputs_production_run_id ON production_outputs (production_run_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD9940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAA40>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAA40>, 'CREATE INDEX ix_production_outputs_worker_id ON production_outputs (worker_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAA40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAAC0>, 'PRAGMA foreign_keys=ON', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BDAAC0>, 'PRAGMA foreign_keys=ON', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BDAAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD99C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '1de3499a-269f-4263-8d05-b195ce27201c', '2026-01-05 05:54:20.338251', '2026-01-05 05:54:20.338254', 0, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3BD99C0>, 'INSERT INTO organizations (name, code, subscription_tier, settings, max_factories, max_lines_per_factory, primary_email, primary_phone, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('Test Factory Co', 'TEST001', 'STARTER', None, 1, 1, 'admin@testfactory.com', None, '1de3499a-269f-4263-8d05-b195ce27201c', '2026-01-05 05:54:20.338251', '2026-01-05 05:54:20.338254', 0, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD99C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3BD99C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EAE3FBCC0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('1de3499a-269f-4263-8d05-b195ce27201c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022EAE3FBCC0>, 'SELECT organizations.name, organizations.code, organizations.subscription_tier, organizations.settings, organizations.max_factories, organizations.max_lines_per_factory, organizations.primary_email, organizations.primary_phone, organizations.id, organizations.created_at, organizations.updated_at, organizations.is_deleted, organizations.deleted_at \nFROM organizations \nWHERE organizations.id = ?', ('1de3499a-269f-4263-8d05-b195ce27201c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EAE3FBCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022EAE3FBCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EAE3FBCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022EAE3FBCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15EC0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('1de3499a-269f-4263-8d05-b195ce27201c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F15EC0>, 'SELECT factories.organization_id AS factories_organization_id, factories.name AS factories_name, factories.code AS factories_code, factories.country AS factories_country, factories.city AS factories_city, factories.address AS factories_address, factories.timezone AS factories_timezone, factories.total_lines AS factories_total_lines, factories.total_workers AS factories_total_workers, factories.daily_capacity_units AS factories_daily_capacity_units, factories.certifications AS factories_certifications, factories.settings AS factories_settings, factories.is_active AS factories_is_active, factories.id AS factories_id, factories.created_at AS factories_created_at, factories.updated_at AS factories_updated_at \nFROM factories \nWHERE ? = factories.organization_id', ('1de3499a-269f-4263-8d05-b195ce27201c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F15EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F15EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F15EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F17E40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('1de3499a-269f-4263-8d05-b195ce27201c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F17E40>, 'SELECT users.organization_id AS users_organization_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.avatar_url AS users_avatar_url, users.timezone AS users_timezone, users.preferences AS users_preferences, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted, users.deleted_at AS users_deleted_at \nFROM users \nWHERE ? = users.organization_id', ('1de3499a-269f-4263-8d05-b195ce27201c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F17E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F17E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F17E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F17E40>) completed
DEBUG    passlib.handlers.bcrypt:bcrypt.py:625 detected 'bcrypt' backend, version '4.0.1'
DEBUG    passlib.handlers.bcrypt:bcrypt.py:406 'bcrypt' backend lacks $2$ support, enabling workaround
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF6EC0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1de3499a-269f-4263-8d05-b195ce27201c', 'test@example.com', '$2b$12$jjeLkzb3bycLPpn7S6cthuI6xL58NiOuQ9sr9Te/2NPGKMCfwAiI6', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'a75d4982-2a21-4fc2-84ff-db270131b145', '2026-01-05 05:54:20.591746', '2026-01-05 05:54:20.591749', 0, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF6EC0>, 'INSERT INTO users (organization_id, email, hashed_password, full_name, avatar_url, timezone, preferences, role, is_active, is_verified, last_login, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1de3499a-269f-4263-8d05-b195ce27201c', 'test@example.com', '$2b$12$jjeLkzb3bycLPpn7S6cthuI6xL58NiOuQ9sr9Te/2NPGKMCfwAiI6', 'Test User', None, 'UTC', None, 'ADMIN', 1, 1, None, 'a75d4982-2a21-4fc2-84ff-db270131b145', '2026-01-05 05:54:20.591746', '2026-01-05 05:54:20.591749', 0, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF6EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF6EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF7D40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('a75d4982-2a21-4fc2-84ff-db270131b145',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3EF7D40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \nFROM users \nWHERE users.id = ?', ('a75d4982-2a21-4fc2-84ff-db270131b145',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3EF7D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3EF7D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF7D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3EF7D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3E0C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('a75d4982-2a21-4fc2-84ff-db270131b145',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3E0C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \nFROM dashboards \nWHERE ? = dashboards.user_id', ('a75d4982-2a21-4fc2-84ff-db270131b145',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F3E0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F3E0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3E0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3E0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3FCC0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('a75d4982-2a21-4fc2-84ff-db270131b145',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F3FCC0>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \nFROM user_scopes \nWHERE ? = user_scopes.user_id', ('a75d4982-2a21-4fc2-84ff-db270131b145',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F3FCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F3FCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3FCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F3FCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F933C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1de3499a-269f-4263-8d05-b195ce27201c', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, 'a35be751-735e-4246-bd7d-f00882be977d', '2026-01-05 05:54:20.609411', '2026-01-05 05:54:20.609414'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F933C0>, 'INSERT INTO factories (organization_id, name, code, country, city, address, timezone, total_lines, total_workers, daily_capacity_units, certifications, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('1de3499a-269f-4263-8d05-b195ce27201c', 'Test Factory Audit', 'TF-AUD-001', 'Test Country', None, None, 'UTC', None, 100, None, None, 1, 'a35be751-735e-4246-bd7d-f00882be977d', '2026-01-05 05:54:20.609411', '2026-01-05 05:54:20.609414')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F933C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F933C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93AC0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('a35be751-735e-4246-bd7d-f00882be977d',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93AC0>, 'SELECT factories.organization_id, factories.name, factories.code, factories.country, factories.city, factories.address, factories.timezone, factories.total_lines, factories.total_workers, factories.daily_capacity_units, factories.certifications, factories.settings, factories.is_active, factories.id, factories.created_at, factories.updated_at \nFROM factories \nWHERE factories.id = ?', ('a35be751-735e-4246-bd7d-f00882be977d',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F93AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F93AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93AC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93740>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F93740>, 'SELECT fabric_lots.factory_id AS fabric_lots_factory_id, fabric_lots.lot_number AS fabric_lots_lot_number, fabric_lots.fabric_type AS fabric_lots_fabric_type, fabric_lots.composition AS fabric_lots_composition, fabric_lots.width_cm AS fabric_lots_width_cm, fabric_lots.gsm AS fabric_lots_gsm, fabric_lots.color AS fabric_lots_color, fabric_lots.supplier AS fabric_lots_supplier, fabric_lots.origin_country AS fabric_lots_origin_country, fabric_lots.mill_name AS fabric_lots_mill_name, fabric_lots.received_date AS fabric_lots_received_date, fabric_lots.initial_meters AS fabric_lots_initial_meters, fabric_lots.available_meters AS fabric_lots_available_meters, fabric_lots.reserved_meters AS fabric_lots_reserved_meters, fabric_lots.unit_cost AS fabric_lots_unit_cost, fabric_lots.currency AS fabric_lots_currency, fabric_lots.certifications AS fabric_lots_certifications, fabric_lots.inspection_status AS fabric_lots_inspection_status, fabric_lots.id AS fabric_lots_id, fabric_lots.created_at AS fabric_lots_created_at, fabric_lots.updated_at AS fabric_lots_updated_at \nFROM fabric_lots \nWHERE ? = fabric_lots.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F93740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3F93740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F93740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB340>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB340>, 'SELECT dhu_reports.factory_id AS dhu_reports_factory_id, dhu_reports.report_date AS dhu_reports_report_date, dhu_reports.period_type AS dhu_reports_period_type, dhu_reports.avg_dhu AS dhu_reports_avg_dhu, dhu_reports.min_dhu AS dhu_reports_min_dhu, dhu_reports.max_dhu AS dhu_reports_max_dhu, dhu_reports.total_inspected AS dhu_reports_total_inspected, dhu_reports.total_defects AS dhu_reports_total_defects, dhu_reports.total_rejected AS dhu_reports_total_rejected, dhu_reports.top_defects AS dhu_reports_top_defects, dhu_reports.top_operations AS dhu_reports_top_operations, dhu_reports.top_lines AS dhu_reports_top_lines, dhu_reports.dhu_change_pct AS dhu_reports_dhu_change_pct, dhu_reports.trend_direction AS dhu_reports_trend_direction, dhu_reports.recommendations AS dhu_reports_recommendations, dhu_reports.id AS dhu_reports_id, dhu_reports.created_at AS dhu_reports_created_at, dhu_reports.updated_at AS dhu_reports_updated_at \nFROM dhu_reports \nWHERE ? = dhu_reports.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBB340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBB340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB440>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBB440>, 'SELECT production_lines.factory_id AS production_lines_factory_id, production_lines.name AS production_lines_name, production_lines.code AS production_lines_code, production_lines.target_operators AS production_lines_target_operators, production_lines.target_efficiency_pct AS production_lines_target_efficiency_pct, production_lines.settings AS production_lines_settings, production_lines.specialty AS production_lines_specialty, production_lines.supervisor_id AS production_lines_supervisor_id, production_lines.is_active AS production_lines_is_active, production_lines.id AS production_lines_id, production_lines.created_at AS production_lines_created_at, production_lines.updated_at AS production_lines_updated_at \nFROM production_lines \nWHERE ? = production_lines.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBB440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBB440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBB440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBBD40>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FBBD40>, 'SELECT styles.factory_id AS styles_factory_id, styles.style_number AS styles_style_number, styles.style_name AS styles_style_name, styles.description AS styles_description, styles.buyer AS styles_buyer, styles.season AS styles_season, styles.category AS styles_category, styles.base_sam AS styles_base_sam, styles.complexity_rating AS styles_complexity_rating, styles.bom_summary AS styles_bom_summary, styles.tech_pack_url AS styles_tech_pack_url, styles.is_active AS styles_is_active, styles.id AS styles_id, styles.created_at AS styles_created_at, styles.updated_at AS styles_updated_at \nFROM styles \nWHERE ? = styles.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBBD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FBBD40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBBD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FBBD40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2BC0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2BC0>, 'SELECT workers.factory_id AS workers_factory_id, workers.employee_id AS workers_employee_id, workers.full_name AS workers_full_name, workers.department AS workers_department, workers.job_title AS workers_job_title, workers.primary_skill AS workers_primary_skill, workers.line_id AS workers_line_id, workers.hire_date AS workers_hire_date, workers.termination_date AS workers_termination_date, workers.hourly_rate AS workers_hourly_rate, workers.currency AS workers_currency, workers.is_active AS workers_is_active, workers.id AS workers_id, workers.created_at AS workers_created_at, workers.updated_at AS workers_updated_at, workers.is_deleted AS workers_is_deleted, workers.deleted_at AS workers_deleted_at \nFROM workers \nWHERE ? = workers.factory_id', ('a35be751-735e-4246-bd7d-f00882be977d',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FE2BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FE2BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2BC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2BC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F71140>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a35be751-735e-4246-bd7d-f00882be977d', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '55dd608c-5030-49df-9f56-c4fa8b8d6382', '2026-01-05 05:54:20.627370', '2026-01-05 05:54:20.627373'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F71140>, 'INSERT INTO production_lines (factory_id, name, code, target_operators, target_efficiency_pct, specialty, supervisor_id, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a35be751-735e-4246-bd7d-f00882be977d', 'Test Line Audit', 'TL-AUD', None, None, None, None, 1, '55dd608c-5030-49df-9f56-c4fa8b8d6382', '2026-01-05 05:54:20.627370', '2026-01-05 05:54:20.627373')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F71140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F71140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2EC0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('55dd608c-5030-49df-9f56-c4fa8b8d6382',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FE2EC0>, 'SELECT production_lines.factory_id, production_lines.name, production_lines.code, production_lines.target_operators, production_lines.target_efficiency_pct, production_lines.settings, production_lines.specialty, production_lines.supervisor_id, production_lines.is_active, production_lines.id, production_lines.created_at, production_lines.updated_at \nFROM production_lines \nWHERE production_lines.id = ?', ('55dd608c-5030-49df-9f56-c4fa8b8d6382',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FE2EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FE2EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FE2EC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED400A8C0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('55dd608c-5030-49df-9f56-c4fa8b8d6382',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED400A8C0>, 'SELECT production_runs.factory_id AS production_runs_factory_id, production_runs.order_id AS production_runs_order_id, production_runs.line_id AS production_runs_line_id, production_runs.cut_ticket_id AS production_runs_cut_ticket_id, production_runs.source_import_id AS production_runs_source_import_id, production_runs.production_date AS production_runs_production_date, production_runs.inspection_date AS production_runs_inspection_date, production_runs.shift AS production_runs_shift, production_runs.planned_qty AS production_runs_planned_qty, production_runs.actual_qty AS production_runs_actual_qty, production_runs.wip_start AS production_runs_wip_start, production_runs.wip_end AS production_runs_wip_end, production_runs.lot_number AS production_runs_lot_number, production_runs.shade_band AS production_runs_shade_band, production_runs.batch_number AS production_runs_batch_number, production_runs.downtime_minutes AS production_runs_downtime_minutes, production_runs.downtime_reason AS production_runs_downtime_reason, production_runs.sam AS production_runs_sam, production_runs.operators_present AS production_runs_operators_present, production_runs.helpers_present AS production_runs_helpers_present, production_runs.worked_minutes AS production_runs_worked_minutes, production_runs.earned_minutes AS production_runs_earned_minutes, production_runs.efficiency AS production_runs_efficiency, production_runs.notes AS production_runs_notes, production_runs.id AS production_runs_id, production_runs.created_at AS production_runs_created_at, production_runs.updated_at AS production_runs_updated_at \nFROM production_runs \nWHERE ? = production_runs.line_id', ('55dd608c-5030-49df-9f56-c4fa8b8d6382',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED400A8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED400A8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED400A8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED400A8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4042040>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('55dd608c-5030-49df-9f56-c4fa8b8d6382',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4042040>, 'SELECT data_sources.production_line_id AS data_sources_production_line_id, data_sources.source_name AS data_sources_source_name, data_sources.description AS data_sources_description, data_sources.time_column AS data_sources_time_column, data_sources.time_format AS data_sources_time_format, data_sources.is_active AS data_sources_is_active, data_sources.id AS data_sources_id, data_sources.created_at AS data_sources_created_at, data_sources.updated_at AS data_sources_updated_at \nFROM data_sources \nWHERE ? = data_sources.production_line_id', ('55dd608c-5030-49df-9f56-c4fa8b8d6382',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4042040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4042040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4042040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4042040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB89C0>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a35be751-735e-4246-bd7d-f00882be977d', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '5bfa0b80-ded9-407e-b643-dd47cf8b670f', '2026-01-05 05:54:20.638566', '2026-01-05 05:54:20.638569'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB89C0>, 'INSERT INTO styles (factory_id, style_number, style_name, description, buyer, season, category, base_sam, complexity_rating, tech_pack_url, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a35be751-735e-4246-bd7d-f00882be977d', 'STY-ANA-001', None, None, None, None, None, 10.0, None, None, 1, '5bfa0b80-ded9-407e-b643-dd47cf8b670f', '2026-01-05 05:54:20.638566', '2026-01-05 05:54:20.638569')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB89C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB89C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F710C0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5bfa0b80-ded9-407e-b643-dd47cf8b670f', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'c6c75e51-67ae-40ed-96c8-850d9a3d1651', '2026-01-05 05:54:20.640526', '2026-01-05 05:54:20.640528'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F710C0>, 'INSERT INTO orders (style_id, po_number, quantity, uom, color, order_date, planned_cut_date, planned_sew_date, ex_factory_date, actual_ship_date, status, priority, qty_cut, qty_sewn, qty_packed, qty_shipped, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5bfa0b80-ded9-407e-b643-dd47cf8b670f', 'PO-ANA-001', 1000, 'pcs', None, None, None, None, None, None, 'sewing', 'normal', 0, 0, 0, 0, None, 'c6c75e51-67ae-40ed-96c8-850d9a3d1651', '2026-01-05 05:54:20.640526', '2026-01-05 05:54:20.640528')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F710C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F710C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB85C0>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('a35be751-735e-4246-bd7d-f00882be977d', 'c6c75e51-67ae-40ed-96c8-850d9a3d1651', '55dd608c-5030-49df-9f56-c4fa8b8d6382', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '9e3404ce-e476-4acc-bfbd-2b3e602f1dca', '2026-01-05 05:54:20.642458', '2026-01-05 05:54:20.642460'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3FB85C0>, 'INSERT INTO production_runs (factory_id, order_id, line_id, cut_ticket_id, source_import_id, production_date, inspection_date, shift, planned_qty, actual_qty, wip_start, wip_end, lot_number, shade_band, batch_number, downtime_minutes, downtime_reason, sam, operators_present, helpers_present, worked_minutes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING earned_minutes, efficiency', ('a35be751-735e-4246-bd7d-f00882be977d', 'c6c75e51-67ae-40ed-96c8-850d9a3d1651', '55dd608c-5030-49df-9f56-c4fa8b8d6382', None, None, '2026-01-05 00:00:00.000000', None, 'day', 500, 450, None, None, None, None, None, None, None, None, 10, 0, 4800.0, None, '9e3404ce-e476-4acc-bfbd-2b3e602f1dca', '2026-01-05 05:54:20.642458', '2026-01-05 05:54:20.642460')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FB85C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED3FB85C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB85C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3FB85C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40704C0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:54:20.643883', '92b00a8b-e38f-47ea-8f84-df869fc66d28', '2026-01-05 05:54:20.644719', '2026-01-05 05:54:20.644721'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40704C0>, 'INSERT INTO efficiency_metrics (production_run_id, efficiency_pct, sam_target, sam_actual, sam_variance, sam_variance_pct, capacity_utilization_pct, performance_tier, factory_avg_efficiency, line_avg_efficiency, calculated_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca', 85.5, 5000.0, 4500.0, None, None, None, None, None, None, '2026-01-05 05:54:20.643883', '92b00a8b-e38f-47ea-8f84-df869fc66d28', '2026-01-05 05:54:20.644719', '2026-01-05 05:54:20.644721')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40704C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40704C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071040>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a35be751-735e-4246-bd7d-f00882be977d', 'WK-001', 'High Performer', None, None, None, '55dd608c-5030-49df-9f56-c4fa8b8d6382', None, None, None, 'USD', 1, '04de918b-cd60-4ded-b391-0581e507d74f', '2026-01-05 05:54:20.648746', '2026-01-05 05:54:20.648748', 0, None, 'a35be751-735e-4246-bd7d-f00882be977d', 'WK-002', 'Low Performer', None, None, None, '55dd608c-5030-49df-9f56-c4fa8b8d6382', None, None, None, 'USD', 1, 'af1ae736-9dab-4468-8350-a0c1e95d42a6', '2026-01-05 05:54:20.648753', '2026-01-05 05:54:20.648753', 0, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4071040>, 'INSERT INTO workers (factory_id, employee_id, full_name, department, job_title, primary_skill, line_id, hire_date, termination_date, hourly_rate, currency, is_active, id, created_at, updated_at, is_deleted, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a35be751-735e-4246-bd7d-f00882be977d', 'WK-001', 'High Performer', None, None, None, '55dd608c-5030-49df-9f56-c4fa8b8d6382', None, None, None, 'USD', 1, '04de918b-cd60-4ded-b391-0581e507d74f', '2026-01-05 05:54:20.648746', '2026-01-05 05:54:20.648748', 0, None, 'a35be751-735e-4246-bd7d-f00882be977d', 'WK-002', 'Low Performer', None, None, None, '55dd608c-5030-49df-9f56-c4fa8b8d6382', None, None, None, 'USD', 1, 'af1ae736-9dab-4468-8350-a0c1e95d42a6', '2026-01-05 05:54:20.648753', '2026-01-05 05:54:20.648753', 0, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4071040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070940>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '9e3404ce-e476-4acc-bfbd-2b3e602f1dca', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'f697ce67-9ad4-47de-8e96-8032eeeda084', '2026-01-05 05:54:20.651104', '2026-01-05 05:54:20.651106'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070940>, 'INSERT INTO traceability_records (carton_id, fabric_lot_id, cut_ticket_id, production_run_id, compliance_standard, chain_of_custody, supporting_documents, verification_status, verified_by_id, verified_at, risk_score, risk_notes, notes, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, '9e3404ce-e476-4acc-bfbd-2b3e602f1dca', 'UFLPA', None, None, 'FLAGGED', None, None, None, 'Suspicious origin', None, 'f697ce67-9ad4-47de-8e96-8032eeeda084', '2026-01-05 05:54:20.651104', '2026-01-05 05:54:20.651106')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070D40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('04de918b-cd60-4ded-b391-0581e507d74f', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'd7d3da5b-1a73-4895-9799-fbaed9ec3d7b', '2026-01-05 05:54:20.652952', '2026-01-05 05:54:20.652954', 'af1ae736-9dab-4468-8350-a0c1e95d42a6', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, 'dc221a70-0752-44ed-a0fa-467d15212415', '2026-01-05 05:54:20.652958', '2026-01-05 05:54:20.652958'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070D40>, 'INSERT INTO worker_skills (worker_id, operation, operation_category, proficiency_pct, sam_achieved, efficiency_pct, defect_rate_pct, pieces_lifetime, pieces_30d, is_certified, certification_date, last_assessed, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('04de918b-cd60-4ded-b391-0581e507d74f', 'Sewing', None, None, None, 95.0, None, None, None, 0, None, None, 'd7d3da5b-1a73-4895-9799-fbaed9ec3d7b', '2026-01-05 05:54:20.652952', '2026-01-05 05:54:20.652954', 'af1ae736-9dab-4468-8350-a0c1e95d42a6', 'Sewing', None, None, None, 65.0, None, None, None, 0, None, None, 'dc221a70-0752-44ed-a0fa-467d15212415', '2026-01-05 05:54:20.652958', '2026-01-05 05:54:20.652958')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
------------------------------ Captured log call ------------------------------
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070C40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \\nFROM users \\nWHERE users.id = ? AND users.is_active = 1', ('a75d4982-2a21-4fc2-84ff-db270131b145',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED4070C40>, 'SELECT users.organization_id, users.email, users.hashed_password, users.full_name, users.avatar_url, users.timezone, users.preferences, users.role, users.is_active, users.is_verified, users.last_login, users.id, users.created_at, users.updated_at, users.is_deleted, users.deleted_at \\nFROM users \\nWHERE users.id = ? AND users.is_active = 1', ('a75d4982-2a21-4fc2-84ff-db270131b145',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070C40>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED4070C40>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070C40>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED4070C40>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D29C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \\nFROM dashboards \\nWHERE dashboards.user_id IN (?)', ('a75d4982-2a21-4fc2-84ff-db270131b145',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D29C0>, 'SELECT dashboards.user_id AS dashboards_user_id, dashboards.name AS dashboards_name, dashboards.description AS dashboards_description, dashboards.data_source_id AS dashboards_data_source_id, dashboards.widget_config AS dashboards_widget_config, dashboards.layout_config AS dashboards_layout_config, dashboards.id AS dashboards_id, dashboards.created_at AS dashboards_created_at, dashboards.updated_at AS dashboards_updated_at \\nFROM dashboards \\nWHERE dashboards.user_id IN (?)', ('a75d4982-2a21-4fc2-84ff-db270131b145',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D29C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D29C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D29C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D29C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D2140>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \\nFROM user_scopes \\nWHERE user_scopes.user_id IN (?)', ('a75d4982-2a21-4fc2-84ff-db270131b145',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D2140>, 'SELECT user_scopes.user_id AS user_scopes_user_id, user_scopes.scope_type AS user_scopes_scope_type, user_scopes.organization_id AS user_scopes_organization_id, user_scopes.factory_id AS user_scopes_factory_id, user_scopes.production_line_id AS user_scopes_production_line_id, user_scopes.role AS user_scopes_role, user_scopes.id AS user_scopes_id, user_scopes.created_at AS user_scopes_created_at, user_scopes.updated_at AS user_scopes_updated_at \\nFROM user_scopes \\nWHERE user_scopes.user_id IN (?)', ('a75d4982-2a21-4fc2-84ff-db270131b145',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D2140>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D2140>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D2140>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D2140>) completed\nINFO     app.api.v1.endpoints.analytics:analytics.py:71 [DIAG] get_overview_stats called with line_id=None\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D36C0>, 'SELECT count(production_events.id) AS count_1 \\nFROM production_events \\nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000'))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D36C0>, 'SELECT count(production_events.id) AS count_1 \\nFROM production_events \\nWHERE production_events.timestamp >= ? AND production_events.timestamp < ?', ('2026-01-05 00:00:00.000000', '2026-01-06 00:00:00.000000')) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D36C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D36C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D36C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D36C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3640>, 'SELECT count(production_runs.id) AS count_1 \\nFROM production_runs \\nWHERE date(production_runs.production_date) = ?', ('2026-01-05',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D3640>, 'SELECT count(production_runs.id) AS count_1 \\nFROM production_runs \\nWHERE date(production_runs.production_date) = ?', ('2026-01-05',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D3640>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D3640>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3640>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D3640>) completed\nINFO     app.api.v1.endpoints.analytics:analytics.py:103 [DIAG] Resolved effective_date=2026-01-05 (tz=UTC)\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D28C0>, 'SELECT count(production_runs.id) AS count_1 \\nFROM production_runs \\nWHERE production_runs.production_date = ?', ('2026-01-05',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D28C0>, 'SELECT count(production_runs.id) AS count_1 \\nFROM production_runs \\nWHERE production_runs.production_date = ?', ('2026-01-05',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D28C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D28C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D28C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D28C0>) completed\nINFO     app.api.v1.endpoints.analytics:analytics.py:115 [DIAG] Found 0 ProductionRuns for effective_date=2026-01-05, line_id=None\nWARNING  app.api.v1.endpoints.analytics:analytics.py:118 [DIAG] \u26a0\ufe0f NO PRODUCTION RUNS FOUND for date=2026-01-05, line_id=None. Dashboard widgets may show empty/mock data.\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D1840>, 'SELECT production_runs.factory_id, production_runs.order_id, production_runs.line_id, production_runs.cut_ticket_id, production_runs.source_import_id, production_runs.production_date, production_runs.inspection_date, production_runs.shift, production_runs.planned_qty, production_runs.actual_qty, production_runs.wip_start, production_runs.wip_end, production_runs.lot_number, production_runs.shade_band, production_runs.batch_number, production_runs.downtime_minutes, production_runs.downtime_reason, production_runs.sam, production_runs.operators_present, production_runs.helpers_present, production_runs.worked_minutes, production_runs.earned_minutes, production_runs.efficiency, production_runs.notes, production_runs.id, production_runs.created_at, production_runs.updated_at \\nFROM production_runs \\nWHERE date(production_runs.production_date) >= ? AND date(production_runs.production_date) <= ?', ('2026-01-05', '2026-01-05'))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED40D1840>, 'SELECT production_runs.factory_id, production_runs.order_id, production_runs.line_id, production_runs.cut_ticket_id, production_runs.source_import_id, production_runs.production_date, production_runs.inspection_date, production_runs.shift, production_runs.planned_qty, production_runs.actual_qty, production_runs.wip_start, production_runs.wip_end, production_runs.lot_number, production_runs.shade_band, production_runs.batch_number, production_runs.downtime_minutes, production_runs.downtime_reason, production_runs.sam, production_runs.operators_present, production_runs.helpers_present, production_runs.worked_minutes, production_runs.earned_minutes, production_runs.efficiency, production_runs.notes, production_runs.id, production_runs.created_at, production_runs.updated_at \\nFROM production_runs \\nWHERE date(production_runs.production_date) >= ? AND date(production_runs.production_date) <= ?', ('2026-01-05', '2026-01-05')) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D1840>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED40D1840>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D1840>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED40D1840>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41FFD40>, 'SELECT quality_inspections.production_run_id AS quality_inspections_production_run_id, quality_inspections.inspector_id AS quality_inspections_inspector_id, quality_inspections.inspection_type AS quality_inspections_inspection_type, quality_inspections.units_checked AS quality_inspections_units_checked, quality_inspections.defects_found AS quality_inspections_defects_found, quality_inspections.units_rejected AS quality_inspections_units_rejected, quality_inspections.units_reworked AS quality_inspections_units_reworked, quality_inspections.dhu AS quality_inspections_dhu, quality_inspections.defect_rate_pct AS quality_inspections_defect_rate_pct, quality_inspections.aql_level AS quality_inspections_aql_level, quality_inspections.aql_result AS quality_inspections_aql_result, quality_inspections.inspected_at AS quality_inspections_inspected_at, quality_inspections.notes AS quality_inspections_notes, quality_inspections.id AS quality_inspections_id, quality_inspections.created_at AS quality_inspections_created_at, quality_inspections.updated_at AS quality_inspections_updated_at \\nFROM quality_inspections \\nWHERE quality_inspections.production_run_id IN (?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED41FFD40>, 'SELECT quality_inspections.production_run_id AS quality_inspections_production_run_id, quality_inspections.inspector_id AS quality_inspections_inspector_id, quality_inspections.inspection_type AS quality_inspections_inspection_type, quality_inspections.units_checked AS quality_inspections_units_checked, quality_inspections.defects_found AS quality_inspections_defects_found, quality_inspections.units_rejected AS quality_inspections_units_rejected, quality_inspections.units_reworked AS quality_inspections_units_reworked, quality_inspections.dhu AS quality_inspections_dhu, quality_inspections.defect_rate_pct AS quality_inspections_defect_rate_pct, quality_inspections.aql_level AS quality_inspections_aql_level, quality_inspections.aql_result AS quality_inspections_aql_result, quality_inspections.inspected_at AS quality_inspections_inspected_at, quality_inspections.notes AS quality_inspections_notes, quality_inspections.id AS quality_inspections_id, quality_inspections.created_at AS quality_inspections_created_at, quality_inspections.updated_at AS quality_inspections_updated_at \\nFROM quality_inspections \\nWHERE quality_inspections.production_run_id IN (?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED41FFD40>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED41FFD40>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41FFD40>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED41FFD40>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED42373C0>, 'SELECT production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.worker_id AS production_outputs_worker_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \\nFROM production_outputs \\nWHERE production_outputs.production_run_id IN (?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED42373C0>, 'SELECT production_outputs.production_run_id AS production_outputs_production_run_id, production_outputs.worker_id AS production_outputs_worker_id, production_outputs.operation AS production_outputs_operation, production_outputs.pieces_completed AS production_outputs_pieces_completed, production_outputs.sam_earned AS production_outputs_sam_earned, production_outputs.minutes_worked AS production_outputs_minutes_worked, production_outputs.efficiency_pct AS production_outputs_efficiency_pct, production_outputs.recorded_at AS production_outputs_recorded_at, production_outputs.id AS production_outputs_id, production_outputs.created_at AS production_outputs_created_at, production_outputs.updated_at AS production_outputs_updated_at \\nFROM production_outputs \\nWHERE production_outputs.production_run_id IN (?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED42373C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED42373C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED42373C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED42373C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED42361C0>, 'SELECT production_events.production_run_id AS production_events_production_run_id, production_events.timestamp AS production_events_timestamp, production_events.event_type AS production_events_event_type, production_events.quantity AS production_events_quantity, production_events.line_id AS production_events_line_id, production_events.order_id AS production_events_order_id, production_events.style_id AS production_events_style_id, production_events.source_import_id AS production_events_source_import_id, production_events.raw_data AS production_events_raw_data, production_events.id AS production_events_id, production_events.created_at AS production_events_created_at, production_events.updated_at AS production_events_updated_at \\nFROM production_events \\nWHERE production_events.production_run_id IN (?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca',))\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED42361C0>, 'SELECT production_events.production_run_id AS production_events_production_run_id, production_events.timestamp AS production_events_timestamp, production_events.event_type AS production_events_event_type, production_events.quantity AS production_events_quantity, production_events.line_id AS production_events_line_id, production_events.order_id AS production_events_order_id, production_events.style_id AS production_events_style_id, production_events.source_import_id AS production_events_source_import_id, production_events.raw_data AS production_events_raw_data, production_events.id AS production_events_id, production_events.created_at AS production_events_created_at, production_events.updated_at AS production_events_updated_at \\nFROM production_events \\nWHERE production_events.production_run_id IN (?)', ('9e3404ce-e476-4acc-bfbd-2b3e602f1dca',)) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED42361C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED42361C0>) completed\nDEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED42361C0>)\nDEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED42361C0>) completed\nERROR    app.main:main.py:91 Unhandled exception: float() argument must be a string or a real number, not 'NoneType'\nTraceback (most recent call last):\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Python313\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\debug_toolbar\\middleware.py", line 72, in dispatch\n    return await call_next(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py", line 119, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py", line 105, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py", line 426, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\19803\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py", line 312, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\19803\\business\\FactoryExcelManager\\backend\\app\\api\\v1\\endpoints\\analytics.py", line 122, in get_overview_stats\n    current_stats = await analytics_service.get_aggregated_stats(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\19803\\business\\FactoryExcelManager\\backend\\app\\services\\analytics_service.py", line 145, in get_aggregated_stats\n    stats = self.aggregate_production_stats(logs)\n  File "C:\\Users\\19803\\business\\FactoryExcelManager\\backend\\app\\services\\analytics_service.py", line 68, in aggregate_production_stats\n    earned = cls.calculate_earned_minutes(qty, sam)\n  File "C:\\Users\\19803\\business\\FactoryExcelManager\\backend\\app\\services\\analytics_service.py", line 32, in calculate_earned_minutes\n    return float(produced_qty) * float(sam)\n                                 ~~~~~^^^^^\nTypeError: float() argument must be a string or a real number, not 'NoneType'
---------------------------- Captured log teardown ----------------------------
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F70140>, 'PRAGMA foreign_keys=OFF', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED3F70140>, 'PRAGMA foreign_keys=OFF', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F70140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED3F70140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC140>, "SELECT name FROM sqlite_master WHERE type='table'", ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC140>, "SELECT name FROM sqlite_master WHERE type='table'", ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000022ED58EC140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC240>, 'DROP TABLE IF EXISTS "ai_decisions"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC240>, 'DROP TABLE IF EXISTS "ai_decisions"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC0C0>, 'DROP TABLE IF EXISTS "alias_mappings"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC0C0>, 'DROP TABLE IF EXISTS "alias_mappings"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC7C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC7C0>, 'DROP TABLE IF EXISTS "efficiency_metrics"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC8C0>, 'DROP TABLE IF EXISTS "dhu_reports"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC8C0>, 'DROP TABLE IF EXISTS "dhu_reports"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC540>, 'DROP TABLE IF EXISTS "traceability_records"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC540>, 'DROP TABLE IF EXISTS "traceability_records"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC6C0>, 'DROP TABLE IF EXISTS "fabric_lots"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC6C0>, 'DROP TABLE IF EXISTS "fabric_lots"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC4C0>, 'DROP TABLE IF EXISTS "cut_tickets"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC4C0>, 'DROP TABLE IF EXISTS "cut_tickets"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC5C0>, 'DROP TABLE IF EXISTS "dashboards"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC5C0>, 'DROP TABLE IF EXISTS "dashboards"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC5C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC5C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC9C0>, 'DROP TABLE IF EXISTS "data_quality_issues"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC9C0>, 'DROP TABLE IF EXISTS "data_quality_issues"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED0C0>, 'DROP TABLE IF EXISTS "data_sources"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED0C0>, 'DROP TABLE IF EXISTS "data_sources"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED0C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED040>, 'DROP TABLE IF EXISTS "schema_mappings"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED040>, 'DROP TABLE IF EXISTS "schema_mappings"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECC40>, 'DROP TABLE IF EXISTS "production_events"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECC40>, 'DROP TABLE IF EXISTS "production_events"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECF40>, 'DROP TABLE IF EXISTS "factories"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECF40>, 'DROP TABLE IF EXISTS "factories"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECDC0>, 'DROP TABLE IF EXISTS "production_lines"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECDC0>, 'DROP TABLE IF EXISTS "production_lines"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECDC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECBC0>, 'DROP TABLE IF EXISTS "styles"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECBC0>, 'DROP TABLE IF EXISTS "styles"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC440>, 'DROP TABLE IF EXISTS "orders"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EC440>, 'DROP TABLE IF EXISTS "orders"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EC440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECAC0>, 'DROP TABLE IF EXISTS "production_runs"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ECAC0>, 'DROP TABLE IF EXISTS "production_runs"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECAC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ECAC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED340>, 'DROP TABLE IF EXISTS "quality_inspections"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED340>, 'DROP TABLE IF EXISTS "quality_inspections"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED3C0>, 'DROP TABLE IF EXISTS "defects"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED3C0>, 'DROP TABLE IF EXISTS "defects"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED3C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED3C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED4C0>, 'DROP TABLE IF EXISTS "raw_imports"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED4C0>, 'DROP TABLE IF EXISTS "raw_imports"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED640>, 'DROP TABLE IF EXISTS "staging_records"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED640>, 'DROP TABLE IF EXISTS "staging_records"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED6C0>, 'DROP TABLE IF EXISTS "packing_lists"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED6C0>, 'DROP TABLE IF EXISTS "packing_lists"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED840>, 'DROP TABLE IF EXISTS "cartons"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED840>, 'DROP TABLE IF EXISTS "cartons"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED8C0>, 'DROP TABLE IF EXISTS "organizations"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED8C0>, 'DROP TABLE IF EXISTS "organizations"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED8C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED9C0>, 'DROP TABLE IF EXISTS "users"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58ED9C0>, 'DROP TABLE IF EXISTS "users"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED9C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58ED9C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDB40>, 'DROP TABLE IF EXISTS "user_scopes"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDB40>, 'DROP TABLE IF EXISTS "user_scopes"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDB40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDB40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDCC0>, 'DROP TABLE IF EXISTS "workers"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDCC0>, 'DROP TABLE IF EXISTS "workers"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDBC0>, 'DROP TABLE IF EXISTS "worker_skills"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDBC0>, 'DROP TABLE IF EXISTS "worker_skills"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDBC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDE40>, 'DROP TABLE IF EXISTS "worker_attendances"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDE40>, 'DROP TABLE IF EXISTS "worker_attendances"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDE40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDEC0>, 'DROP TABLE IF EXISTS "production_outputs"', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDEC0>, 'DROP TABLE IF EXISTS "production_outputs"', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDEC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDFC0>, 'PRAGMA foreign_keys=ON', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022ED58EDFC0>, 'PRAGMA foreign_keys=ON', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDFC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022ED58EDFC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000022ED3A3D6C0>) completed
=========================== short test summary info ===========================
FAILED tests/test_api/test_analytics_real.py::test_get_overview_stats_real - TypeError: float() argument must be a string or a real number, not 'NoneType'
========================= 1 failed, 3 passed in 4.34s =========================
